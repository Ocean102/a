newnewnewnewnew
local a=function(...)
task.wait(0)
return Instance.new(...)
endnewlocal b={}
local cnewlocal function missing(d,e,f)
if type(e)==d then return e end
return f
endnewlocal d=missing("function",cloneref,function(...)return...end)
local e=setmetatable({},{
__index=function(e,f)
e[f]=d(game:GetService(f))
return e[f]
end
})newnew
local f=game
local g=workspace.Parentnewlocal aa={
Explorer=function()newnewnewnewlocal h,i,j,k
local l,m,n,o
local p,q,r,s,t,u,vnewlocal function initDeps(w)
h=w.Main
i=w.Lib
j=w.Apps
k=w.Settingsnewp=w.API
q=w.RMD
r=w.env
s=w.service
t=w.plr
u=w.create
v=w.createSimple
endnewlocal function initAfterMain()
l=j.Explorer
m=j.Properties
n=j.ScriptViewer
o=j.Notebook
endnewlocal function main()
local w={}local
x, y, z, A={}, {}, {}, {}
local B
local C,D,E,F,G,H
local I=g.FindFirstAncestorWhichIsA
local J=g.GetDescendants
local K=s.TextService.GetTextSize
local L,M=false,false
local N={Obj=a"Folder"}
local O=0
local P,Q,R
local S,T,U
local V,W
local X,Y=table,math
local Z,_={},{}
local aa=g.DescendantAdded.Connect
local ab,ac,adnewab=function(ae)
if b[ae]then return endnewlocal af=false
local ag=I(ae,"Instance")
local ah=b[ag]new
if not ah then
if Z[ae]then
_[ae]=_[ae]or{
aa(ae.ChildAdded,ab),
aa(ae.AncestryChanged,ad),
}
ah=N
af=true
else
return
end
elseif Z[ag]or ah==N then
Z[ae]=true
_[ae]=_[ae]or{
aa(ae.ChildAdded,ab),
aa(ae.AncestryChanged,ad),
}
af=true
endnewlocal ai={Obj=ae,Parent=ah}
b[ae]=ainew
if V and B[ah]and ah.Sorted then
local aj,ak=1,#ah
local al=Y.floor
local am=w.NodeSorter
local an=(ak==0 and 1)newif not an then
while true do
if aj>=ak then
if am(ai,ah[aj])then
an=aj
else
an=aj+1
end
break
endnewlocal ao=al((aj+ak)/2)
if am(ai,ah[ao])then
ak=ao-1
else
aj=ao+1
end
end
endnewX.insert(ah,an,ai)
else
ah[#ah+1]=ai
ah.Sorted=nil
endnewlocal aj=J(ae)
for ak=1,#aj do
local al=aj[ak]
if b[al]then continue endnewlocal am=b[I(al,"Instance")]
if not am then continue end
local an={Obj=al,Parent=am}
b[al]=an
am[#am+1]=annew
if af then
Z[al]=true
_[al]=_[al]or{
aa(al.ChildAdded,ab),
aa(al.AncestryChanged,ad),
}
end
endnewif U and W then
task.wait(0)
U{ai}
endnewif not L and w.IsNodeVisible(ah)then
if B[ah]then
w.PerformUpdate()
elseif not M then
w.PerformRefresh()
end
end
endnewac=function(ae)
local af=b[ae]
if not af then return endnew
if Z[af.Obj]then
ad(af.Obj)
return
endnewlocal ag=af.Parent
if ag then
ag.HasDel=true
endnewlocal function recur(ah)
for ai=1,#ah do
local aj=ah[ai]
if not aj.Del then
b[aj.Obj]=nil
if#aj>0 then recur(aj)end
end
end
end
recur(af)
af.Del=true
b[ae]=nilnewif ag and not L and w.IsNodeVisible(ag)then
if B[ag]then
w.PerformUpdate()
elseif not M then
w.PerformRefresh()
end
end
endnewad=function(ae)
local af=b[ae]
if not af then return endnewlocal ag=af.Parent
local ah=b[I(ae,"Instance")]
if ag==ah then return endnew
if not ah then
if Z[ae]then
ah=N
else
return
end
elseif Z[ah.Obj]or ah==N then
Z[ae]=true
_[ae]=_[ae]or{
aa(ae.ChildAdded,ab),
aa(ae.AncestryChanged,ad),
}
endnewif ag then
local ai=X.find(ag,af)
if ai then X.remove(ag,ai)end
endnewaf.Id=nil
af.Parent=ahnewif V and B[ah]and ah.Sorted then
local ai,aj=1,#ah
local ak=Y.floor
local al=w.NodeSorter
local am=(aj==0 and 1)newif not am then
while true do
if ai>=aj then
if al(af,ah[ai])then
am=ai
else
am=ai+1
end
break
endnewlocal an=ak((ai+aj)/2)
if al(af,ah[an])then
aj=an-1
else
ai=an+1
end
end
endnewX.insert(ah,am,af)
else
ah[#ah+1]=af
ah.Sorted=nil
endnewif U and A[af]then
local ai=af.Parent
while ai and(not A[ai]or B[ai]==0)do
task.wait(0)
B[ai]=true
A[ai]=true
ai=ai.Parent
end
endnewif not L and(w.IsNodeVisible(ah)or w.IsNodeVisible(ag))then
if B[ah]or B[ag]then
w.PerformUpdate()
elseif not M then
w.PerformRefresh()
end
end
endneww.ViewWidth=0
w.Index=0
w.EntryIndent=20
w.FreeWidth=32
w.GuiElems={}neww.InitRenameBox=function()
S=u{{1,"TextBox",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.062745101749897,0.51764708757401,1),BorderMode=2,ClearTextOnFocus=false,Font=3,Name="RenameBox",PlaceholderColor3=Color3.new(0.69803923368454,0.69803923368454,0.69803923368454),Position=UDim2.new(0,26,0,2),Size=UDim2.new(0,200,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,Visible=false,ZIndex=2}}}newS.Parent=w.Window.GuiElems.Content.ListnewS.FocusLost:Connect(function()
if not T then return endnewpcall(function()T.Obj.Name=S.Text end)
T=nil
w.Refresh()
end)newS.Focused:Connect(function()
S.SelectionStart=1
S.CursorPosition=#S.Text+1
end)
endneww.SetRenamingNode=function(ae)
T=ae
S.Text=tostring(ae.Obj)
S:CaptureFocus()
w.Refresh()
endneww.SetSortingEnabled=function(ae)
V=ae
k.Explorer.Sorting=ae
endneww.UpdateView=function()
local ae=Y.ceil(D.AbsoluteSize.Y/20)
local af=D.AbsoluteSize.X
local ag=w.ViewWidth+w.FreeWidthnewP.VisibleSpace=ae
P.TotalSpace=#x+1
Q.VisibleSpace=af
Q.TotalSpace=agnewP.Gui.Visible=#x+1>ae
Q.Gui.Visible=ag>afnewlocal ah=D.Size
D.Size=UDim2.new(1,(P.Gui.Visible and-16 or 0),1,(Q.Gui.Visible and-39 or-23))
if ah~=D.Size then
w.UpdateView()
else
P:Update()
Q:Update()newS.Size=UDim2.new(0,af-100,0,16)newif P.Gui.Visible and Q.Gui.Visible then
P.Gui.Size=UDim2.new(0,16,1,-39)
Q.Gui.Size=UDim2.new(1,-16,0,16)
w.Window.GuiElems.Content.ScrollCorner.Visible=true
else
P.Gui.Size=UDim2.new(0,16,1,-23)
Q.Gui.Size=UDim2.new(1,0,0,16)
w.Window.GuiElems.Content.ScrollCorner.Visible=false
endneww.Index=P.Index
end
endneww.NodeSorter=function(ae,af)
if ae.Del or af.Del then return false endnewlocal ag=ae.Class
local ah=af.Class
if not ag then ag=ae.Obj.ClassName ae.Class=ag end
if not ah then ah=af.Obj.ClassName af.Class=ah endnewlocal ai=z[ag]
local aj=z[ah]
if not ai then ai=q.Classes[ag]and tonumber(q.Classes[ag].ExplorerOrder)or 9999 z[ag]=ai end
if not aj then aj=q.Classes[ah]and tonumber(q.Classes[ah].ExplorerOrder)or 9999 z[ah]=aj endnewif ai~=aj then
return ai<aj
else
local ak,al=tostring(ae.Obj),tostring(af.Obj)
if ak~=al then
return ak<al
elseif ag~=ah then
return ag<ah
else
local am=ae.Id if not am then am=O O=(O+0.001)%999999999 ae.Id=am end
local an=af.Id if not an then an=O O=(O+0.001)%999999999 af.Id=an end
return am<an
end
end
endneww.Update=function()
X.clear(x)
local ae,af,ag=0,1,1
local ah={}
local ai=Enum.Font.SourceSans
local aj=Vector2.new(Y.huge,20)
local ak=k.Explorer.UseNameWidth
local al=X.sort
local am=w.NodeSorter
local an=(B==w.SearchExpanded)
local ao=s.TextServicenewlocal function recur(ap,aq)
if aq>af then af=aq end
aq=aq+1
if V and not ap.Sorted then
al(ap,am)
ap.Sorted=true
end
for ar=1,#ap do
local as=ap[ar]newif(an and not A[as])or as.Del then continue endnewif ak then
local at=as.NameWidth
if not at then
local au=tostring(as.Obj)
at=ah[au]
if not at then
at=K(ao,au,14,ai,aj).X
ah[au]=at
end
as.NameWidth=at
end
if at>ae then
ae=at
end
endnewx[ag]=as
ag=ag+1
if B[as]and#as>0 then
recur(as,aq)
end
end
endnewrecur(b[g],1)new
if r.getnilinstances then
if not(an and not A[N])then
x[ag]=N
ag=ag+1
if B[N]then
recur(N,2)
end
end
endneww.MaxNameWidth=ae
w.MaxDepth=af
w.ViewWidth=ak and w.EntryIndent*af+ae+26 or w.EntryIndent*af+226
w.UpdateView()
endneww.StartDrag=function(ae,af)
if w.Dragging then return end
for ag,ah in next,c.List do
local ai=ah.Obj
if ai.Parent==g or ai:IsA"Player"then
return
end
end
w.Dragging=truenewlocal ag=D:Clone()
ag:ClearAllChildren()newfor ah,ai in pairs(y)do
local aj=x[ah+w.Index]
if aj and c.Map[aj]then
local ak=ai:Clone()
ak.Active=false
ak.Indent.Expand.Visible=false
ak.Parent=ag
end
endnewlocal ah=a"ScreenGui"
ah.DisplayOrder=h.DisplayOrders.Menu
ag.Parent=ah
i.ShowGui(ah)newlocal ai=u{
{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="DragSelect",Size=UDim2.new(1,0,1,0),}},
{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Size=UDim2.new(1,0,0,1),ZIndex=2,}},
{3,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Position=UDim2.new(0,0,1,-1),Size=UDim2.new(1,0,0,1),ZIndex=2,}},
{4,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Size=UDim2.new(0,1,1,0),ZIndex=2,}},
{5,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Position=UDim2.new(1,-1,0,0),Size=UDim2.new(0,1,1,0),ZIndex=2,}},
}
ai.Parent=Dnewlocal aj=h.Mouse or s.Players.LocalPlayer:GetMouse()
local function move()
local ak=aj.X-ae
local al=aj.Y-af
ag.Position=UDim2.new(0,ak,0,al)newfor am=1,#y do
local an=y[am]
if i.CheckMouseInGui(an)then
ai.Position=UDim2.new(0,an.Indent.Position.X.Offset-Q.Index,0,an.Position.Y.Offset)
ai.Size=UDim2.new(0,an.Size.X.Offset-an.Indent.Position.X.Offset,0,20)
ai.Visible=true
return
end
end
ai.Visible=false
end
move()newlocal ak=s.UserInputService
local al,amnewal=ak.InputChanged:Connect(function(an)
if an.UserInputType==Enum.UserInputType.MouseMovement or an.UserInputType==Enum.UserInputType.Touch then
move()
end
end)newam=ak.InputEnded:Connect(function(an)
if an.UserInputType==Enum.UserInputType.MouseButton1 or an.UserInputType==Enum.UserInputType.Touch then
am:Disconnect()
al:Disconnect()
ah:Destroy()
ai:Destroy()
w.Dragging=falsenewfor ao=1,#y do
if i.CheckMouseInGui(y[ao])then
local ap=x[ao+w.Index]
if ap then
if c.Map[ap]then return end
local aq=ap.Obj
local ar=c.List
for as=1,#ar do
local at=ar[as]
pcall(function()at.Obj.Parent=aq end)
end
w.ViewNode(ar[1])
end
break
end
end
end
end)
endneww.NewListEntry=function(ae)
local af=C:Clone()
af.Position=UDim2.new(0,0,0,20*(ae-1))newlocal ag=falsenewaf.InputBegan:Connect(function(ah)
local ai=x[ae+w.Index]
if not ai or c.Map[ai]or(ah.UserInputType~=Enum.UserInputType.MouseMovement and ah.UserInputType~=Enum.UserInputType.Touch)then return endnewaf.Indent.BackgroundColor3=k.Theme.Button
af.Indent.BorderSizePixel=0
af.Indent.BackgroundTransparency=0
end)newaf.InputEnded:Connect(function(ah)
local ai=x[ae+w.Index]
if not ai or c.Map[ai]or(ah.UserInputType~=Enum.UserInputType.MouseMovement and ah.UserInputType~=Enum.UserInputType.Touch)then return endnewaf.Indent.BackgroundTransparency=1
end)newaf.MouseButton1Down:Connect(function()newend)newaf.MouseButton1Up:Connect(function()newend)newaf.InputBegan:Connect(function(ah)
if ah.UserInputType==Enum.UserInputType.MouseButton1 or ah.UserInputType==Enum.UserInputType.Touch then
local ai,ajnewlocal ak=h.Mouse or t:GetMouse()
local al,amnewif ah.UserInputType==Enum.UserInputType.Touch then
al=ah.Position.X
am=ah.Position.Y
else
al=ak.X
am=ak.Y
endnewlocal an=al-D.AbsolutePosition.X
local ao=am-D.AbsolutePosition.Ynewai=s.UserInputService.InputEnded:Connect(function(ap)
if ap.UserInputType==Enum.UserInputType.MouseButton1 or ap.UserInputType==Enum.UserInputType.Touch then
ai:Disconnect()
aj:Disconnect()
end
end)newaj=s.UserInputService.InputChanged:Connect(function(ap)
if ap.UserInputType==Enum.UserInputType.MouseMovement or ap.UserInputType==Enum.UserInputType.Touch then
local aq,arnewif ap.UserInputType==Enum.UserInputType.Touch then
aq=ap.Position.X
ar=ap.Position.Y
else
aq=ak.X
ar=ak.Y
endnewlocal as=aq-al
local at=ar-am
local au=Y.sqrt(as^2+at^2)newif au>5 then
ai:Disconnect()
aj:Disconnect()
ag=false
w.StartDrag(an,ao)
end
end
end)
end
end)newaf.MouseButton2Down:Connect(function()newend)newaf.Indent.Expand.InputBegan:Connect(function(ah)
local ai=x[ae+w.Index]
if not ai or(ah.UserInputType~=Enum.UserInputType.MouseMovement and ah.UserInputType~=Enum.UserInputType.Touch)then return endnewif ah.UserInputType==Enum.UserInputType.Touch then
w.MiscIcons:DisplayByKey(af.Indent.Expand.Icon,B[ai]and"Collapse_Over"or"Expand_Over")
elseif ah.UserInputType==Enum.UserInputType.MouseMovement then
w.MiscIcons:DisplayByKey(af.Indent.Expand.Icon,B[ai]and"Collapse_Over"or"Expand_Over")
end
end)newaf.Indent.Expand.InputEnded:Connect(function(ah)
local ai=x[ae+w.Index]
if not ai or(ah.UserInputType~=Enum.UserInputType.MouseMovement and ah.UserInputType~=Enum.UserInputType.Touch)then return endnewif ah.UserInputType==Enum.UserInputType.Touch then
w.MiscIcons:DisplayByKey(af.Indent.Expand.Icon,B[ai]and"Collapse"or"Expand")
elseif ah.UserInputType==Enum.UserInputType.MouseMovement then
w.MiscIcons:DisplayByKey(af.Indent.Expand.Icon,B[ai]and"Collapse"or"Expand")
end
end)newaf.Indent.Expand.MouseButton1Down:Connect(function()
local ah=x[ae+w.Index]
if not ah or#ah==0 then return endnewB[ah]=not B[ah]
w.Update()
w.Refresh()
end)newaf.Parent=D
return af
endneww.Refresh=function()
local ae=Y.max(Y.ceil((D.AbsoluteSize.Y)/20),0)
local af=false local ag=
g.IsAnewfor ah=1,ae do
local ai=y[ah]
if not y[ah]then ai=w.NewListEntry(ah)y[ah]=ai w.ClickSystem:Add(ai)endnewlocal aj=x[ah+w.Index]
if aj then
local ak=aj.Obj
local al=w.EntryIndent*w.NodeDepth(aj)newai.Visible=true
ai.Position=UDim2.new(0,-Q.Index,0,ai.Position.Y.Offset)
ai.Size=UDim2.new(0,w.ViewWidth,0,20)
ai.Indent.EntryName.Text=tostring(aj.Obj)
ai.Indent.Position=UDim2.new(0,al,0,0)
ai.Indent.Size=UDim2.new(1,-al,1,0)newai.Indent.EntryName.TextTruncate=(k.Explorer.UseNameWidth and Enum.TextTruncate.None or Enum.TextTruncate.AtEnd)neww.MiscIcons:DisplayExplorerIcons(ai.Indent.Icon,ak.ClassName)newif c.Map[aj]then
ai.Indent.BackgroundColor3=k.Theme.ListSelection
ai.Indent.BorderSizePixel=0
ai.Indent.BackgroundTransparency=0
else
if i.CheckMouseInGui(ai)then
ai.Indent.BackgroundColor3=k.Theme.Button
else
ai.Indent.BackgroundTransparency=1
end
endnewif aj==T then
af=true
S.Position=UDim2.new(0,al+25-Q.Index,0,ai.Position.Y.Offset+2)
S.Visible=true
endnewif#aj>0 and B[aj]~=0 then
if i.CheckMouseInGui(ai.Indent.Expand)then
w.MiscIcons:DisplayByKey(ai.Indent.Expand.Icon,B[aj]and"Collapse_Over"or"Expand_Over")
else
w.MiscIcons:DisplayByKey(ai.Indent.Expand.Icon,B[aj]and"Collapse"or"Expand")
end
ai.Indent.Expand.Visible=true
else
ai.Indent.Expand.Visible=false
end
else
ai.Visible=false
end
endnewif not af then
S.Visible=false
endnewfor ah=ae+1,#y do
w.ClickSystem:Remove(y[ah])
y[ah]:Destroy()
y[ah]=nil
end
endneww.PerformUpdate=function(ae)
L=true
i.FastWait(not ae and 0.1)
if not L then return end
L=false
if not w.Window:IsVisible()then return end
w.Update()
w.Refresh()
endneww.ForceUpdate=function(ae)
L=false
w.Update()
if not ae then w.Refresh()end
endneww.PerformRefresh=function()
M=true
i.FastWait(0.1)
M=false
if L or not w.Window:IsVisible()then return end
w.Refresh()
endneww.IsNodeVisible=function(ae)
if not ae then return endnewlocal af=ae.Parent
while af do
if not B[af]then return false end
af=af.Parent
end
return true
endneww.NodeDepth=function(ae)
local af=0newif ae==N then
return 1
endnewlocal ag=ae.Parent
while ag do
if ag==N then af=af+1 end
ag=ag.Parent
af=af+1
end
return af
endneww.SetupConnections=function()
if F then F:Disconnect()end
if G then G:Disconnect()end
if H then H:Disconnect()endnewif h.Elevated then
F=g.DescendantAdded:Connect(ab)
G=g.DescendantRemoving:Connect(ac)
else
F=g.DescendantAdded:Connect(function(ae)pcall(ab,ae)end)
G=g.DescendantRemoving:Connect(function(ae)pcall(ac,ae)end)
endnewif k.Explorer.UseNameWidth then
H=g.ItemChanged:Connect(function(ae,af)
if af=="Parent"and b[ae]then
ad(ae)
elseif af=="Name"and b[ae]then
b[ae].NameWidth=nil
end
end)
else
H=g.ItemChanged:Connect(function(ae,af)
if af=="Parent"and b[ae]then
ad(ae)
end
end)
end
endneww.ViewNode=function(ae)
if not ae then return endneww.MakeNodeVisible(ae)
w.ForceUpdate(true)
local af=P.VisibleSpacenewfor ag,ah in next,x do
if ah==ae then
local ai=ag-1
if w.Index>ai then
P.Index=ai
elseif w.Index+af-1<=ai then
P.Index=ai-af+2
end
end
endnewP:Update()w.Index=P.Index
w.Refresh()
endneww.ViewObj=function(ae)
w.ViewNode(b[ae])
endneww.MakeNodeVisible=function(ae,af)
if not ae then return endnewlocal ag=falsenewif af and not B[ae]then
B[ae]=true
ag=true
endnewlocal ah=ae.Parent
while ah do
ag=true
B[ah]=true
ah=ah.Parent
endnewif ag and not L then
coroutine.wrap(w.PerformUpdate)(true)
end
endneww.ShowRightClick=function(ae)
local af=ae or h.Mouse
local ag=w.RightClickContext
local ah=ag.Gui.AbsoluteSize
ag.MaxHeight=(ah.Y<=600 and(ah.Y-40))or nil
ag:Clear()newlocal ai=c.List
local aj=c.Map
local ak=#R==0
local al={}
local am=p.Classesnewfor an=1,#ai do
local ao=ai[an]
local ap=ao.Class
local aq=ao.Objnewif not al.isViableDecompileScript then
al.isViableDecompileScript=r.isViableDecompileScript(aq)
end
if not ap then
ap=aq.ClassName
ao.Class=ap
endnewlocal ar=am[ap]
while ar and not al[ar.Name]do
al[ar.Name]=true
ar=ar.Superclass
end
endnewag:AddRegistered"CUT"
ag:AddRegistered"COPY"
ag:AddRegistered("PASTE",ak)
ag:AddRegistered"DUPLICATE"
ag:AddRegistered"DELETE"
ag:AddRegistered("RENAME",#ai~=1)newag:AddDivider()
ag:AddRegistered"GROUP"
ag:AddRegistered"UNGROUP"
ag:AddRegistered"SELECT_CHILDREN"
ag:AddRegistered"JUMP_TO_PARENT"
ag:AddRegistered"EXPAND_ALL"
ag:AddRegistered"COLLAPSE_ALL"newag:AddDivider()newif B==w.SearchExpanded then ag:AddRegistered"CLEAR_SEARCH_AND_JUMP_TO"end
if r.setclipboard then ag:AddRegistered"COPY_PATH"end
ag:AddRegistered"INSERT_OBJECT"newnewnew
ag:QueueDivider()newif al.BasePart or al.Model then
ag:AddRegistered"TELEPORT_TO"
ag:AddRegistered"VIEW_OBJECT"
end
if al.Tween then ag:AddRegistered"PLAY_TWEEN"end
if al.Animation then
ag:AddRegistered"LOAD_ANIMATION"
ag:AddRegistered"STOP_ANIMATION"
endnewif al.TouchTransmitter then ag:AddRegistered("FIRE_TOUCHTRANSMITTER",firetouchinterest==nil)end
if al.ClickDetector then ag:AddRegistered("FIRE_CLICKDETECTOR",fireclickdetector==nil)end
if al.ProximityPrompt then ag:AddRegistered("FIRE_PROXIMITYPROMPT",fireproximityprompt==nil)endnewif al.Player then ag:AddRegistered"SELECT_CHARACTER"ag:AddRegistered"VIEW_PLAYER"end
if al.Players then
ag:AddRegistered"SELECT_LOCAL_PLAYER"
ag:AddRegistered"SELECT_ALL_CHARACTERS"
endnewif al.LuaSourceContainer then
ag:AddRegistered("VIEW_SCRIPT",not al.isViableDecompileScript or r.decompile==nil)
ag:AddRegistered("SAVE_SCRIPT",not al.isViableDecompileScript or r.decompile==nil or r.writefile==nil)
ag:AddRegistered("SAVE_BYTECODE",not al.isViableDecompileScript or r.getscriptbytecode==nil or r.writefile==nil)
endnewif aj[N]then
ag:AddRegistered"REFRESH_NIL"
ag:AddRegistered"HIDE_NIL"
endneww.LastRightClickX,w.LastRightClickY=af.X,af.Y
ag:Show(af.X,af.Y)
endneww.InitRightClick=function()
local ae=i.ContextMenu.new()newae:Register("CUT",{Name="Cut",IconMap=w.MiscIcons,Icon="Cut",DisabledIcon="Cut_Disabled",Shortcut="Ctrl+Z",OnClick=function()
local af,ag=g.Destroy,g.Clone
local ah,ai=c.List,{}
local aj=1
for ak=1,#ah do
local al=ah[ak].Obj
local am,an=pcall(ag,al)
if am and an then
ai[aj]=an
aj=aj+1
end
pcall(af,al)
end
R=ai
c:Clear()
end})newae:Register("COPY",{Name="Copy",IconMap=w.MiscIcons,Icon="Copy",DisabledIcon="Copy_Disabled",Shortcut="Ctrl+C",OnClick=function()
local af=g.Clone
local ag,ah=c.List,{}
local ai=1
for aj=1,#ag do
local ak=ag[aj].Obj
local al,am=pcall(af,ak)
if al and am then
ah[ai]=am
ai=ai+1
end
end
R=ah
end})newae:Register("PASTE",{Name="Paste Into",IconMap=w.MiscIcons,Icon="Paste",DisabledIcon="Paste_Disabled",Shortcut="Ctrl+Shift+V",OnClick=function()
local af=c.List
local ag={}
local ah=1
for ai=1,#af do
local aj=af[ai]
local ak=aj.Obj
w.MakeNodeVisible(aj,true)
for al=1,#R do
local am=R[al]:Clone()
if am then
am.Parent=ak
local an=b[am]
if an then ag[ah]=an ah=ah+1 end
end
end
end
c:SetTable(ag)newif#ag>0 then
w.ViewNode(ag[1])
end
end})newae:Register("DUPLICATE",{Name="Duplicate",IconMap=w.MiscIcons,Icon="Copy",DisabledIcon="Copy_Disabled",Shortcut="Ctrl+D",OnClick=function()
local af=g.Clone
local ag=c.List
local ah={}
local ai=1
for aj=1,#ag do
local ak=ag[aj]
local al=ak.Obj
local am=ak.Parent and ak.Parent.Obj
w.MakeNodeVisible(ak)
local an,ao=pcall(af,al)
if an and ao then
ao.Parent=am
local ap=b[ao]
if ap then ah[ai]=ap ai=ai+1 end
end
endnewc:SetTable(ah)
if#ah>0 then
w.ViewNode(ah[1])
end
end})newae:Register("DELETE",{Name="Delete",IconMap=w.MiscIcons,Icon="Delete",DisabledIcon="Delete_Disabled",Shortcut="Del",OnClick=function()
local af=g.Destroy
local ag=c.List
for ah=1,#ag do
pcall(af,ag[ah].Obj)
end
c:Clear()
end})newae:Register("RENAME",{Name="Rename",IconMap=w.MiscIcons,Icon="Rename",DisabledIcon="Rename_Disabled",Shortcut="F2",OnClick=function()
local af=c.List
if af[1]then
w.SetRenamingNode(af[1])
end
end})newae:Register("GROUP",{Name="Group",IconMap=w.MiscIcons,Icon="Group",DisabledIcon="Group_Disabled",Shortcut="Ctrl+G",OnClick=function()
local af=c.List
if#af==0 then return endnewlocal ag=a("Model",af[#af].Obj.Parent)
for ah=1,#af do
pcall(function()af[ah].Obj.Parent=ag end)
endnewif b[ag]then
c:Set(b[ag])
w.ViewNode(b[ag])
end
end})newae:Register("UNGROUP",{Name="Ungroup",IconMap=w.MiscIcons,Icon="Ungroup",DisabledIcon="Ungroup_Disabled",Shortcut="Ctrl+U",OnClick=function()
local af={}
local ag=1
local ah=g.IsAnewlocal function ungroup(ai)
local aj=ai.Parent.Obj
local ak={}
local al=1newfor am=1,#ai do
local an=ai[am]
af[ag]=an
ak[al]=an
ag=ag+1
al=al+1
endnewfor am=1,#ak do
pcall(function()ak[am].Obj.Parent=aj end)
endnewai.Obj:Destroy()
endnewfor ai,aj in next,c.List do
if ah(aj.Obj,"Model")then
ungroup(aj)
end
endnewc:SetTable(af)
if#af>0 then
w.ViewNode(af[1])
end
end})newae:Register("SELECT_CHILDREN",{Name="Select Children",IconMap=w.MiscIcons,Icon="SelectChildren",DisabledIcon="SelectChildren_Disabled",OnClick=function()
local af={}
local ag=1
local ah=c.Listnewfor ai=1,#ah do
local aj=ah[ai]
for ak=1,#aj do
local al=aj[ak]
if ak==1 then w.MakeNodeVisible(al)endnewaf[ag]=al
ag=ag+1
end
endnewc:SetTable(af)
if#af>0 then
w.ViewNode(af[1])
else
w.Refresh()
end
end})newae:Register("JUMP_TO_PARENT",{Name="Jump to Parent",IconMap=w.MiscIcons,Icon="JumpToParent",OnClick=function()
local af={}
local ag=1
local ah=c.Listnewfor ai=1,#ah do
local aj=ah[ai]
if aj.Parent then
af[ag]=aj.Parent
ag=ag+1
end
endnewc:SetTable(af)
if#af>0 then
w.ViewNode(af[1])
else
w.Refresh()
end
end})newae:Register("TELEPORT_TO",{Name="Teleport To",IconMap=w.MiscIcons,Icon="TeleportTo",OnClick=function()
local af=c.List
local ag=t.Character and t.Character:FindFirstChild"HumanoidRootPart"newif not ag then return endnewfor ah,ai in next,af do
local aj=ai.Objnewif aj:IsA"BasePart"then
if aj.CanCollide then
t.Character:MoveTo(aj.Position)
else
ag.CFrame=CFrame.new(aj.Position+k.Explorer.TeleportToOffset)
end
break
elseif aj:IsA"Model"then
if aj.PrimaryPart then
if aj.PrimaryPart.CanCollide then
t.Character:MoveTo(aj.PrimaryPart.Position)
else
ag.CFrame=CFrame.new(aj.PrimaryPart.Position+k.Explorer.TeleportToOffset)
end
break
else
local ak=aj:FindFirstChildWhichIsA("BasePart",true)
if ak and b[ak]then
if ak.CanCollide then
t.Character:MoveTo(ak.Position)
else
ag.CFrame=CFrame.new(ak.Position+k.Explorer.TeleportToOffset)
end
break
elseif aj.WorldPivot then
ag.CFrame=aj.WorldPivot
end
end
end
end
end})new
ae:Register("PLAY_TWEEN",{Name="Play Tween",IconMap=w.MiscIcons,Icon="Play",OnClick=function()
local af=c.Listnewfor ag=1,#af do
local ah=af[ag]
local ai=ah.Objnewif ai:IsA"Tween"then ai:Play()end
end
end})newlocal af
ae:Register("LOAD_ANIMATION",{Name="Load Animation",IconMap=w.MiscIcons,Icon="Play",OnClick=function()
local ag=c.Listnewlocal ah=t.Character and t.Character:FindFirstChild"Humanoid"
if not ah then return endnewfor ai=1,#ag do
local aj=ag[ai]
local ak=aj.Objnewif ak:IsA"Animation"then
if af then af:Stop()end
af=ah:LoadAnimation(ak)
af:Play()
break
end
end
end})newae:Register("STOP_ANIMATION",{Name="Stop Animation",IconMap=w.MiscIcons,Icon="Pause",OnClick=function()
local ag=c.Listnewlocal ah=t.Character and t.Character:FindFirstChild"Humanoid"
if not ah then return endnewfor ai=1,#ag do
local aj=ag[ai]
local ak=aj.Objnewif ak:IsA"Animation"then
if af then af:Stop()end
ah:LoadAnimation(ak):Stop()
break
end
end
end})newae:Register("EXPAND_ALL",{Name="Expand All",OnClick=function()
local ag=c.Listnewlocal function expand(ah)
B[ah]=true
for ai=1,#ah do
if#ah[ai]>0 then
expand(ah[ai])
end
end
endnewfor ah=1,#ag do
expand(ag[ah])
endneww.ForceUpdate()
end})newae:Register("COLLAPSE_ALL",{Name="Collapse All",OnClick=function()
local ag=c.Listnewlocal function expand(ah)
B[ah]=nil
for ai=1,#ah do
if#ah[ai]>0 then
expand(ah[ai])
end
end
endnewfor ah=1,#ag do
expand(ag[ah])
endneww.ForceUpdate()
end})newae:Register("CLEAR_SEARCH_AND_JUMP_TO",{Name="Clear Search and Jump to",OnClick=function()
task.wait(0)newlocal ag={}
local ah=1
local ai=c.Listnewtask.wait(0)newfor aj=1,#ai do
ag[ah]=ai[aj]
ah=ah+1
endnewtask.wait(0)newc:SetTable(ag)
w.ClearSearch()newtask.wait(0)newif#ag>0 then
w.ViewNode(ag[1])
end
end})new
local ag=function(ag)
if ag:sub(1,28)=="game:GetService(\"Workspace\")"then ag=ag:gsub("game:GetService%(\"Workspace\"%)","workspace",1)end
if ag:sub(1,27+#t.Name)=="game:GetService(\"Players\")."..t.Name then ag=ag:gsub("game:GetService%(\"Players\"%)."..t.Name,"game:GetService(\"Players\").LocalPlayer",1)end
return ag
endnewae:Register("COPY_PATH",{Name="Copy Path",IconMap=w.ClassIcons,Icon=50,OnClick=function()
local ah=c.List
if#ah==1 then
r.setclipboard(ag(w.GetInstancePath(ah[1].Obj)))
elseif#ah>1 then
local ai={"{"}
local aj=2
for ak=1,#ah do
local al="\t"..ag(w.GetInstancePath(ah[ak].Obj))..","
if#al>0 then
ai[aj]=al
aj=aj+1
end
end
ai[aj]="}"
r.setclipboard(X.concat(ai,"\n"))
end
end})newae:Register("INSERT_OBJECT",{Name="Insert Object",IconMap=w.MiscIcons,Icon="InsertObject",OnClick=function()
local ah=h.Mouse
local ai,aj=w.LastRightClickX or ah.X,w.LastRightClickY or ah.Y
w.InsertObjectContext:Show(ai,aj)
end})newnewnewnewnewnewnewnewnewnewnewae:Register("VIEW_OBJECT",{Name="View Object (Right click to reset)",IconMap=w.ClassIcons,Icon=5,OnClick=function()
local ah=c.List
local ai=g.IsAnewfor aj=1,#ah do
local ak=ah[aj]newif ai(ak.Obj,"BasePart")or ai(ak.Obj,"Model")then
workspace.CurrentCamera.CameraSubject=ak.Obj
break
end
end
end,OnRightClick=function()
workspace.CurrentCamera.CameraSubject=t.Character
end})newae:Register("FIRE_TOUCHTRANSMITTER",{Name="Fire TouchTransmitter",IconMap=w.ClassIcons,Icon=37,OnClick=function()
local ah=t.Character and t.Character:FindFirstChild"HumanoidRootPart"
if not ah then return end
for ai,aj in ipairs(c.List)do if aj.Obj and aj.Obj:IsA"TouchTransmitter"then firetouchinterest(ah,aj.Obj.Parent,0)end end
end})newae:Register("FIRE_CLICKDETECTOR",{Name="Fire ClickDetector",IconMap=w.ClassIcons,Icon=41,OnClick=function()
local ah=t.Character and t.Character:FindFirstChild"HumanoidRootPart"
if not ah then return end
for ai,aj in ipairs(c.List)do if aj.Obj and aj.Obj:IsA"ClickDetector"then fireclickdetector(aj.Obj)end end
end})newae:Register("FIRE_PROXIMITYPROMPT",{Name="Fire ProximityPrompt",IconMap=w.ClassIcons,Icon=124,OnClick=function()
local ah=t.Character and t.Character:FindFirstChild"HumanoidRootPart"
if not ah then return end
for ai,aj in ipairs(c.List)do if aj.Obj and aj.Obj:IsA"ProximityPrompt"then fireproximityprompt(aj.Obj)end end
end})newae:Register("VIEW_SCRIPT",{Name="View Script",IconMap=w.MiscIcons,Icon="ViewScript",OnClick=function()
local ah=c.List[1]and c.List[1].Obj
if ah then n.ViewScript(ah)end
end})newae:Register("SAVE_SCRIPT",{Name="Save Script",IconMap=w.MiscIcons,Icon="Save",OnClick=function()
for ah,ai in next,c.List do
if ai.Obj:IsA"LuaSourceContainer"and r.isViableDecompileScript(ai.Obj)then
local aj,ak=pcall(r.decompile,ai.Obj)
if not aj or not ak then ak=("-- DEX - %s failed to decompile %s"):format(r.executor,ai.Obj.ClassName)end
local al=("%i.%s.%s.Source.txt"):format(g.PlaceId,ai.Obj.ClassName,r.parsefile(ai.Obj.Name))
r.writefile(al,ak)
task.wait(0.2)
end
end
end})newae:Register("SAVE_BYTECODE",{Name="Save Script Bytecode",IconMap=w.MiscIcons,Icon="Save",OnClick=function()
for ah,ai in next,c.List do
if ai.Obj:IsA"LuaSourceContainer"and r.isViableDecompileScript(ai.Obj)then
local aj,ak=pcall(getscriptbytecode,ai.Obj)
if aj and type(ak)=="string"then
local al=("%i.%s.%s.Bytecode.txt"):format(g.PlaceId,ai.Obj.ClassName,r.parsefile(ai.Obj.Name))
r.writefile(al,ak)
task.wait(0.2)
end
end
end
end})newae:Register("SELECT_CHARACTER",{Name="Select Character",IconMap=w.ClassIcons,Icon=9,OnClick=function()
local ah={}
local ai=1
local aj=c.List
local ak=g.IsAnewfor al=1,#aj do
local am=aj[al]
if ak(am.Obj,"Player")and b[am.Obj.Character]then
ah[ai]=b[am.Obj.Character]
ai=ai+1
end
endnewc:SetTable(ah)
if#ah>0 then
w.ViewNode(ah[1])
else
w.Refresh()
end
end})newae:Register("VIEW_PLAYER",{Name="View Player",IconMap=w.ClassIcons,Icon=5,OnClick=function()new
local ah=c.List local ai=
g.IsAnewfor aj=1,#ah do
local ak=ah[aj]
local al=ak.Obj
if al:IsA"Player"and al.Character then
workspace.CurrentCamera.CameraSubject=al.Character
break
end
end
end})newae:Register("SELECT_LOCAL_PLAYER",{Name="Select Local Player",IconMap=w.ClassIcons,Icon=9,OnClick=function()
pcall(function()if b[t]then c:Set(b[t])w.ViewNode(b[t])end end)
end})newae:Register("SELECT_ALL_CHARACTERS",{Name="Select All Characters",IconMap=w.ClassIcons,Icon=2,OnClick=function()
local ah={}local ai=
c.Listnewfor aj,ak in next,s.Players:GetPlayers()do
if ak.Character and b[ak.Character]then
if aj==1 then w.MakeNodeVisible(ak.Character)end
X.insert(ah,b[ak.Character])
end
endnewc:SetTable(ah)
if#ah>0 then
w.ViewNode(ah[1])
else
w.Refresh()
end
end})newae:Register("REFRESH_NIL",{Name="Refresh Nil Instances",OnClick=function()
w.RefreshNilInstances()
end})newae:Register("HIDE_NIL",{Name="Hide Nil Instances",OnClick=function()
w.HideNilInstances()
end})neww.RightClickContext=ae
endneww.HideNilInstances=function()
X.clear(Z)newlocal ae=a"Folder".ChildAdded:Connect(function()end).Disconnect
for af,ag in next,_ do
ae(ag[1])
ae(ag[2])
end
X.clear(_)newfor af=1,#N do
coroutine.wrap(ac)(N[af].Obj)
endneww.Update()
w.Refresh()
endneww.RefreshNilInstances=function()
if not r.getnilinstances then return endnewlocal ae=r.getnilinstances()
local af=g
local ag=af.GetDescendantsnewnewnewnewfor ah=1,#ae do
local ai=ae[ah]
if ai~=af then
Z[ai]=truenew
local aj=ag(ai)
for ak=1,#aj do
Z[aj[ak] ]=true
end
end
endnewnewnewnewnewnew
for ah=1,#ae do
local ai=ae[ah]
local aj=b[ai]
if not aj then coroutine.wrap(ab)(ai)end
endnewnewnewnewnewnewnewnewnewnewnewneww.Update()
w.Refresh()
endneww.GetInstancePath=function(ae)
local af=g.FindFirstChild
local ag=g.GetChildren
local ah=""
local ai=ae
local aj=tostring
local ak=string.match local al=
string.gsub
local am=X.find
local an=k.Explorer.CopyPathUseGetChildren
local ao=i.FormatLuaStringnewwhile ai do
if ai==g then
ah="game"..ah
break
endnewlocal ap=ai.ClassName
local aq=aj(ai)
local ar
if ak(aq,"^[%a_][%w_]*$")then
ar="."..aq
else
local as=ao(aq)
ar='["'..as..'"]'
endnewlocal as=ai.Parent
if as then
local at=af(as,aq)
if an and at and at~=ai then
local au=ag(as)
local av=am(au,ai)
ar=":GetChildren()["..av.."]"
elseif as==g and p.Classes[ap]and p.Classes[ap].Tags.Service then
ar=':GetService("'..ap..'")'
end
elseif as==nil then
local at="local getNil = function(name, class) for _, v in next, getnilinstances() do if v.ClassName == class and v.Name == name then return v end end end"
local au="\n\ngetNil(\"%s\", \"%s\")"
ar=at..au:format(ai.Name,ap)
endnewah=ar..ah
ai=as
endnewreturn ah
endneww.DefaultProps={BasePart=
{
Position=function(ae)
local af=s.Players.LocalPlayer
if af.Character and af.Character:FindFirstChild"HumanoidRootPart"then
ae.Position=(af.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,-10)).p
end
return ae.Position
end,
Anchored=true
},GuiObject=
{
Position=function(ae)return(ae.Parent:IsA"ScreenGui"and UDim2.new(0.5,0,0.5,0))or ae.Position end,
Active=true
}
}neww.InitInsertObject=function()
local ae=i.ContextMenu.new()
ae.SearchEnabled=true
ae.MaxHeight=400
ae:ApplyTheme{
ContentColor=k.Theme.Main2,
OutlineColor=k.Theme.Outline1,
DividerColor=k.Theme.Outline1,
TextColor=k.Theme.Text,
HighlightColor=k.Theme.ButtonHover
}newlocal af={}
for ag,ah in next,p.Classes do
local ai=ah.Tags
if not ai.NotCreatable and not ai.Service then
local aj=q.Classes[ah.Name]
af[#af+1]={ah,aj and aj.ClassCategory or"Uncategorized"}
end
end
X.sort(af,function(ag,ah)
if ag[2]~=ah[2]then
return ag[2]<ah[2]
else
return ag[1].Name<ah[1].Name
end
end)newlocal function defaultProps(ag)
for ah,ai in pairs(w.DefaultProps)do
if ag:IsA(ah)then
for aj,ak in pairs(ai)do
ag[aj]=(type(ak)=="function"and ak(ag))or ak
end
end
end
endnewlocal function onClick(ag)
local ah=c.List
local ai=a
for aj=1,#ah do
local ak=ah[aj]
local al=ak.Obj
w.MakeNodeVisible(ak,true)
local am,an=pcall(ai,ag,al)
if am and an then defaultProps(an)end
end
endnewlocal ag=""
for ah=1,#af do
local ai=af[ah][1]
local aj=q.Classes[ai.Name]
local ak=aj and tonumber(aj.ExplorerImageIndex)or 0
local am=af[ah][2]newif ag~=am then
ae:AddDivider(am)
ag=am
end
ae:Add{Name=ai.Name,IconMap=w.ClassIcons,Icon=ak,OnClick=onClick}
endneww.InsertObjectContext=ae
endneww._SearchFilters={}do
task.wait(0)
local ae=w._SearchFilters
task.wait(0)
local function NewFilter(af,ag)
for ah,ai in next,af do
ae[ai:lower()..":"]=ag
end
end
task.wait(0)
local af={
remotes={"RemoteEvent","RemoteFunction","BindableEvent","BindableFunction"},
scripts={"Script","LocalScript","ModuleScript"},
players={"Player"}
}
task.wait(0)
NewFilter({"parent","p"},function(ag,ah)return ag.Parent and(ag.Parent.Name:lower()):find(ah)end)
NewFilter({"class","c"},function(ag,ah)return(ag.ClassName:lower()):find(ah)end)
NewFilter({"isa","i"},function(ag,ah)return ag:IsA(ah)end)
task.wait(0)
NewFilter({"only","o"},function(ag,ah)
local ai=af[ah]
return ai and X.find(ai,ag.ClassName)
end)
endneww.DoSearch=function(ae)
task.wait(0)
X.clear(w.SearchExpanded)
X.clear(A)
B=(#ae==0 and w.Expanded)or w.SearchExpanded local af=new
X.find;newlocal ag=w._SearchFilters
local ah=w.SearchExpandednewlocal ai=b[g]newlocal aj=(function(aj,ak)return(aj.Name:lower()):find(ak,1,true)end)
task.wait(0)
local function searchTable(ak,am,an)
local ao=false
for ap,aq in ipairs(ak)do
task.wait(0)
if an(aq.Obj,am)then
task.wait(0)
ah[aq]=0
A[aq]=true
task.wait(0)
if not ao then
local ar=aq.Parent
while ar and(not A[ar]or ah[ar]==0)do
task.wait(0)
B[ar]=true
A[ar]=true
ar=ar.Parent
end
ao=true
end
end
task.wait(0)
if#aq>0 then searchTable(aq,am,an)end
end
endnewlocal function Search(ak)
if ak:len()==0 then return endnewlocal am=ak:lower()
local an=am:split":"
local ao=(ag[an[1]..":"])or nilnewif ao then
searchTable(ai,(an[2]or""),ao)
else
searchTable(ai,(am or""),aj)
end
endnewfor ak,am in ipairs(ae:split",")do
if am:len()>0 then
task.wait(0)
Search(am)
end
endnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnew
w.ForceUpdate()
endneww.ClearSearch=function()
w.GuiElems.SearchBar.Text=""
B=w.Expanded
U=nil
endneww.InitSearch=function()
local ae=s.TweenService
local af=w.GuiElems.ToolBar.SearchFrame
local ag=af.SearchBox
w.GuiElems.SearchBar=agnewlocal ah=TweenInfo.new(0.2,Enum.EasingStyle.Quint)
local ai={
Start=ae:Create(af.UIStroke,ah,{Color=Color3.fromRGB(0,120,215)}),
End=ae:Create(af.UIStroke,ah,{Color=Color3.fromRGB(42,42,42)})
}newag.FocusLost:Connect(function()ai.End:Play()end)
ag.Focused:Connect(function()ai.Start:Play()end)newi.ViewportTextBox.convert(ag)newag.FocusLost:Connect(function()
w.DoSearch(ag.Text)
end)
endneww.InitEntryTemplate=function()
C=u{
{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderColor3=Color3.new(0,0,0),Font=3,Name="Entry",Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,250,0,20),Text="",TextSize=14,}},
{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="Indent",Parent={1},Position=UDim2.new(0,20,0,0),Size=UDim2.new(1,-20,1,0),}},
{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="EntryName",Parent={2},Position=UDim2.new(0,26,0,0),Size=UDim2.new(1,-26,1,0),Text="Workspace",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{4,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Font=3,Name="Expand",Parent={2},Position=UDim2.new(0,-20,0,0),Size=UDim2.new(0,20,0,20),Text="",TextSize=14,}},
{5,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={4},Position=UDim2.new(0,2,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16),}},
{6,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ImageRectOffset=Vector2.new(304,0),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={2},Position=UDim2.new(0,4,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16),}},
}newlocal ae=i.ClickSystem.new()
ae.AllowedButtons={1,2}
ae.OnDown:Connect(function(af,ag,ah)
local ai=X.find(y,af)
if not ai then return end
local aj=x[ai+w.Index]
if not aj then return end local ak=newy[ai]newif ah==1 then
if ag==2 then
if aj.Obj:IsA"LuaSourceContainer"then
n.ViewScript(aj.Obj)
elseif#aj>0 and B[aj]~=0 then
B[aj]=not B[aj]
w.Update()
end
endnewif m.SelectObject(aj.Obj)then
ae.IsRenaming=false
return
endnewae.IsRenaming=c.Map[aj]newif i.IsShiftDown()then
if not c.Piviot then return endnewlocal am=X.find(x,c.Piviot)
local an=X.find(x,aj)
if not am or not an then return end
am,an=Y.min(am,an),Y.max(am,an)newlocal ao=c.List
for ap=#ao,1,-1 do
local aq=ao[ap]
if c.ShiftSet[aq]then
c.Map[aq]=nil
X.remove(ao,ap)
end
end
c.ShiftSet={}
for ap=am,an do
local aq=x[ap]
if not c.Map[aq]then
c.ShiftSet[aq]=true
c.Map[aq]=true
ao[#ao+1]=aq
end
end
c.Changed:Fire()
elseif i.IsCtrlDown()then
c.ShiftSet={}
if c.Map[aj]then c:Remove(aj)else c:Add(aj)end
c.Piviot=aj
ae.IsRenaming=false
elseif not c.Map[aj]then
c.ShiftSet={}
c:Set(aj)
c.Piviot=aj
end
elseif ah==2 then
if m.SelectObject(aj.Obj)then
return
endnewif not i.IsCtrlDown()and not c.Map[aj]then
c.ShiftSet={}
c:Set(aj)
c.Piviot=aj
w.Refresh()
end
endneww.Refresh()
end)newae.OnRelease:Connect(function(af,ag,ah,ai)
local aj=X.find(y,af)
if not aj then return end
local ak=x[aj+w.Index]
if not ak then return endnewif ah==1 then
if c.Map[ak]and not i.IsShiftDown()and not i.IsCtrlDown()then
c.ShiftSet={}
c:Set(ak)
c.Piviot=ak
w.Refresh()
endnewlocal am=ae.ClickId
i.FastWait(ae.ComboTime)
if ag==1 and am==ae.ClickId and ae.IsRenaming and c.Map[ak]then
w.SetRenamingNode(ak)
end
elseif ah==2 then
w.ShowRightClick(ai)
end
end)
w.ClickSystem=ae
endneww.InitDelCleaner=function()
coroutine.wrap(function()
local ae=i.FastWait
while true do
local af=false
local ag=0
for ah,ai in next,b do
if ai.HasDel then
local aj
for ak=1,#ai do
if ai[ak].Del then
aj=ak
break
end
end
if aj then
for ak=aj+1,#ai do
local am=ai[ak]
if not am.Del then
ai[aj]=am
aj=aj+1
end
end
for ak=aj,#ai do
ai[ak]=nil
end
end
ai.HasDel=false
af=true
ae()
end
ag=ag+1
if ag>10000 then
ag=0
ae()
end
end
if af and not M then w.PerformRefresh()end
ae(0.5)
end
end)()
endneww.UpdateSelectionVisuals=function()
local ae=w.SelectionVisualsHolder
local af=g.IsA
local ag=g.Clone
if not ae then
ae=a"ScreenGui"
ae.Name="ExplorerSelections"
ae.DisplayOrder=h.DisplayOrders.Core
i.ShowGui(ae)
w.SelectionVisualsHolder=ae
w.SelectionVisualCons={}newlocal ah=u{
{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Size=UDim2.new(0,100,0,100),}},
{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(1,2,0,1),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,1,0),Size=UDim2.new(1,2,0,1),}},
{4,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,0,0),Size=UDim2.new(0,1,1,0),}},
{5,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0),}},
}
w.SelectionVisualGui=ahnewlocal ai=a"SelectionBox"
ai.LineThickness=0.03
ai.Color3=Color3.fromRGB(0,170,255)
w.SelectionVisualBox=ai
end
ae:ClearAllChildren()new
for ah,ai in pairs(w.SelectionVisualGui:GetChildren())do
ai.BackgroundColor3=Color3.fromRGB(0,170,255)
endnewlocal ah=w.SelectionVisualCons
for ai=1,#ah do
ah[ai].Destroy()
end
X.clear(ah)newlocal ai=k.Explorer.PartSelectionBox
local aj=k.Explorer.GuiSelectionBox
if not ai and not aj then return endnewlocal ak=w.SelectionVisualGui
local am=w.SelectionVisualBox
local an=i.AttachTo
local ao=c.List
local ap=1
local aq=0
local ar=b[workspace]
for as=1,#ao do
if aq>1000 then break end
local at=ao[as]
local au=at.Objnewif at~=ar then
if af(au,"GuiObject")and aj then
local av=ag(ak)
ah[ap]=an(av,{Target=au,Resize=true})
ap=ap+1
av.Parent=ae
aq=aq+1
elseif af(au,"PVInstance")and ai then
local av=ag(am)
av.Adornee=au
av.Parent=ae
aq=aq+1
end
end
end
endneww.Init=function()
w.ClassIcons=i.IconMap.newLinear("rbxasset://textures/ClassImages.PNG",16,16)
w.MiscIcons=h.MiscIconsnewR={}newc=i.Set.new()
c.ShiftSet={}
c.Changed:Connect(m.ShowExplorerProps)
w.Selection=cneww.InitRightClick()
w.InitInsertObject()
w.SetSortingEnabled(k.Explorer.Sorting)
w.Expanded=setmetatable({},{__mode="k"})
w.SearchExpanded=setmetatable({},{__mode="k"})
B=w.ExpandednewN.Obj.Name="Nil Instances"
N.Locked=truenewlocal ae=u{
{1,"Folder",{Name="ExplorerItems",}},
{2,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ToolBar",Parent={1},Size=UDim2.new(1,0,0,22),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchFrame",Parent={2},Position=UDim2.new(0,3,0,1),Size=UDim2.new(1,-6,0,18),}},
{4,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClearTextOnFocus=false,Font=3,Name="SearchBox",Parent={3},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="Search workspace",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-24,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,}},
{5,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3},}},
{6,"UIStroke",{Thickness=1.4,Parent={3},Color=Color3.fromRGB(42,42,42)}},
{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Reset",Parent={3},Position=UDim2.new(1,-17,0,1),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718129",ImageColor3=Color3.new(0.39215686917305,0.39215686917305,0.39215686917305),Parent={7},Size=UDim2.new(0,16,0,16),}},
{9,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Refresh",Parent={2},Position=UDim2.new(1,-20,0,1),Size=UDim2.new(0,18,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false,}},
{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642310344",Parent={9},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,12,0,12),}},
{11,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Parent={1},Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false,}},
{12,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Name="List",Parent={1},Position=UDim2.new(0,0,0,23),Size=UDim2.new(1,0,1,-23),}}
}newE=ae.ToolBar
D=ae.Listneww.GuiElems.ToolBar=E
w.GuiElems.TreeFrame=DnewP=i.ScrollBar.new()
P.WheelIncrement=3
P.Gui.Position=UDim2.new(1,-16,0,23)
P:SetScrollFrame(D)
P.Scrolled:Connect(function()
w.Index=P.Index
w.Refresh()
end)newQ=i.ScrollBar.new(true)
Q.Increment=5
Q.WheelIncrement=w.EntryIndent
Q.Gui.Position=UDim2.new(0,0,1,-16)
Q.Scrolled:Connect(function()
w.Refresh()
end)newlocal af=i.Window.new()
w.Window=af
af:SetTitle"Explorer"
af.GuiElems.Line.Position=UDim2.new(0,0,0,22)neww.InitEntryTemplate()
E.Parent=af.GuiElems.Content
D.Parent=af.GuiElems.Content
ae.ScrollCorner.Parent=af.GuiElems.Content
P.Gui.Parent=af.GuiElems.Content
Q.Gui.Parent=af.GuiElems.Contentnew
w.InitRenameBox()
w.InitSearch()
w.InitDelCleaner()
c.Changed:Connect(w.UpdateSelectionVisuals)new
af.GuiElems.Main:GetPropertyChangedSignal"AbsoluteSize":Connect(function()
if w.Active then
w.UpdateView()
w.Refresh()
end
end)
af.OnActivate:Connect(function()
w.Active=true
w.UpdateView()
w.Update()
w.Refresh()
end)
af.OnRestore:Connect(function()
w.Active=true
w.UpdateView()
w.Update()
w.Refresh()
end)
af.OnDeactivate:Connect(function()w.Active=false end)
af.OnMinimize:Connect(function()w.Active=false end)new
W=k.Explorer.AutoUpdateSearchnew
b[g]={Obj=g}
B[b[g] ]=truenew
if r.getnilinstances then
b[N.Obj]=N
endneww.SetupConnections()newlocal ag=J(g)
if h.Elevated then
for ah=1,#ag do
local ai=ag[ah]
local aj=b[I(ai,"Instance")]
if not aj then continue end
local ak={
Obj=ai,
Parent=aj,
}
b[ai]=ak
aj[#aj+1]=ak
end
else
for ah=1,#ag do
local ai=ag[ah]local
aj, ak=pcall(I,ai,"Instance")
local am=b[ak]
if not am then continue end
local an={
Obj=ai,
Parent=am,
}
b[ai]=an
am[#am+1]=an
end
end
endnewreturn w
endnewreturn{InitDeps=initDeps,InitAfterMain=initAfterMain,Main=main}
end,
Properties=function()newnewnewnewlocal aa,ab,ac,ad
local ae,af,ag,ah
local ai,aj,ak,am,an,ao,apnewlocal function initDeps(aq)
aa=aq.Main
ab=aq.Lib
ac=aq.Apps
ad=aq.Settingsnewai=aq.API
aj=aq.RMD
ak=aq.env
am=aq.service
an=aq.plr
ao=aq.create
ap=aq.createSimple
endnewlocal function initAfterMain()
ae=ac.Explorer
af=ac.Properties
ag=ac.ScriptViewer
ah=ac.Notebook
endnewlocal function main()
local aq={}newlocal ar,as,at
local au,av
local h
local i,j,k,l,m,n={},{},{},{},{},{}
local o,p,q
local r,s={},{}
local t,u=table,string
local v=g.GetPropertyChangedSignal
local w=g.GetAttributeChangedSignal
local x=g.IsA
local y=g.GetAttribute
local z=g.SetAttributenewaq.GuiElems={}
aq.Index=0
aq.ViewWidth=0
aq.MinInputWidth=100
aq.EntryIndent=16
aq.EntryOffset=4
aq.NameWidthCache={}
aq.SubPropCache={}
aq.ClassLists={}
aq.SearchText=""newaq.AddAttributeProp={Category="Attributes",Class="",Name="",SpecialRow="AddAttribute",Tags={}}
aq.SoundPreviewProp={Category="Data",ValueType={Name="SoundPlayer"},Class="Sound",Name="Preview",Tags={}}newaq.IgnoreProps={DataModel=
{PrivateServerId=
true,PrivateServerOwnerId=
true,VIPServerId=
true,VIPServerOwnerId=
true
}
}newaq.ExpandableTypes={Vector2=
true,Vector3=
true,UDim=
true,UDim2=
true,CFrame=
true,Rect=
true,PhysicalProperties=
true,Ray=
true,NumberRange=
true,Faces=
true,Axes=
true
}newaq.ExpandableProps={
["Sound.SoundId"]=true
}newaq.CollapsedCategories={
["Surface Inputs"]=true,Surface=
true
}newaq.ConflictSubProps={Vector2=
{"X","Y"},Vector3=
{"X","Y","Z"},UDim=
{"Scale","Offset"},UDim2=
{"X","X.Scale","X.Offset","Y","Y.Scale","Y.Offset"},CFrame=
{"Position","Position.X","Position.Y","Position.Z",
"RightVector","RightVector.X","RightVector.Y","RightVector.Z",
"UpVector","UpVector.X","UpVector.Y","UpVector.Z",
"LookVector","LookVector.X","LookVector.Y","LookVector.Z"},Rect=
{"Min.X","Min.Y","Max.X","Max.Y"},PhysicalProperties=
{"Density","Elasticity","ElasticityWeight","Friction","FrictionWeight"},Ray=
{"Origin","Origin.X","Origin.Y","Origin.Z","Direction","Direction.X","Direction.Y","Direction.Z"},NumberRange=
{"Min","Max"},Faces=
{"Back","Bottom","Front","Left","Right","Top"},Axes=
{"X","Y","Z"}
}newaq.ConflictIgnore={BasePart=
{ResizableFaces=
true
}
}newaq.RoundableTypes={float=
true,double=
true,Color3=
true,UDim=
true,UDim2=
true,Vector2=
true,Vector3=
true,NumberRange=
true,Rect=
true,NumberSequence=
true,ColorSequence=
true,Ray=
true,CFrame=
true
}newaq.TypeNameConvert={number=
"double",boolean=
"bool"
}newaq.ToNumberTypes={int=
true,int64=
true,float=
true,double=
true
}newaq.DefaultPropValue={
string="",
bool=false,
double=0,
UDim=UDim.new(0,0),
UDim2=UDim2.new(0,0,0,0),
BrickColor=BrickColor.new"Medium stone grey",
Color3=Color3.new(1,1,1),
Vector2=Vector2.new(0,0),
Vector3=Vector3.new(0,0,0),
NumberSequence=NumberSequence.new(1),
ColorSequence=ColorSequence.new(Color3.new(1,1,1)),
NumberRange=NumberRange.new(0),
Rect=Rect.new(0,0,0,0)
}newaq.AllowedAttributeTypes={"string","boolean","number","UDim","UDim2","BrickColor","Color3","Vector2","Vector3","NumberSequence","ColorSequence","NumberRange","Rect"}newaq.StringToValue=function(A,B)
local C=A.ValueType
local D=C.Namenewif D=="string"or D=="Content"then
return B
elseif aq.ToNumberTypes[D]then
return tonumber(B)
elseif D=="Vector2"then
local E=B:split","
local F,G=tonumber(E[1]),tonumber(E[2])
if F and G and#E>=2 then return Vector2.new(F,G)end
elseif D=="Vector3"then
local E=B:split","
local F,G,H=tonumber(E[1]),tonumber(E[2]),tonumber(E[3])
if F and G and H and#E>=3 then return Vector3.new(F,G,H)end
elseif D=="UDim"then
local E=B:split","
local F,G=tonumber(E[1]),tonumber(E[2])
if F and G and#E>=2 then return UDim.new(F,G)end
elseif D=="UDim2"then
local E=B:gsub("[{}]",""):split","
local F,G,H,I=tonumber(E[1]),tonumber(E[2]),tonumber(E[3]),tonumber(E[4])
if F and G and H and I and#E>=4 then return UDim2.new(F,G,H,I)end
elseif D=="CFrame"then
local E=B:split","
local F,G=pcall(CFrame.new,unpack(E))
if F and#E>=12 then return G end
elseif D=="Rect"then
local E=B:split","
local F,G=pcall(Rect.new,unpack(E))
if F and#E>=4 then return G end
elseif D=="Ray"then
local E=B:gsub("[{}]",""):split","
local F,G=pcall(Vector3.new,unpack(E,1,3))
local H,I=pcall(Vector3.new,unpack(E,4,6))
if F and H and#E>=6 then return Ray.new(G,I)end
elseif D=="NumberRange"then
local E=B:split","
local F,G=pcall(NumberRange.new,unpack(E))
if F and#E>=1 then return G end
elseif D=="Color3"then
local E=B:gsub("[{}]",""):split","
local F,G=pcall(Color3.fromRGB,unpack(E))
if F and#E>=3 then return G end
endnewreturn nil
endnewaq.ValueToString=function(A,B)
local C=A.ValueType
local D=C.Namenewif D=="Color3"then
return ab.ColorToBytes(B)
elseif D=="NumberRange"then
return B.Min..", "..B.Max
endnewreturn tostring(B)
endnewaq.GetIndexableProps=function(A,B)
if not aa.Elevated then
if not pcall(function()return A.ClassName end)then return nil end
endnewlocal C=aq.IgnoreProps[B.Name]or{}newlocal D={}
local E=1
local F=B.Properties
for G=1,#F do
local H=F[G]
if not C[H.Name]then
local I=pcall(function()return A[H.Name]end)
if I then
D[E]=H
E=E+1
end
end
endnewreturn D
endnewaq.FindFirstObjWhichIsA=function(A)
local B=aq.ClassLists[A]or{}
if B and#B>0 then
return B[1]
endnewreturn nil
endnewaq.ComputeConflicts=function(A)
local B=ad.Properties.MaxConflictCheck
local C=ae.Selection.List
local D=aq.ClassLists
local E=u.split
local F=t.clear
local G=aq.ConflictIgnore
local H={}
local I=A and{A}or inewif A then
local J=A.Class.."."..A.Name
n[J]=nil
local K=aq.ConflictSubProps[A.ValueType.Name]or{}
for L=1,#K do
n[J.."."..K[L] ]=nil
end
else
t.clear(n)
endnewif#C>0 then
for J=1,#I do
local K=I[J]
local L,M=K.Name,K.Class
local N=K.RootType or K.ValueType
local O=N.Name
local P=K.AttributeName
local Q=M.."."..Lnewlocal R=0
local S=aq.ConflictSubProps[O]or{}
local T=#S
local U=T+1
local V=0
local W={}
local X=G[M]and G[M][L]
local Y=(O=="PhysicalProperties")
local Z=K.IsAttribute
local _=K.MultiTypenewF(H)newif not _ then
local aw,ax,ay
local az=D[K.Class]or{}
for aA=1,#az do
local aB=az[aA]
if not ay then
if Z then
aw=y(aB,P)
if aw~=nil then
ax=aB
ay=true
end
else
aw=aB[L]
ax=aB
ay=true
end
if X then break end
else
local aC,aD
if Z then
aC=y(aB,P)
if aC==nil then aD=true end
else
aC=aB[L]
endnewif not aD then
if not H[1]then
if Y then
if(aw and true or false)~=(aC and true or false)then
H[1]=true
V=V+1
end
elseif aw~=aC then
H[1]=true
V=V+1
end
endnewif T>0 then
for aE=1,T do
local aF=W[aE]
if not aF then aF=E(S[aE],".")W[aE]=aF endnewlocal aG=aw
local aH=aCnewfor aI=1,#aF do
if not aG or not aH then break end
local aJ=aF[aI]
aG=aG[aJ]
aH=aH[aJ]
endnewlocal aI=aE+1
if not H[aI]and aG~=aH then
H[aI]=true
V=V+1
end
end
endnewif V==U then break end
end
endnewR=R+1
if R==B then break end
endnewif not H[1]then n[Q]=ax end
for aA=1,T do
if not H[aA+1]then
n[Q.."."..S[aA] ]=ax
end
end
end
end
endnewif A then
aq.Refresh()
end
endnew
ad.Properties.ShowAttributes=true
aq.ShowExplorerProps=function()local aw=
ad.Properties.MaxConflictCheck
local ax=ae.Selection.List
local ay={}
local az=1 local aA=
aa.Elevated
local aB,aC=ad.Properties.ShowDeprecated,ad.Properties.ShowHidden
local aD=ai.Classes
local aE={}
local aF=u.lower
local aG=aj.PropertyOrders
local aH=g.GetAttributes
local aI=ad.Properties.MaxAttributes
local aJ=ad.Properties.ShowAttributes
local A={}
local B=0
local C=typeof
local D=aq.TypeNameConvertnewt.clear(i)newfor E=1,#ax do
local F=ax[E]
local G=F.Obj
local H=F.Class
if not H then H=G.ClassName F.Class=H endnewlocal I=aD[H]
while I do
local J=I.Name
if not ay[J]then
local K=l[J]
if not K then K=aq.GetIndexableProps(G,I)l[J]=K endnewfor L=1,#K do
local M=K[L]
local N=M.Tags
if(not N.Deprecated or aB)and(not N.Hidden or aC)then
i[az]=M
az=az+1
end
end
ay[J]=true
endnewlocal K=aE[J]
if not K then K={}aE[J]=K end
K[#K+1]=GnewI=I.Superclass
endnewif aJ and B<aI then
local J=aH(G)
for K,L in pairs(J)do
local M=C(L)
if not A[K]then
local N=(M=="Instance"and"Class")or(M=="EnumItem"and"Enum")or"Other"
local O={Name=D[M]or M,Category=N}
local P={IsAttribute=true,Name="ATTR_"..K,AttributeName=K,DisplayName=K,Class="Instance",ValueType=O,Category="Attributes",Tags={}}
i[az]=P
az=az+1
B=B+1
A[K]={M,P}
if B==aI then break end
elseif A[K][1]~=M then
A[K][2].MultiType=true
A[K][2].Tags.ReadOnly=true
A[K][2].ValueType={Name="string"}
end
end
end
endnewt.sort(i,function(E,F)
if E.Category~=F.Category then
return(h[E.Category]or 9999)<(h[F.Category]or 9999)
else
local G=(aG[E.Class]and aG[E.Class][E.Name])or 9999999
local H=(aG[F.Class]and aG[F.Class][F.Name])or 9999999
if G~=H then
return G<H
else
return aF(E.Name)<aF(F.Name)
end
end
end)new
aq.ClassLists=aE
aq.ComputeConflicts()newif#i>0 then
i[#i+1]=aq.AddAttributeProp
endnewaq.Update()
aq.Refresh()
endnewaq.UpdateView=function()
local ax=math.ceil(at.AbsoluteSize.Y/23)
local ay=at.AbsoluteSize.X
local az=aq.ViewWidth+aq.MinInputWidthnewau.VisibleSpace=ax
au.TotalSpace=#j+1
av.VisibleSpace=ay
av.TotalSpace=aznewau.Gui.Visible=#j+1>ax
av.Gui.Visible=ad.Properties.ScaleType==0 and az>aynewlocal aA=at.Size
at.Size=UDim2.new(1,(au.Gui.Visible and-16 or 0),1,(av.Gui.Visible and-39 or-23))
if aA~=at.Size then
aq.UpdateView()
else
au:Update()
av:Update()newif au.Gui.Visible and av.Gui.Visible then
au.Gui.Size=UDim2.new(0,16,1,-39)
av.Gui.Size=UDim2.new(1,-16,0,16)
aq.Window.GuiElems.Content.ScrollCorner.Visible=true
else
au.Gui.Size=UDim2.new(0,16,1,-23)
av.Gui.Size=UDim2.new(1,0,0,16)
aq.Window.GuiElems.Content.ScrollCorner.Visible=false
endnewaq.Index=au.Index
end
endnewaq.MakeSubProp=function(ax,ay,az,aA)
local aB={}
for aC,aD in pairs(ax)do
aB[aC]=aD
end
aB.RootType=aB.RootType or aB.ValueType
aB.ValueType=az
aB.SubName=aB.SubName and(aB.SubName..ay)or ay
aB.DisplayName=aAnewreturn aB
endnewaq.GetExpandedProps=function(ax)
local ay={}
local az=ax.ValueType
local aA=az.Name
local aB=aq.MakeSubPropnewif aA=="Vector2"then
ay[1]=aB(ax,".X",{Name="float"})
ay[2]=aB(ax,".Y",{Name="float"})
elseif aA=="Vector3"then
ay[1]=aB(ax,".X",{Name="float"})
ay[2]=aB(ax,".Y",{Name="float"})
ay[3]=aB(ax,".Z",{Name="float"})
elseif aA=="CFrame"then
ay[1]=aB(ax,".Position",{Name="Vector3"})
ay[2]=aB(ax,".RightVector",{Name="Vector3"})
ay[3]=aB(ax,".UpVector",{Name="Vector3"})
ay[4]=aB(ax,".LookVector",{Name="Vector3"})
elseif aA=="UDim"then
ay[1]=aB(ax,".Scale",{Name="float"})
ay[2]=aB(ax,".Offset",{Name="int"})
elseif aA=="UDim2"then
ay[1]=aB(ax,".X",{Name="UDim"})
ay[2]=aB(ax,".Y",{Name="UDim"})
elseif aA=="Rect"then
ay[1]=aB(ax,".Min.X",{Name="float"},"X0")
ay[2]=aB(ax,".Min.Y",{Name="float"},"Y0")
ay[3]=aB(ax,".Max.X",{Name="float"},"X1")
ay[4]=aB(ax,".Max.Y",{Name="float"},"Y1")
elseif aA=="PhysicalProperties"then
ay[1]=aB(ax,".Density",{Name="float"})
ay[2]=aB(ax,".Elasticity",{Name="float"})
ay[3]=aB(ax,".ElasticityWeight",{Name="float"})
ay[4]=aB(ax,".Friction",{Name="float"})
ay[5]=aB(ax,".FrictionWeight",{Name="float"})
elseif aA=="Ray"then
ay[1]=aB(ax,".Origin",{Name="Vector3"})
ay[2]=aB(ax,".Direction",{Name="Vector3"})
elseif aA=="NumberRange"then
ay[1]=aB(ax,".Min",{Name="float"})
ay[2]=aB(ax,".Max",{Name="float"})
elseif aA=="Faces"then
ay[1]=aB(ax,".Back",{Name="bool"})
ay[2]=aB(ax,".Bottom",{Name="bool"})
ay[3]=aB(ax,".Front",{Name="bool"})
ay[4]=aB(ax,".Left",{Name="bool"})
ay[5]=aB(ax,".Right",{Name="bool"})
ay[6]=aB(ax,".Top",{Name="bool"})
elseif aA=="Axes"then
ay[1]=aB(ax,".X",{Name="bool"})
ay[2]=aB(ax,".Y",{Name="bool"})
ay[3]=aB(ax,".Z",{Name="bool"})
endnewif ax.Name=="SoundId"and ax.Class=="Sound"then
ay[1]=aq.SoundPreviewProp
endnewreturn ay
endnewaq.Update=function()
t.clear(j)newlocal ax=aq.NameWidthCache
local ay
local az=1
local aA,aB=0,1newlocal aC=am.TextService
local aD=aC.GetTextSize
local aE=Enum.Font.SourceSans
local aF=Vector2.new(math.huge,20)
local aG=u.split
local aH=aq.EntryIndent
local aI=ad.Properties.ScaleType==0
local aJ,A=u.find,u.lower
local B=(#aq.SearchText>0 and A(aq.SearchText))newlocal function recur(C,D)
for E=1,#C do
local F=C[E]
local G=F.Name
local H=F.SubName
local I=F.Categorynewlocal J
if B and D==1 then
if aJ(A(G),B,1,true)then
J=true
end
else
J=true
endnewif J and ay~=I then
j[az]={CategoryName=I}
az=az+1
ay=I
endnewif(k["CAT_"..I]and J)or F.SpecialRow then
if D>1 then F.Depth=D if D>aB then aB=D end endnewif aI then
local K=H and aG(H,".")
local L=F.DisplayName or(K and K[#K])or Gnewlocal M=ax[L]
if not M then M=aD(aC,L,14,aE,aF).X ax[L]=M endnewlocal N=M+aH*D
if N>aA then
aA=N
end
endnewj[az]=F
az=az+1newlocal K=F.Class.."."..F.Name..(F.SubName or"")
if k[K]then
local L=D+1
local M=aq.GetExpandedProps(F)
if#M>0 then
recur(M,L)
end
end
end
end
end
recur(i,1)newq=nil
aq.ViewWidth=aA+9+aq.EntryOffset
aq.UpdateView()
endnewaq.NewPropEntry=function(ax)
local ay=aq.EntryTemplate:Clone()
local az=ay.NameFrame
local aA=ay.ValueFrame
local aB=ab.Checkbox.new(1)
aB.Gui.Position=UDim2.new(0,3,0,3)
aB.Gui.Parent=aA
aB.OnInput:Connect(function()
local aC=j[ax+aq.Index]
if not aC then return endnewif aC.ValueType.Name=="PhysicalProperties"then
aq.SetProp(aC,aB.Toggled and true or nil)
else
aq.SetProp(aC,aB.Toggled)
end
end)
r[ax]=aBnewlocal aC=aa.MiscIcons:GetLabel()
aC.Position=UDim2.new(0,2,0,3)
aC.Parent=ay.ValueFrame.RightButtonneway.Position=UDim2.new(0,0,0,23*(ax-1))newaz.Expand.InputBegan:Connect(function(aD)
local aE=j[ax+aq.Index]
if not aE or(aD.UserInputType~=Enum.UserInputType.MouseMovement and aD.UserInputType~=Enum.UserInputType.Touch)then return endnewlocal aF=(aE.CategoryName and"CAT_"..aE.CategoryName)or aE.Class.."."..aE.Name..(aE.SubName or"")newaa.MiscIcons:DisplayByKey(ay.NameFrame.Expand.Icon,k[aF]and"Collapse_Over"or"Expand_Over")
end)newaz.Expand.InputEnded:Connect(function(aD)
local aE=j[ax+aq.Index]
if not aE or(aD.UserInputType~=Enum.UserInputType.MouseMovement and aD.UserInputType~=Enum.UserInputType.Touch)then return endnewlocal aF=(aE.CategoryName and"CAT_"..aE.CategoryName)or aE.Class.."."..aE.Name..(aE.SubName or"")newaa.MiscIcons:DisplayByKey(ay.NameFrame.Expand.Icon,k[aF]and"Collapse"or"Expand")
end)newaz.Expand.MouseButton1Down:Connect(function()
local aD=j[ax+aq.Index]
if not aD then return endnewlocal aE=(aD.CategoryName and"CAT_"..aD.CategoryName)or aD.Class.."."..aD.Name..(aD.SubName or"")
if not aD.CategoryName and not aq.ExpandableTypes[aD.ValueType and aD.ValueType.Name]and not aq.ExpandableProps[aE]then return endnewk[aE]=not k[aE]
aq.Update()
aq.Refresh()
end)newaz.PropName.InputBegan:Connect(function(aD)
local aE=j[ax+aq.Index]
if not aE then return end
if(aD.UserInputType==Enum.UserInputType.MouseMovement or aD.UserInputType==Enum.UserInputType.Touch)and not az.PropName.TextFits then
local aF=aq.FullNameFrame
local aG=u.split(aE.Class.."."..aE.Name..(aE.SubName or""),".")
local aH=aE.DisplayName or aG[#aG]
local aI=am.TextService:GetTextSize(aH,14,Enum.Font.SourceSans,Vector2.new(math.huge,20)).XnewaF.TextLabel.Text=aH
aF.Size=UDim2.new(0,aI+4,0,22)
aF.Visible=true
aq.FullNameFrameIndex=ax
aq.FullNameFrameAttach.SetData(aF,{Target=az})
aq.FullNameFrameAttach.Enable()
end
end)newaz.PropName.InputEnded:Connect(function(aD)
if(aD.UserInputType==Enum.UserInputType.MouseMovement or aD.UserInputType==Enum.UserInputType.Touch)and aq.FullNameFrameIndex==ax then
aq.FullNameFrame.Visible=false
aq.FullNameFrameAttach.Disable()
end
end)new
aA.ValueBox.MouseButton1Down:Connect(function()
local aD=j[ax+aq.Index]
if not aD then return endnewaq.SetInputProp(aD,ax)
end)newaA.ColorButton.MouseButton1Down:Connect(function()
local aD=j[ax+aq.Index]
if not aD then return endnewaq.SetInputProp(aD,ax,"color")
end)newaA.RightButton.MouseButton1Click:Connect(function()
local aD=j[ax+aq.Index]
if not aD then return endnewlocal aE=aD.Class.."."..aD.Name..(aD.SubName or"")
local aF=q and(q.Class.."."..q.Name..(q.SubName or""))newif aE==aF and q.ValueType.Category=="Class"then
q=nil
aq.SetProp(aD,nil)
else
aq.SetInputProp(aD,ax,"right")
end
end)newaz.ToggleAttributes.MouseButton1Click:Connect(function()
ad.Properties.ShowAttributes=not ad.Properties.ShowAttributes
aq.ShowExplorerProps()
end)neway.RowButton.MouseButton1Click:Connect(function()
aq.DisplayAddAttributeWindow()
end)neway.EditAttributeButton.MouseButton1Down:Connect(function()
local aD=j[ax+aq.Index]
if not aD then return endnewaq.DisplayAttributeContext(aD)
end)newaA.SoundPreview.ControlButton.MouseButton1Click:Connect(function()
if aq.PreviewSound and aq.PreviewSound.Playing then
aq.SetSoundPreview(false)
else
local aD=aq.FindFirstObjWhichIsA"Sound"
if aD then aq.SetSoundPreview(aD)end
end
end)newaA.SoundPreview.InputBegan:Connect(function(aD)
if aD.UserInputType~=Enum.UserInputType.MouseButton1 and aD.UserInputType~=Enum.UserInputType.Touch then return endnewlocal aE,aF
aE=am.UserInputService.InputEnded:Connect(function(aG)
if aG.UserInputType==Enum.UserInputType.MouseButton1 or aG.UserInputType==Enum.UserInputType.Touch then
aE:Disconnect()
if aF then
aF:Disconnect()
end
end
end)newlocal aG=ay.ValueFrame.SoundPreview.TimeLine
local aH=aq.FindFirstObjWhichIsA"Sound"
if aH then aq.SetSoundPreview(aH,true)endnewlocal function update(aI)
local aJ=aq.PreviewSound
if not aJ or aJ.TimeLength==0 then return endnewlocal A=(aI.UserInputType==Enum.UserInputType.Touch)and aI.Position.X or aI.Position.X
local B=aG.AbsoluteSize
local C=A-aG.AbsolutePosition.Xnewif B.X<=1 then return end
if C<0 then C=0 elseif C>=B.X then C=B.X-1 endnewlocal D=(C/(B.X-1))
aJ.TimePosition=D*aJ.TimeLength
aG.Slider.Position=UDim2.new(D,-4,0,-8)
endnewupdate(aD)newaF=am.UserInputService.InputChanged:Connect(function(aI)
if aI.UserInputType==Enum.UserInputType.MouseMovement or aI.UserInputType==Enum.UserInputType.Touch then
update(aI)
end
end)
end)new
ay.Parent=atnewreturn{
Gui=ay,
GuiElems={
NameFrame=az,
ValueFrame=aA,
PropName=az.PropName,
ValueBox=aA.ValueBox,
Expand=az.Expand,
ColorButton=aA.ColorButton,
ColorPreview=aA.ColorButton.ColorPreview,
Gradient=aA.ColorButton.ColorPreview.UIGradient,
EnumArrow=aA.EnumArrow,
Checkbox=aA.Checkbox,
RightButton=aA.RightButton,
RightButtonIcon=aC,
RowButton=ay.RowButton,
EditAttributeButton=ay.EditAttributeButton,
ToggleAttributes=az.ToggleAttributes,
SoundPreview=aA.SoundPreview,
SoundPreviewSlider=aA.SoundPreview.TimeLine.Slider
}
}
endnewaq.GetSoundPreviewEntry=function()
for ax=1,#j do
if j[ax]==aq.SoundPreviewProp then
return m[ax-aq.Index]
end
end
endnewaq.SetSoundPreview=function(ax,ay)
local az=aq.PreviewSound
if not az then
az=a"Sound"
az.Name="Preview"
az.Paused:Connect(function()
local aA=aq.GetSoundPreviewEntry()
if aA then aa.MiscIcons:DisplayByKey(aA.GuiElems.SoundPreview.ControlButton.Icon,"Play")end
end)
az.Resumed:Connect(function()aq.Refresh()end)
az.Ended:Connect(function()
local aA=aq.GetSoundPreviewEntry()
if aA then aA.GuiElems.SoundPreviewSlider.Position=UDim2.new(0,-4,0,-8)end
aq.Refresh()
end)
az.Parent=ar.Gui
aq.PreviewSound=az
endnewif not ax then
az:Pause()
else
local aA=az.SoundId~=ax.SoundId
az.SoundId=ax.SoundId
az.PlaybackSpeed=ax.PlaybackSpeed
az.Volume=ax.Volume
if aA then az.TimePosition=0 end
if not ay then az:Resume()endnewcoroutine.wrap(function()
local aB=tick()
aq.SoundPreviewTime=aB
while aB==aq.SoundPreviewTime and az.Playing do
local aC=aq.GetSoundPreviewEntry()
if aC then
local aD=az.TimeLength
local aE=az.TimePosition/(aD==0 and 1 or aD)
aC.GuiElems.SoundPreviewSlider.Position=UDim2.new(aE,-4,0,-8)
end
ab.FastWait()
end
end)()
aq.Refresh()
end
endnewaq.DisplayAttributeContext=function(ax)
local ay=aq.AttributeContext
if not ay then
ay=ab.ContextMenu.new()
ay.Iconless=true
ay.Width=80
end
ay:Clear()neway:Add{Name="Edit",OnClick=function()
aq.DisplayAddAttributeWindow(ax)
end}
ay:Add{Name="Delete",OnClick=function()
aq.SetProp(ax,nil,true)
aq.ShowExplorerProps()
end}neway:Show()
endnewaq.DisplayAddAttributeWindow=function(ax)
local ay=aq.AddAttributeWindow
if not ay then
ay=ab.Window.new()
ay.Alignable=false
ay.Resizable=false
ay:SetTitle"Add Attribute"
ay:SetSize(200,130)newlocal az=ab.Button.new()
local aA=ab.Label.new()
aA.Text="Name"
aA.Position=UDim2.new(0,30,0,10)
aA.Size=UDim2.new(0,40,0,20)
ay:Add(aA)newlocal aB=ab.ViewportTextBox.new()
aB.Position=UDim2.new(0,75,0,10)
aB.Size=UDim2.new(0,120,0,20)
ay:Add(aB,"NameBox")
aB.TextBox:GetPropertyChangedSignal"Text":Connect(function()
az:SetDisabled(#aB:GetText()==0)
end)newlocal aC=ab.Label.new()
aC.Text="Type"
aC.Position=UDim2.new(0,30,0,40)
aC.Size=UDim2.new(0,40,0,20)
ay:Add(aC)newlocal aD=ab.DropDown.new()
aD.CanBeEmpty=false
aD.Position=UDim2.new(0,75,0,40)
aD.Size=UDim2.new(0,120,0,20)
aD:SetOptions(aq.AllowedAttributeTypes)
ay:Add(aD,"TypeChooser")newlocal aE=ab.Label.new()
aE.Text=""
aE.Position=UDim2.new(0,5,1,-45)
aE.Size=UDim2.new(1,-10,0,20)
aE.TextColor3=ad.Theme.Important
ay.ErrorLabel=aE
ay:Add(aE,"Error")newlocal aF=ab.Button.new()
aF.Text="Cancel"
aF.Position=UDim2.new(1,-97,1,-25)
aF.Size=UDim2.new(0,92,0,20)
aF.OnClick:Connect(function()
ay:Close()
end)
ay:Add(aF)newaz.Text="Save"
az.Position=UDim2.new(0,5,1,-25)
az.Size=UDim2.new(0,92,0,20)
az.OnClick:Connect(function()
local aG=aB:GetText()
if#aG>100 then
aE.Text="Error: Name over 100 chars"
return
elseif aG:sub(1,3)=="RBX"then
aE.Text="Error: Name begins with 'RBX'"
return
endnewlocal aH=aD.Selected
local aI={Name=aq.TypeNameConvert[aH]or aH,Category="DataType"}
local aJ={IsAttribute=true,Name="ATTR_"..aG,AttributeName=aG,DisplayName=aG,Class="Instance",ValueType=aI,Category="Attributes",Tags={}}newad.Properties.ShowAttributes=true
aq.SetProp(aJ,aq.DefaultPropValue[aI.Name],true,aq.EditingAttribute)
aq.ShowExplorerProps()
ay:Close()
end)
ay:Add(az,"SaveButton")newaq.AddAttributeWindow=ay
endnewaq.EditingAttribute=ax
ay:SetTitle(ax and"Edit Attribute "..ax.AttributeName or"Add Attribute")
ay.Elements.Error.Text=""
ay.Elements.NameBox:SetText""
ay.Elements.SaveButton:SetDisabled(true)
ay.Elements.TypeChooser:SetSelected(1)
ay:Show()
endnewaq.IsTextEditable=function(ax)
local ay=ax.ValueType
local az=ay.Namenewreturn az~="bool"and ay.Category~="Enum"and ay.Category~="Class"and az~="BrickColor"
endnewaq.DisplayEnumDropdown=function(ax)
local ay=aq.EnumContext
if not ay then
ay=ab.ContextMenu.new()
ay.Iconless=true
ay.MaxHeight=200
ay.ReverseYOffset=22
aq.EnumDropdown=ay
endnewif not q or q.ValueType.Category~="Enum"then return end
local az=qnewlocal aA=m[ax]
local aB=aA.GuiElems.ValueFramenewlocal aC=Enum[az.ValueType.Name]
if not aC then return endnewlocal aD={}
for aE,aF in next,aC:GetEnumItems()do
aD[#aD+1]=aF
end
t.sort(aD,function(aE,aF)return aE.Name<aF.Name end)neway:Clear()newlocal function onClick(aE)
if az~=q then return endnewlocal aF=aC[aE]
q=nil
aq.SetProp(az,aF)
endnewfor aE=1,#aD do
local aF=aD[aE]
ay:Add{Name=aF.Name,OnClick=onClick}
endneway.Width=aB.AbsoluteSize.X
ay:Show(aB.AbsolutePosition.X,aB.AbsolutePosition.Y+22)
endnewaq.DisplayBrickColorEditor=function(ax,ay,az)
local aA=aq.BrickColorEditor
if not aA then
aA=ab.BrickColorPicker.new()
aA.Gui.DisplayOrder=aa.DisplayOrders.Menu
aA.ReverseYOffset=22newaA.OnSelect:Connect(function(aB)
if not aA.CurrentProp or aA.CurrentProp.ValueType.Name~="BrickColor"then return endnewif aA.CurrentProp==q then q=nil end
aq.SetProp(aA.CurrentProp,BrickColor.new(aB))
end)newaA.OnMoreColors:Connect(function()
aA:Close()
local aB
for aC,aD in pairs(ai.Classes.BasePart.Properties)do
if aD.Name=="Color"then
aB=aD
break
end
end
aq.DisplayColorEditor(aB,aA.SavedColor.Color)
end)newaq.BrickColorEditor=aA
endnewlocal aB=m[ay]
local aC=aB.GuiElems.ValueFramenewaA.CurrentProp=ax
aA.SavedColor=az
if ax and ax.Class=="BasePart"and ax.Name=="BrickColor"then
aA:SetMoreColorsVisible(true)
else
aA:SetMoreColorsVisible(false)
end
aA:Show(aC.AbsolutePosition.X,aC.AbsolutePosition.Y+22)
endnewaq.DisplayColorEditor=function(ax,ay)
local az=aq.ColorEditor
if not az then
az=ab.ColorPicker.new()newaz.OnSelect:Connect(function(aA)
if not az.CurrentProp then return end
local aB=az.CurrentProp.ValueType.Name
if aB~="Color3"and aB~="BrickColor"then return endnewlocal aC=(aB=="Color3"and aA or BrickColor.new(aA))newif az.CurrentProp==q then q=nil end
aq.SetProp(az.CurrentProp,aC)
end)newaq.ColorEditor=az
endnewaz.CurrentProp=ax
if ay then
az:SetColor(ay)
else
local aA=aq.GetFirstPropVal(ax)
if aA then az:SetColor(aA)end
end
az:Show()
endnewaq.DisplayNumberSequenceEditor=function(ax,ay)
local az=aq.NumberSequenceEditor
if not az then
az=ab.NumberSequenceEditor.new()newaz.OnSelect:Connect(function(aA)
if not az.CurrentProp or az.CurrentProp.ValueType.Name~="NumberSequence"then return endnewif az.CurrentProp==q then q=nil end
aq.SetProp(az.CurrentProp,aA)
end)newaq.NumberSequenceEditor=az
endnewaz.CurrentProp=ax
if ay then
az:SetSequence(ay)
else
local aA=aq.GetFirstPropVal(ax)
if aA then az:SetSequence(aA)end
end
az:Show()
endnewaq.DisplayColorSequenceEditor=function(ax,ay)
local az=aq.ColorSequenceEditor
if not az then
az=ab.ColorSequenceEditor.new()newaz.OnSelect:Connect(function(aA)
if not az.CurrentProp or az.CurrentProp.ValueType.Name~="ColorSequence"then return endnewif az.CurrentProp==q then q=nil end
aq.SetProp(az.CurrentProp,aA)
end)newaq.ColorSequenceEditor=az
endnewaz.CurrentProp=ax
if ay then
az:SetSequence(ay)
else
local aA=aq.GetFirstPropVal(ax)
if aA then az:SetSequence(aA)end
end
az:Show()
endnewaq.GetFirstPropVal=function(ax)
local ay=aq.FindFirstObjWhichIsA(ax.Class)
if ay then
return aq.GetPropVal(ax,ay)
end
endnewaq.GetPropVal=function(ax,ay)
if ax.MultiType then return"<Multiple Types>"end
if not ay then return endnewlocal az
if ax.IsAttribute then
az=y(ay,ax.AttributeName)
if az==nil then return nil endnewlocal aA=typeof(az)
local aB=aq.TypeNameConvert[aA]or aA
if ax.RootType then
if ax.RootType.Name~=aB then
return nil
end
elseif ax.ValueType.Name~=aB then
return nil
end
else
az=ay[ax.Name]
end
if ax.SubName then
local aA=u.split(ax.SubName,".")
for aB=1,#aA do
local aC=aA[aB]
if#aC>0 and az then
az=az[aC]
end
end
endnewreturn az
endnewaq.SelectObject=function(ax)
if q and q.ValueType.Category=="Class"then
local ay=q
q=nilnewif x(ax,ay.ValueType.Name)then
aq.SetProp(ay,ax)
else
aq.Refresh()
endnewreturn true
endnewreturn false
endnewaq.DisplayProp=function(ax,ay)local az=
ax.Name
local aA=ax.ValueType
local aB=aA.Name
local aC=ax.Tags
local aD=ax.Class.."."..ax.Name..(ax.SubName or"")
local aE=n[aD]
local aF=m[ay]
local aG=UDim2newlocal aH=aF.GuiElems local aI=
aH.ValueFrame
local aJ=aH.ValueBox
local A=aH.ColorButton
local B=aH.ColorPreview
local C=aH.Gradient
local D=aH.EnumArrow
local E=aH.Checkbox
local F=aH.RightButton
local G=aH.SoundPreviewnewlocal H=aq.GetPropVal(ax,aE)
local I=q and(q.Class.."."..q.Name..(q.SubName or""))newlocal J=4
local K=6new
if(aB=="Color3"or aB=="BrickColor"or aB=="ColorSequence")then
A.Visible=true
D.Visible=false
if H then
C.Color=(aB=="Color3"and ColorSequence.new(H))or(aB=="BrickColor"and ColorSequence.new(H.Color))or H
else
C.Color=ColorSequence.new(Color3.new(1,1,1))
end
B.BorderColor3=(aB=="ColorSequence"and Color3.new(1,1,1)or Color3.new(0,0,0))
J=22
K=24+(aB=="ColorSequence"and 20 or 0)
elseif aA.Category=="Enum"then
A.Visible=false
D.Visible=not ax.Tags.ReadOnly
K=22
elseif(aD==I and aA.Category=="Class")or aB=="NumberSequence"then
A.Visible=false
D.Visible=false
K=26
else
A.Visible=false
D.Visible=false
endnewaJ.Position=aG.new(0,J,0,0)
aJ.Size=aG.new(1,-K,1,0)new
if I==aD and aA.Category=="Class"then
aa.MiscIcons:DisplayByKey(aH.RightButtonIcon,"Delete")
aH.RightButtonIcon.Visible=true
F.Text=""
F.Visible=true
elseif aB=="NumberSequence"or aB=="ColorSequence"then
aH.RightButtonIcon.Visible=false
F.Text="..."
F.Visible=true
else
F.Visible=false
endnew
if aB=="bool"or aB=="PhysicalProperties"then
aJ.Visible=false
E.Visible=true
G.Visible=false
r[ay].Disabled=aC.ReadOnly
if aB=="PhysicalProperties"and n[aD]then
r[ay]:SetState(H and true or false)
else
r[ay]:SetState(H)
end
elseif aB=="SoundPlayer"then
aJ.Visible=false
E.Visible=false
G.Visible=true
local L=aq.PreviewSound and aq.PreviewSound.Playing
aa.MiscIcons:DisplayByKey(G.ControlButton.Icon,L and"Pause"or"Play")
else
aJ.Visible=true
E.Visible=false
G.Visible=falsenewif H~=nil then
if aB=="Color3"then
aJ.Text="["..ab.ColorToBytes(H).."]"
elseif aA.Category=="Enum"then
aJ.Text=H.Name
elseif aq.RoundableTypes[aB]and ad.Properties.NumberRounding then
local L=aq.ValueToString(ax,H)
aJ.Text=L:gsub("-?%d+%.%d+",function(M)
return tostring(tonumber(("%."..ad.Properties.NumberRounding.."f"):format(M)))
end)
else
aJ.Text=aq.ValueToString(ax,H)
end
else
aJ.Text=""
endnewaJ.TextColor3=aC.ReadOnly and ad.Theme.PlaceholderText or ad.Theme.Text
end
endnewaq.Refresh=function()
local ax=math.max(math.ceil((at.AbsoluteSize.Y)/23),0)
local ay=at.AbsoluteSize.X
local aA=math.max(aq.MinInputWidth,ay-aq.ViewWidth)
local aB=false local aC=
g.IsA
local aD=UDim2
local aE=u.split
local aF=ad.Properties.ScaleTypenew
for aG=1,#s do
s[aG]:Disconnect()
end
t.clear(s)new
aq.FullNameFrame.Visible=false
aq.FullNameFrameAttach.Disable()newfor aG=1,ax do
local aH=m[aG]
if not m[aG]then aH=aq.NewPropEntry(aG)m[aG]=aH endnewlocal aI=aH.Gui
local aJ=aH.GuiElems
local A=aJ.NameFrame
local B=aJ.PropName
local C=aJ.ValueFrame
local D=aJ.Expand
local E=aJ.ValueBox
local F=aJ.PropName local G=
aJ.RightButton
local H=aJ.EditAttributeButton
local I=aJ.ToggleAttributesnewlocal J=j[aG+aq.Index]
if J then
local K=(aF==0 and av.Index or 0)
aI.Visible=true
aI.Position=aD.new(0,-K,0,aI.Position.Y.Offset)
aI.Size=aD.new(aF==0 and 0 or 1,aF==0 and aq.ViewWidth+aA or 0,0,22)newif J.SpecialRow then
if J.SpecialRow=="AddAttribute"then
A.Visible=false
C.Visible=false
aJ.RowButton.Visible=true
end
elsenewA.Visible=true
aJ.RowButton.Visible=falsenewlocal L=aq.EntryIndent*(J.Depth or 1)
local M=L+aq.EntryOffset
A.Position=aD.new(0,M,0,0)
B.Size=aD.new(1,-2-(aF==0 and 0 or 6),1,0)newlocal N=(J.CategoryName and"CAT_"..J.CategoryName)or J.Class.."."..J.Name..(J.SubName or"")newif J.CategoryName then
aI.BackgroundColor3=ad.Theme.Main1
C.Visible=falsenewF.Text=J.CategoryName
F.Font=Enum.Font.SourceSansBold
D.Visible=true
F.TextColor3=ad.Theme.Text
A.BackgroundTransparency=1
A.Size=aD.new(1,0,1,0)
H.Visible=falsenewlocal O=ad.Properties.ShowAttributes
I.Position=aD.new(1,-85-M,0,0)
I.Text=(O and"[Setting: ON]"or"[Setting: OFF]")
I.TextColor3=ad.Theme.Text
I.Visible=(J.CategoryName=="Attributes")
else
local O=J.Name
local P=J.ValueType
local Q=P.Name
local R=J.Tags
local S=n[N]newlocal T=(J.IsAttribute and 20 or 0)
H.Visible=(J.IsAttribute and not J.RootType)
I.Visible=falsenew
if aF==0 then
A.Size=aD.new(0,aq.ViewWidth-M-1,1,0)
C.Position=aD.new(0,aq.ViewWidth,0,0)
C.Size=aD.new(0,aA-T,1,0)
else
A.Size=aD.new(0.5,-M-1,1,0)
C.Position=aD.new(0.5,0,0,0)
C.Size=aD.new(0.5,-T,1,0)
endnewlocal U=aE(N,".")
F.Text=J.DisplayName or U[#U]
F.Font=Enum.Font.SourceSans
aI.BackgroundColor3=ad.Theme.Main2
C.Visible=truenewD.Visible=P.Category=="DataType"and aq.ExpandableTypes[Q]or aq.ExpandableProps[N]
F.TextColor3=R.ReadOnly and ad.Theme.PlaceholderText or ad.Theme.Textnew
aq.DisplayProp(J,aG)
if S then
if J.IsAttribute then
s[#s+1]=w(S,J.AttributeName):Connect(function()
aq.DisplayProp(J,aG)
end)
else
s[#s+1]=v(S,O):Connect(function()
aq.DisplayProp(J,aG)
end)
end
endnew
local V=E.Visible
local W=q and(q.Class.."."..q.Name..(q.SubName or""))
if N==W then
A.BackgroundColor3=ad.Theme.ListSelection
A.BackgroundTransparency=0
if P.Category=="Class"or P.Category=="Enum"or Q=="BrickColor"then
C.BackgroundColor3=ad.Theme.TextBox
C.BackgroundTransparency=0
E.Visible=true
else
aB=true
local X=(aF==0 and 0 or 0.5)
local Y=(aF==0 and aq.ViewWidth-av.Index or 0)
local Z=0newif Q=="Color3"or Q=="ColorSequence"then
Y=Y+22
endnewif Q=="NumberSequence"or Q=="ColorSequence"then
Z=20
endnewo.Position=aD.new(X,Y,0,aI.Position.Y.Offset)
o.Size=aD.new(1-X,-Y-Z-T,0,22)
o.Visible=true
E.Visible=false
end
else
A.BackgroundColor3=ad.Theme.Main1
A.BackgroundTransparency=1
C.BackgroundColor3=ad.Theme.Main1
C.BackgroundTransparency=1
E.Visible=V
end
endnew
if J.CategoryName or aq.ExpandableTypes[J.ValueType and J.ValueType.Name]or aq.ExpandableProps[N]then
if ab.CheckMouseInGui(D)then
aa.MiscIcons:DisplayByKey(D.Icon,k[N]and"Collapse_Over"or"Expand_Over")
else
aa.MiscIcons:DisplayByKey(D.Icon,k[N]and"Collapse"or"Expand")
end
D.Visible=true
else
D.Visible=false
end
end
aI.Visible=true
else
aI.Visible=false
end
endnewif not aB then
o.Visible=false
endnewfor aG=ax+1,#m do
m[aG].Gui:Destroy()
m[aG]=nil
r[aG]=nil
end
endnewaq.SetProp=function(ax,ay,aA,aB)
local aC=ae.Selection.List
local aD=ax.Name
local aE=ax.SubName
local aF=ax.Class
local aG=ax.ValueType
local aH=aG.Name
local aI=ax.AttributeName
local aJ=ax.RootType
local A=aJ and aJ.Name local B=
ax.Class.."."..ax.Name..(ax.SubName or"")
local C=Vector3newfor D=1,#aC do
local E=aC[D]
local F=E.Objnewif x(F,aF)then
pcall(function()
local G=ay
local H
if ax.IsAttribute then
H=y(F,aI)
else
H=F[aD]
endnewif aB then
if aB.ValueType.Name==aH then
G=y(F,aB.AttributeName)or G
end
z(F,aB.AttributeName,nil)
endnewif A then
if A=="Vector2"then
G=Vector2.new((aE==".X"and G)or H.X,(aE==".Y"and G)or H.Y)
elseif A=="Vector3"then
G=C.new((aE==".X"and G)or H.X,(aE==".Y"and G)or H.Y,(aE==".Z"and G)or H.Z)
elseif A=="UDim"then
G=UDim.new((aE==".Scale"and G)or H.Scale,(aE==".Offset"and G)or H.Offset)
elseif A=="UDim2"then
local I,J=H.X,H.Y
local K=(aE==".X"and G)or UDim.new((aE==".X.Scale"and G)or I.Scale,(aE==".X.Offset"and G)or I.Offset)
local L=(aE==".Y"and G)or UDim.new((aE==".Y.Scale"and G)or J.Scale,(aE==".Y.Offset"and G)or J.Offset)
G=UDim2.new(K,L)
elseif A=="CFrame"then
local I,J,K,L=H.Position,H.RightVector,H.UpVector,H.LookVector
local M=(aE==".Position"and G)or C.new((aE==".Position.X"and G)or I.X,(aE==".Position.Y"and G)or I.Y,(aE==".Position.Z"and G)or I.Z)
local N=(aE==".RightVector"and G)or C.new((aE==".RightVector.X"and G)or J.X,(aE==".RightVector.Y"and G)or J.Y,(aE==".RightVector.Z"and G)or J.Z)
local O=(aE==".UpVector"and G)or C.new((aE==".UpVector.X"and G)or K.X,(aE==".UpVector.Y"and G)or K.Y,(aE==".UpVector.Z"and G)or K.Z)
local P=(aE==".LookVector"and G)or C.new((aE==".LookVector.X"and G)or L.X,(aE==".RightVector.Y"and G)or L.Y,(aE==".RightVector.Z"and G)or L.Z)
G=CFrame.fromMatrix(M,N,O,-P)
elseif A=="Rect"then
local I,J=H.Min,H.Max
local K=Vector2.new((aE==".Min.X"and G)or I.X,(aE==".Min.Y"and G)or I.Y)
local L=Vector2.new((aE==".Max.X"and G)or J.X,(aE==".Max.Y"and G)or J.Y)
G=Rect.new(K,L)
elseif A=="PhysicalProperties"then
local I=PhysicalProperties.new(F.Material)
local J=(aE==".Density"and G)or(H and H.Density)or I.Density
local K=(aE==".Friction"and G)or(H and H.Friction)or I.Friction
local L=(aE==".Elasticity"and G)or(H and H.Elasticity)or I.Elasticity
local M=(aE==".FrictionWeight"and G)or(H and H.FrictionWeight)or I.FrictionWeight
local N=(aE==".ElasticityWeight"and G)or(H and H.ElasticityWeight)or I.ElasticityWeight
G=PhysicalProperties.new(J,K,L,M,N)
elseif A=="Ray"then
local I,J=H.Origin,H.Direction
local K=(aE==".Origin"and G)or C.new((aE==".Origin.X"and G)or I.X,(aE==".Origin.Y"and G)or I.Y,(aE==".Origin.Z"and G)or I.Z)
local L=(aE==".Direction"and G)or C.new((aE==".Direction.X"and G)or J.X,(aE==".Direction.Y"and G)or J.Y,(aE==".Direction.Z"and G)or J.Z)
G=Ray.new(K,L)
elseif A=="Faces"then
local I={}
local J={"Back","Bottom","Front","Left","Right","Top"}
for K,L in pairs(J)do
local M
if aE=="."..L then
M=G
else
M=H[L]
end
if M then I[#I+1]=Enum.NormalId[L]end
end
G=Faces.new(unpack(I))
elseif A=="Axes"then
local I={}
local J={"X","Y","Z"}
for K,L in pairs(J)do
local M
if aE=="."..L then
M=G
else
M=H[L]
end
if M then I[#I+1]=Enum.Axis[L]end
end
G=Axes.new(unpack(I))
elseif A=="NumberRange"then
G=NumberRange.new(aE==".Min"and G or H.Min,aE==".Max"and G or H.Max)
end
endnewif aH=="PhysicalProperties"and G then
G=H or PhysicalProperties.new(F.Material)
endnewif ax.IsAttribute then
z(F,aI,G)
else
F[aD]=G
end
end)
end
endnewif not aA then
aq.ComputeConflicts(ax)
end
endnewaq.InitInputBox=function()
o=ao{
{1,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderSizePixel=0,Name="InputBox",Size=UDim2.new(0,200,0,22),Visible=false,ZIndex=2,}},
{2,"TextBox",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BackgroundTransparency=1,BorderColor3=Color3.new(0.062745101749897,0.51764708757401,1),BorderSizePixel=0,ClearTextOnFocus=false,Font=3,Parent={1},PlaceholderColor3=Color3.new(0.69803923368454,0.69803923368454,0.69803923368454),Position=UDim2.new(0,3,0,0),Size=UDim2.new(1,-6,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,ZIndex=2,}},
}
p=o.TextBox
o.BackgroundColor3=ad.Theme.TextBox
o.Parent=aq.Window.GuiElems.Content.Listnewp.FocusLost:Connect(function()
if not q then return endnewlocal ax=q
q=nil
local ay=aq.StringToValue(ax,p.Text)
if ay then aq.SetProp(ax,ay)else aq.Refresh()end
end)newp.Focused:Connect(function()
p.SelectionStart=1
p.CursorPosition=#p.Text+1
end)newab.ViewportTextBox.convert(p)
endnewaq.SetInputProp=function(ax,ay,aA)
local aB=ax.ValueType
local aC=aB.Name
local aD=ax.Class.."."..ax.Name..(ax.SubName or"")
local aE=n[aD]
local aF=aq.GetPropVal(ax,aE)newif ax.Tags.ReadOnly then return endnewq=ax
if aA then
if aA=="color"then
if aC=="Color3"then
p.Text=aF and aq.ValueToString(ax,aF)or""
aq.DisplayColorEditor(ax,aF)
elseif aC=="BrickColor"then
aq.DisplayBrickColorEditor(ax,ay,aF)
elseif aC=="ColorSequence"then
p.Text=aF and aq.ValueToString(ax,aF)or""
aq.DisplayColorSequenceEditor(ax,aF)
end
elseif aA=="right"then
if aC=="NumberSequence"then
p.Text=aF and aq.ValueToString(ax,aF)or""
aq.DisplayNumberSequenceEditor(ax,aF)
elseif aC=="ColorSequence"then
p.Text=aF and aq.ValueToString(ax,aF)or""
aq.DisplayColorSequenceEditor(ax,aF)
end
end
else
if aq.IsTextEditable(ax)then
p.Text=aF and aq.ValueToString(ax,aF)or""
p:CaptureFocus()
elseif aB.Category=="Enum"then
aq.DisplayEnumDropdown(ay)
elseif aC=="BrickColor"then
aq.DisplayBrickColorEditor(ax,ay,aF)
end
end
aq.Refresh()
endnewaq.InitSearch=function()
local ax=am.TweenService
local ay=aq.GuiElems.ToolBar.SearchFrame
local aA=ay.SearchBoxnewlocal aB=TweenInfo.new(0.2,Enum.EasingStyle.Quint)newlocal aC={
Start=ax:Create(ay.UIStroke,aB,{Color=Color3.fromRGB(0,120,215)}),
End=ax:Create(ay.UIStroke,aB,{Color=Color3.fromRGB(42,42,42)})
}newab.ViewportTextBox.convert(aA)newaA.FocusLost:Connect(function()aC.End:Play()end)
aA.Focused:Connect(function()aC.Start:Play()end)newaA:GetPropertyChangedSignal"Text":Connect(function()
aq.SearchText=aA.Text
aq.Update()
aq.Refresh()
end)
endnewaq.InitEntryStuff=function()
aq.EntryTemplate=ao{
{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Font=3,Name="Entry",Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,250,0,22),Text="",TextSize=14,}},
{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="NameFrame",Parent={1},Position=UDim2.new(0,20,0,0),Size=UDim2.new(1,-40,1,0),}},
{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="PropName",Parent={2},Position=UDim2.new(0,2,0,0),Size=UDim2.new(1,-2,1,0),Text="Anchored",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextXAlignment=0,}},
{4,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Font=3,Name="Expand",Parent={2},Position=UDim2.new(0,-20,0,1),Size=UDim2.new(0,20,0,20),Text="",TextSize=14,Visible=false,}},
{5,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={4},Position=UDim2.new(0,2,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16),}},
{6,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=4,Name="ToggleAttributes",Parent={2},Position=UDim2.new(1,-85,0,0),Size=UDim2.new(0,85,0,22),Text="[SETTING: OFF]",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,Visible=false,}},
{7,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019607901573,0.73725491762161),BorderSizePixel=0,Name="ValueFrame",Parent={1},Position=UDim2.new(1,-100,0,0),Size=UDim2.new(0,80,1,0),}},
{8,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="Line",Parent={7},Position=UDim2.new(0,-1,0,0),Size=UDim2.new(0,1,1,0),}},
{9,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="ColorButton",Parent={7},Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false,}},
{10,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Name="ColorPreview",Parent={9},Position=UDim2.new(0,5,0,6),Size=UDim2.new(0,10,0,10),}},
{11,"UIGradient",{Parent={10},}},
{12,"Frame",{BackgroundTransparency=1,Name="EnumArrow",Parent={7},Position=UDim2.new(1,-16,0,3),Size=UDim2.new(0,16,0,16),Visible=false,}},
{13,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,8,0,9),Size=UDim2.new(0,1,0,1),}},
{14,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,7,0,8),Size=UDim2.new(0,3,0,1),}},
{15,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,1),}},
{16,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="ValueBox",Parent={7},Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-8,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextXAlignment=0,}},
{17,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="RightButton",Parent={7},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="...",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false,}},
{18,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SettingsButton",Parent={7},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false,}},
{19,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="SoundPreview",Parent={7},Size=UDim2.new(1,0,1,0),Visible=false,}},
{20,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="ControlButton",Parent={19},Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{21,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={20},Position=UDim2.new(0,2,0,3),ScaleType=4,Size=UDim2.new(0,16,0,16),}},
{22,"Frame",{BackgroundColor3=Color3.new(0.3137255012989,0.3137255012989,0.3137255012989),BorderSizePixel=0,Name="TimeLine",Parent={19},Position=UDim2.new(0,26,0.5,-1),Size=UDim2.new(1,-34,0,2),}},
{23,"Frame",{BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Name="Slider",Parent={22},Position=UDim2.new(0,-4,0,-8),Size=UDim2.new(0,8,0,18),}},
{24,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="EditAttributeButton",Parent={1},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{25,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718180",ImageTransparency=0.20000000298023,Name="Icon",Parent={24},Position=UDim2.new(0,2,0,3),Size=UDim2.new(0,16,0,16),}},
{26,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderSizePixel=0,Font=3,Name="RowButton",Parent={1},Size=UDim2.new(1,0,1,0),Text="Add Attribute",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,Visible=false,}},
}newlocal ax=ab.Frame.new()
local ay=ab.Label.new()
ay.Parent=ax.Gui
ay.Position=UDim2.new(0,2,0,0)
ay.Size=UDim2.new(1,-4,1,0)
ax.Visible=false
ax.Parent=ar.Guinewaq.FullNameFrame=ax
aq.FullNameFrameAttach=ab.AttachTo(ax)
endnewaq.Init=function()
local ax=ao{
{1,"Folder",{Name="Items",}},
{2,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ToolBar",Parent={1},Size=UDim2.new(1,0,0,22),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchFrame",Parent={2},Position=UDim2.new(0,3,0,1),Size=UDim2.new(1,-6,0,18),}},
{4,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClearTextOnFocus=false,Font=3,Name="SearchBox",Parent={3},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="Search properties",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-24,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,}},
{5,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3},}},
{6,"UIStroke",{Thickness=1.4,Parent={3},Color=Color3.fromRGB(42,42,42)}},
{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Reset",Parent={3},Position=UDim2.new(1,-17,0,1),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718129",ImageColor3=Color3.new(0.39215686917305,0.39215686917305,0.39215686917305),Parent={7},Size=UDim2.new(0,16,0,16),}},
{9,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Refresh",Parent={2},Position=UDim2.new(1,-20,0,1),Size=UDim2.new(0,18,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false,}},
{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642310344",Parent={9},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,12,0,12),}},
{11,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Parent={1},Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false,}},
{12,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Name="List",Parent={1},Position=UDim2.new(0,0,0,23),Size=UDim2.new(1,0,1,-23),}},
}new
h=ai.CategoryOrder
for ay,aA in next,h do
if not aq.CollapsedCategories[ay]then
k["CAT_"..ay]=true
end
end
k["Sound.SoundId"]=truenew
ar=ab.Window.new()
aq.Window=ar
ar:SetTitle"Properties"newas=ax.ToolBar
at=ax.Listnewaq.GuiElems.ToolBar=as
aq.GuiElems.PropsFrame=atnewaq.InitEntryStuff()new
ar.GuiElems.Main:GetPropertyChangedSignal"AbsoluteSize":Connect(function()
if aq.Window:IsContentVisible()then
aq.UpdateView()
aq.Refresh()
end
end)
ar.OnActivate:Connect(function()
aq.UpdateView()
aq.Update()
aq.Refresh()
end)
ar.OnRestore:Connect(function()
aq.UpdateView()
aq.Update()
aq.Refresh()
end)new
au=ab.ScrollBar.new()
au.WheelIncrement=3
au.Gui.Position=UDim2.new(1,-16,0,23)
au:SetScrollFrame(at)
au.Scrolled:Connect(function()
aq.Index=au.Index
aq.Refresh()
end)newav=ab.ScrollBar.new(true)
av.Increment=5
av.WheelIncrement=20
av.Gui.Position=UDim2.new(0,0,1,-16)
av.Scrolled:Connect(function()
aq.Refresh()
end)new
ar.GuiElems.Line.Position=UDim2.new(0,0,0,22)
as.Parent=ar.GuiElems.Content
at.Parent=ar.GuiElems.Content
ax.ScrollCorner.Parent=ar.GuiElems.Content
au.Gui.Parent=ar.GuiElems.Content
av.Gui.Parent=ar.GuiElems.Content
aq.InitInputBox()
aq.InitSearch()
endnewreturn aq
endnewreturn{InitDeps=initDeps,InitAfterMain=initAfterMain,Main=main}
end,
ScriptViewer=function()newnewnewnewlocal aa,ab,ac,ad
local ae,af,ag,ah
local ai,aj,ak,am,an,ao,apnewlocal function initDeps(aq)
aa=aq.Main
ab=aq.Lib
ac=aq.Apps
ad=aq.Settingsnewai=aq.API
aj=aq.RMD
ak=aq.env
am=aq.service
an=aq.plr
ao=aq.create
ap=aq.createSimple
endnewlocal function initAfterMain()
ae=ac.Explorer
af=ac.Properties
ag=ac.ScriptViewer
ah=ac.Notebook
endnewlocal function main()
local aq={}
local ar,as
local atnewaq.ViewScript=function(au)
local av,ax=pcall(ak.decompile,au)
if not av or not ax then ax,at=("-- DEX - %s failed to decompile %s"):format(ak.executor,au.ClassName),nil else at=au end
as:SetText(ax:gsub("\0","\\0"))
ar:Show()
endnewaq.Init=function()
ar=ab.Window.new()
ar:SetTitle"Script Viewer"
ar:Resize(500,400)
aq.Window=arnewas=ab.CodeFrame.new()
as.Frame.Position=UDim2.new(0,0,0,20)
as.Frame.Size=UDim2.new(1,0,1,-20)
as.Frame.Parent=ar.GuiElems.Contentnew
local au=a("TextButton",ar.GuiElems.Content)
au.BackgroundTransparency=1
au.Size=UDim2.new(0.5,0,0,20)
au.Text="Copy to Clipboard"
au.TextColor3=Color3.new(1,1,1)newau.MouseButton1Click:Connect(function()
local av=as:GetText()
ak.setclipboard(av)
end)newlocal av=a("TextButton",ar.GuiElems.Content)
av.BackgroundTransparency=1
av.Position=UDim2.new(0.35,0,0,0)
av.Size=UDim2.new(0.3,0,0,20)
av.Text="Save to File"
av.TextColor3=Color3.new(1,1,1)newav.MouseButton1Click:Connect(function()
local ax=as:GetText()
local ay="Place_"..g.PlaceId.."_Script_"..os.time()..".txt"newak.writefile(ay,ax)
if ak.movefileas then
ak.movefileas(ay,".txt")
end
end)newlocal ax=a("TextButton",ar.GuiElems.Content)
ax.BackgroundTransparency=1
ax.Position=UDim2.new(0.7,0,0,0)
ax.Size=UDim2.new(0.3,0,0,20)
ax.Text="Dump Functions"
ax.TextColor3=Color3.new(1,1,1)newax.MouseButton1Click:Connect(function()
if at~=nil then
pcall(function()newlocal ay=getgc or get_gc_objects
local aA=(debug and debug.getupvalues)or getupvalues or getupvals
local aB=(debug and debug.getconstants)or getconstants or getconsts
local aC=(debug and(debug.getinfo or debug.info))or getinfo
local aD=("\n-- // Function Dumper made by King.Kevin\n-- // Script Path: %s\n\n--[["):format(at:GetFullName())
local aE=aD local
aF, aG={}, {}
function aF.add_to_dump(aH,aI,aJ,h)
local i=h or true
aE=aE..("%s%s%s"):format(string.rep("		",aJ),tostring(aI),i and"\n"or"")
end
function aF.get_function_name(aH,aI)
local aJ=aC(aI).name
return aJ~=""and aJ or"Unknown Name"
end
function aF.dump_table(aH,aI,aJ,h)
local i=aJ<0 and 0 or aJ
aF:add_to_dump(("%s [%s] %s"):format(tostring(h),tostring(typeof(aI)),tostring(aI)),i-1)
local j=0
for k,l in pairs(aI)do
j=j+1
if type(l)=="function"then
aF:add_to_dump(("%d [function] = %s"):format(j,aF:get_function_name(l)),i)
elseif type(l)=="table"then
if not aG[l]then
aG[l]=true
aF:add_to_dump(("%d [table]:"):format(j),i)
aF:dump_table(l,i+1,k)
else
aF:add_to_dump(("%d [table] (Recursive table detected)"):format(j),i)
end
else
aF:add_to_dump(("%d [%s] = %s"):format(j,tostring(typeof(l)),tostring(l)),i)
end
end
end
function aF.dump_function(aH,aI,aJ)
aF:add_to_dump(("\nFunction Dump: %s"):format(aF:get_function_name(aI)),aJ)
aF:add_to_dump(("\nFunction Upvalues: %s"):format(aF:get_function_name(aI)),aJ)
for h,i in pairs(aA(aI))do
if type(i)=="function"then
aF:add_to_dump(("%d [function] = %s"):format(h,aF:get_function_name(i)),aJ+1)
elseif type(i)=="table"then
if not aG[i]then
aG[i]=true
aF:add_to_dump(("%d [table]:"):format(h),aJ+1)
aF:dump_table(i,aJ+2,h)
else
aF:add_to_dump(("%d [table] (Recursive table detected)"):format(h),aJ+1)
end
else
aF:add_to_dump(("%d [%s] = %s"):format(h,tostring(typeof(i)),tostring(i)),aJ+1)
end
end
aF:add_to_dump(("\nFunction Constants: %s"):format(aF:get_function_name(aI)),aJ)
for h,i in pairs(aB(aI))do
if type(i)=="function"then
aF:add_to_dump(("%d [function] = %s"):format(h,aF:get_function_name(i)),aJ+1)
elseif type(i)=="table"then
if not aG[i]then
aG[i]=true
aF:add_to_dump(("%d [table]:"):format(h),aJ+1)
aF:dump_table(i,aJ+2,h)
else
aF:add_to_dump(("%d [table] (Recursive table detected)"):format(h),aJ+1)
end
else
aF:add_to_dump(("%d [%s] = %s"):format(h,tostring(typeof(i)),tostring(i)),aJ+1)
end
end
end
for aH,aI in pairs(ay())do
if typeof(aI)=="function"and getfenv(aI).script and getfenv(aI).script==at then
aF:dump_function(aI,0)
aF:add_to_dump("\n"..("="):rep(100),0,false)
end
end
local aH=as:GetText()newif aE~=aD then aH=aH..aE.."]]"end
as:SetText(aH)
end)
end
end)
endnewreturn aq
endnewreturn{InitDeps=initDeps,InitAfterMain=initAfterMain,Main=main}
end,
Lib=function()newnewnewnewlocal aa,ab,ac,ad
local ae,af,ag,ah
local ai,aj,ak,am,an,ao,apnewlocal function initDeps(aq)
aa=aq.Main
ab=aq.Lib
ac=aq.Apps
ad=aq.Settingsnewai=aq.API
aj=aq.RMD
ak=aq.env
am=aq.service
an=aq.plr
ao=aq.create
ap=aq.createSimple
endnewlocal function initAfterMain()
ae=ac.Explorer
af=ac.Properties
ag=ac.ScriptViewer
ah=ac.Notebook
endnewlocal function main()
local aq={}newlocal ar=am.RunService.RenderStepped
local as=ar.wait
local at=newproxy()
local au=newproxy()new
local function initObj(av,ax)
local ay=type
local function copy(aA)
local aB={}
for aC,aD in pairs(aA)do
if aD==au then
aB[aC]=aq.Signal.new()
elseif ay(aD)=="table"then
aB[aC]=copy(aD)
else
aB[aC]=aD
end
end
return aB
endnewlocal aA=copy(av)
return setmetatable(aA,ax)
endnewlocal function getGuiMT(av,ax)
return{__index=function(ay,aA)if not av[aA]then return ax[aA]or ay.Gui[aA]end end,
__newindex=function(ay,aA,aB)if not av[aA]then ay.Gui[aA]=aB else rawset(ay,aA,aB)end end}
endnewnewaq.FormatLuaString=(function()
local av=string
local ax=av.gsub
local ay=av.format
local aA=av.char
local aB={['"']='\\"',['\\']='\\\\'}
for aC=0,31 do
aB[aA(aC)]="\\"..ay("%03d",aC)
end
for aC=127,255 do
aB[aA(aC)]="\\"..ay("%03d",aC)
endnewreturn function(aC)
return ax(aC,"[\"\\\0-\31\127-\255]",aB)
end
end)()newaq.CheckMouseInGui=function(av)
if av==nil then return false end
local ax=aa.Mouse
local ay=av.AbsolutePosition
local aA=av.AbsoluteSizenewreturn ax.X>=ay.X and ax.X<ay.X+aA.X and ax.Y>=ay.Y and ax.Y<ay.Y+aA.Y
endnewaq.IsShiftDown=function()
return am.UserInputService:IsKeyDown(Enum.KeyCode.LeftShift)or am.UserInputService:IsKeyDown(Enum.KeyCode.RightShift)
endnewaq.IsCtrlDown=function()
return am.UserInputService:IsKeyDown(Enum.KeyCode.LeftControl)or am.UserInputService:IsKeyDown(Enum.KeyCode.RightControl)
endnewaq.CreateArrow=function(av,ax,ay)
local aA=ax
local aB=ap("Frame",{
BackgroundTransparency=1,
Name="Arrow",
Size=UDim2.new(0,av,0,av)
})
if ay=="up"then
for aC=1,ax do
ap("Frame",{
BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),
BorderSizePixel=0,
Position=UDim2.new(0,math.floor(av/2)-(aC-1),0,math.floor(av/2)+aC-math.floor(aA/2)-1),
Size=UDim2.new(0,aC+(aC-1),0,1),
Parent=aB
})
end
return aB
elseif ay=="down"then
for aC=1,ax do
ap("Frame",{
BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),
BorderSizePixel=0,
Position=UDim2.new(0,math.floor(av/2)-(aC-1),0,math.floor(av/2)-aC+math.floor(aA/2)+1),
Size=UDim2.new(0,aC+(aC-1),0,1),
Parent=aB
})
end
return aB
elseif ay=="left"then
for aC=1,ax do
ap("Frame",{
BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),
BorderSizePixel=0,
Position=UDim2.new(0,math.floor(av/2)+aC-math.floor(aA/2)-1,0,math.floor(av/2)-(aC-1)),
Size=UDim2.new(0,1,0,aC+(aC-1)),
Parent=aB
})
end
return aB
elseif ay=="right"then
for aC=1,ax do
ap("Frame",{
BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),
BorderSizePixel=0,
Position=UDim2.new(0,math.floor(av/2)-aC+math.floor(aA/2)+1,0,math.floor(av/2)-(aC-1)),
Size=UDim2.new(0,1,0,aC+(aC-1)),
Parent=aB
})
end
return aB
end
error"r u ok"
endnewaq.ParseXML=(function()
local av=function()localnewnewav, ax=string, pairsnewnewnewnewav.byte('>',1)
local ay=av.byte('/',1)
av.byte('D',1)
local aA=av.byte('E',1)newfunction parse(aB,aC)newaB=aB:gsub('<!%-%-(.-)%-%->','')newlocal aD,aE={}newif aC then
local aF=aB:find'<[_%w]'
if aF then
aB:sub(1,aF):gsub('<!ENTITY%s+([_%w]+)%s+(.)(.-)%2',function(aG,aH,aI)
aD[#aD+1]={name=aG,value=aI}
end)
aE=createEntityTable(aD)
aB=replaceEntities(aB:sub(aF),aE)
end
endnewlocal aF,aG={},{}newlocal aH=function(aH)
aH=aH:match'^%s*(.*%S)'or''
if#aH~=0 then
aF[#aF+1]={text=aH}
end
endnewaB:gsub('<([?!/]?)([-:_%w]+)%s*(/?>?)([^<]*)',function(aI,aJ,h,i)newif#aI==0 then
local j={}
if#h==0 then
local k=0
for l,m,n,o,p in av.gmatch(i,"(.-([-_%w]+)%s*=%s*(.)(.-)%3%s*(/?>?))")do
k=k+#l
j[m]=o
if#p~=0 then
i=i:sub(k+1)
h=p
break
end
end
end
aF[#aF+1]={tag=aJ,attrs=j,children={}}newif h:byte(1)~=ay then
aG[#aG+1]=aF
aF=aF[#aF].children
endnewaH(i)newelseif'/'==aI then
aF=aG[#aG]
aG[#aG]=nilnewaH(i)newelseif'!'==aI then
if aA==aJ:byte(1)then
i:gsub('([_%w]+)%s+(.)(.-)%2',function(j,k,l)
aD[#aD+1]={name=j,value=l}
end,1)
endnewnewnew
end
end)newreturn{children=aF,entities=aD,tentities=aE}
endnewfunction parseText(aB)
return parse(aB)
endnewfunction defaultEntityTable()
return{quot='"',apos='\'',lt='<',gt='>',amp='&',tab='\t',nbsp=' ',}
endnewfunction replaceEntities(aB,aC)
return aB:gsub('&([^;]+);',aC)
endnewfunction createEntityTable(aB,aC)
entities=aC or defaultEntityTable()
for aD,aE in ax(aB)do
aE.value=replaceEntities(aE.value,entities)
entities[aE.name]=aE.value
end
return entities
endnewreturn parseText
end
local ax=setmetatable({},{__index=getfenv()})
setfenv(av,ax)
return av()
end)()newaq.FastWait=function(av)
if not av then return as(ar)end
local ax=tick()
while tick()-ax<av do as(ar)end
endnewaq.ButtonAnim=function(av,ax)
local ay=false
local aA=false
local aB=ax and ax.Mode or 1
local aC={}newif aB==2 then
local aD=ax.LerpTo or Color3.new(0,0,0)
local aE=ax.LerpDelta or 0.2
aC.StartColor=ax.StartColor or av.BackgroundColor3
aC.PressColor=ax.PressColor or aC.StartColor:lerp(aD,aE)
aC.HoverColor=ax.HoverColor or aC.StartColor:lerp(aC.PressColor,0.6)
aC.OutlineColor=ax.OutlineColor
endnewav.InputBegan:Connect(function(aD)
if aA then return endnewif aD.UserInputType==Enum.UserInputType.MouseMovement or aD.UserInputType==Enum.UserInputType.Touch then
if not ay then
if aB==1 then
av.BackgroundTransparency=0.4
elseif aB==2 then
av.BackgroundColor3=aC.HoverColor
end
end
elseif aD.UserInputType==Enum.UserInputType.MouseButton1 or aD.UserInputType==Enum.UserInputType.Touch then
ay=true
if aB==1 then
av.BackgroundTransparency=0
elseif aB==2 then
av.BackgroundColor3=aC.PressColor
if aC.OutlineColor then av.BorderColor3=aC.PressColor end
end
end
end)newav.InputEnded:Connect(function(aD)
if aA then return endnewif aD.UserInputType==Enum.UserInputType.MouseMovement or aD.UserInputType==Enum.UserInputType.Touch then
if not ay then
if aB==1 then
av.BackgroundTransparency=1
elseif aB==2 then
av.BackgroundColor3=aC.StartColor
end
end
elseif aD.UserInputType==Enum.UserInputType.MouseButton1 or aD.UserInputType==Enum.UserInputType.Touch then
ay=false
if aB==1 then
av.BackgroundTransparency=aq.CheckMouseInGui(av)and 0.4 or 1
elseif aB==2 then
av.BackgroundColor3=aq.CheckMouseInGui(av)and aC.HoverColor or aC.StartColor
if aC.OutlineColor then av.BorderColor3=aC.OutlineColor end
end
end
end)newaC.Disable=function()
aA=true
ay=falsenewif aB==1 then
av.BackgroundTransparency=1
elseif aB==2 then
av.BackgroundColor3=aC.StartColor
end
endnewaC.Enable=function()
aA=false
endnewreturn aC
endnewaq.FindAndRemove=function(av,ax)
local ay=table.find(av,ax)
if ay then table.remove(av,ay)end
endnewaq.AttachTo=function(av,ax)
local ay,aA,aB,aC,aD,aE,aF
local aG=falsenewlocal function update()
if not av or not ay then return endnewlocal aH=ay.AbsolutePosition
local aI=ay.AbsoluteSize
av.Position=UDim2.new(0,aH.X+aA,0,aH.Y+aB)
if aE then av.Size=UDim2.new(0,aI.X+aC,0,aI.Y+aD)end
endnewlocal function setup(aH,aI)
av=aH
aI=aI or{}
ay=aI.Target
aA=aI.PosOffX or 0
aB=aI.PosOffY or 0
aC=aI.SizeOffX or 0
aD=aI.SizeOffY or 0
aE=aI.Resize or falsenewif aF then aF:Disconnect()aF=nil end
if ay then
aF=ay.Changed:Connect(function(aJ)
if not aG and aJ=="AbsolutePosition"or aJ=="AbsoluteSize"then
update()
end
end)
endnewupdate()
end
setup(av,ax)newreturn{
SetData=function(aH,aI)
setup(aH,aI)
end,
Enable=function()
aG=false
update()
end,
Disable=function()
aG=true
end,
Destroy=function()
aF:Disconnect()
aF=nil
end,
}
endnewaq.ProtectedGuis={}newaq.ShowGui=function(av)
if ak.gethui then
av.Parent=ak.gethui()
elseif ak.protectgui then
ak.protectgui(av)
av.Parent=aa.GuiHolder
else
av.Parent=aa.GuiHolder
end
endnewaq.ColorToBytes=function(av)
local ax=math.round
return string.format("%d, %d, %d",ax(av.r*255),ax(av.g*255),ax(av.b*255))
endnewaq.ReadFile=function(av)
if not ak.readfile then return endnewlocal ax,ay=pcall(ak.readfile,av)
if ax and ay then return ay end
endnewaq.DeferFunc=function(av,...)
as(ar)
return av(...)
endnewaq.LoadCustomAsset=function(av)
if not ak.getcustomasset or not ak.isfile or not ak.isfile(av)then return endnewreturn ak.getcustomasset(av)
endnewaq.FetchCustomAsset=function(av,ax)
if not ak.writefile then return endnewlocal ay,aA=pcall(f.HttpGet,g,av)
if not ay then return endnewak.writefile(ax,aA)
return aq.LoadCustomAsset(ax)
endnewnewaq.Signal=(function()
local av={}newlocal ax=function(ax)
local ay=table.find(ax.Signal.Connections,ax)
if ay then table.remove(ax.Signal.Connections,ay)end
endnewav.Connect=function(ay,aA)
if type(aA)~="function"then error"Attempt to connect a non-function"end
local aB={
Signal=ay,
Func=aA,
Disconnect=ax
}
ay.Connections[#ay.Connections+1]=aB
return aB
endnewav.Fire=function(ay,...)
for aA,aB in next,ay.Connections do
xpcall(coroutine.wrap(aB.Func),function(aC)warn(aC.."\n"..debug.traceback())end,...)
end
endnewlocal ay={
__index=av,
__tostring=function(ay)
return"Signal: "..tostring(#ay.Connections).." Connections"
end
}newlocal function new()
local aA={}
aA.Connections={}newreturn setmetatable(aA,ay)
endnewreturn{new=new}
end)()newaq.Set=(function()
local av={}newav.Add=function(ax,ay)
if ax.Map[ay]then return endnewlocal aA=ax.List
aA[#aA+1]=ay
ax.Map[ay]=true
ax.Changed:Fire()
endnewav.AddTable=function(ax,ay)
local aA
local aB,aC=ax.List,ax.Map
for aD=1,#ay do
local aE=ay[aD]
if not aC[aE]then
aB[#aB+1]=aE
aC[aE]=true
aA=true
end
end
if aA then ax.Changed:Fire()end
endnewav.Remove=function(ax,ay)
if not ax.Map[ay]then return endnewlocal aA=ax.List
local aB=table.find(aA,ay)
if aB then table.remove(aA,aB)end
ax.Map[ay]=nil
ax.Changed:Fire()
endnewav.RemoveTable=function(ax,ay)
local aA
local aB,aC=ax.List,ax.Map
local aD={}
for aE=1,#ay do
local aF=ay[aE]
aC[aF]=nil
aD[aF]=true
endnewfor aE=#aB,1,-1 do
local aF=aB[aE]
if aD[aF]then
table.remove(aB,aE)
aA=true
end
end
if aA then ax.Changed:Fire()end
endnewav.Set=function(ax,ay)
if#ax.List==1 and ax.List[1]==ay then return endnewax.List={ay}
ax.Map={[ay]=true}
ax.Changed:Fire()
endnewav.SetTable=function(ax,ay)
local aA,aB={},{}
ax.List,ax.Map=aA,aB
table.move(ay,1,#ay,1,aA)
for aC=1,#ay do
aB[ay[aC] ]=true
end
ax.Changed:Fire()
endnewav.Clear=function(ax)
if#ax.List==0 then return end
ax.List={}
ax.Map={}
ax.Changed:Fire()
endnewlocal ax={__index=av}newlocal function new()
local ay=setmetatable({
List={},
Map={},
Changed=aq.Signal.new()
},ax)newreturn ay
endnewreturn{new=new}
end)()newaq.IconMap=(function()
local av={}
local ax,ay=(483448923),{Accessory=
32;Accoutrement=
32;AdService=
73;Animation=
60;AnimationController=
60;AnimationTrack=
60;Animator=
60;ArcHandles=
56;AssetService=
72;Attachment=
34;Backpack=
20;BadgeService=
75;BallSocketConstraint=
89;BillboardGui=
64;BinaryStringValue=
4;BindableEvent=
67;BindableFunction=
66;BlockMesh=
8;BloomEffect=
90;BlurEffect=
90;BodyAngularVelocity=
14;BodyForce=
14;BodyGyro=
14;BodyPosition=
14;BodyThrust=
14;BodyVelocity=
14;BoolValue=
4;BoxHandleAdornment=
54;BrickColorValue=
4;Camera=
5;CFrameValue=
4;CharacterMesh=
60;Chat=
33;ClickDetector=
41;CollectionService=
30;Color3Value=
4;ColorCorrectionEffect=
90;ConeHandleAdornment=
54;Configuration=
58;ContentProvider=
72;ContextActionService=
41;CoreGui=
46;CoreScript=
18;CornerWedgePart=
1;CustomEvent=
4;CustomEventReceiver=
4;CylinderHandleAdornment=
54;CylinderMesh=
8;CylindricalConstraint=
89;Debris=
30;Decal=
7;Dialog=
62;DialogChoice=
63;DoubleConstrainedValue=
4;Explosion=
36;FileMesh=
8;Fire=
61;Flag=
38;FlagStand=
39;FloorWire=
4;Folder=
70;ForceField=
37;Frame=
48;GamePassService=
19;Glue=
34;GuiButton=
52;GuiMain=
47;GuiService=
47;Handles=
53;HapticService=
84;Hat=
45;HingeConstraint=
89;Hint=
33;HopperBin=
22;HttpService=
76;Humanoid=
9;ImageButton=
52;ImageLabel=
49;InsertService=
72;IntConstrainedValue=
4;IntValue=
4;JointInstance=
34;JointsService=
34;Keyframe=
60;KeyframeSequence=
60;KeyframeSequenceProvider=
60;Lighting=
13;LineHandleAdornment=
54;LocalScript=
18;LogService=
87;MarketplaceService=
46;Message=
33;Model=
2;ModuleScript=
71;Motor=
34;Motor6D=
34;MoveToConstraint=
89;NegateOperation=
78;NetworkClient=
16;NetworkReplicator=
29;NetworkServer=
15;NumberValue=
4;ObjectValue=
4;Pants=
44;ParallelRampPart=
1;Part=
1;ParticleEmitter=
69;PartPairLasso=
57;PathfindingService=
37;Platform=
35;Player=
12;PlayerGui=
46;Players=
21;PlayerScripts=
82;PointLight=
13;PointsService=
83;Pose=
60;PrismaticConstraint=
89;PrismPart=
1;PyramidPart=
1;RayValue=
4;ReflectionMetadata=
86;ReflectionMetadataCallbacks=
86;ReflectionMetadataClass=
86;ReflectionMetadataClasses=
86;ReflectionMetadataEnum=
86;ReflectionMetadataEnumItem=
86;ReflectionMetadataEnums=
86;ReflectionMetadataEvents=
86;ReflectionMetadataFunctions=
86;ReflectionMetadataMember=
86;ReflectionMetadataProperties=
86;ReflectionMetadataYieldFunctions=
86;RemoteEvent=
80;RemoteFunction=
79;ReplicatedFirst=
72;ReplicatedStorage=
72;RightAngleRampPart=
1;RocketPropulsion=
14;RodConstraint=
89;RopeConstraint=
89;Rotate=
34;RotateP=
34;RotateV=
34;RunService=
66;ScreenGui=
47;Script=
6;ScrollingFrame=
48;Seat=
35;Selection=
55;SelectionBox=
54;SelectionPartLasso=
57;SelectionPointLasso=
57;SelectionSphere=
54;ServerScriptService=
0;ServerStorage=
74;Shirt=
43;ShirtGraphic=
40;SkateboardPlatform=
35;Sky=
28;SlidingBallConstraint=
89;Smoke=
59;Snap=
34;Sound=
11;SoundService=
31;Sparkles=
42;SpawnLocation=
25;SpecialMesh=
8;SphereHandleAdornment=
54;SpotLight=
13;SpringConstraint=
89;StarterCharacterScripts=
82;StarterGear=
20;StarterGui=
46;StarterPack=
20;StarterPlayer=
88;StarterPlayerScripts=
82;Status=
2;StringValue=
4;SunRaysEffect=
90;SurfaceGui=
64;SurfaceLight=
13;SurfaceSelection=
55;Team=
24;Teams=
23;TeleportService=
81;Terrain=
65;TerrainRegion=
65;TestService=
68;TextBox=
51;TextButton=
51;TextLabel=
50;Texture=
10;TextureTrail=
4;Tool=
17;TouchTransmitter=
37;TrussPart=
1;UnionOperation=
77;UserInputService=
84;Vector3Value=
4;VehicleSeat=
35;VelocityMotor=
34;WedgePart=
1;Weld=
34;Workspace=
19;new}
av.ExplorerIcons={MapId=ax,Icons=ay}newav.GetLabel=function(aA)
local aB=a"ImageLabel"
aA:SetupLabel(aB)
return aB
endnewav.SetupLabel=function(aA,aB)
aB.BackgroundTransparency=1
aB.ImageRectOffset=Vector2.new(0,0)
aB.ImageRectSize=Vector2.new(aA.IconSizeX,aA.IconSizeY)
aB.ScaleType=Enum.ScaleType.Crop
aB.Size=UDim2.new(0,aA.IconSizeX,0,aA.IconSizeY)
endnewav.Display=function(aA,aB,aC)
aB.Image=aA.MapId
if not aA.NumX then
aB.ImageRectOffset=Vector2.new(aA.IconSizeX*aC,0)
else
aB.ImageRectOffset=Vector2.new(aA.IconSizeX*(aC%aA.NumX),aA.IconSizeY*math.floor(aC/aA.NumX))
end
endnewav.DisplayByKey=function(aA,aB,aC)
if aA.IndexDict[aC]then
aA:Display(aB,aA.IndexDict[aC])
else
local aD=aj.Classes[aB.ClassName]
ae.ClassIcons:Display(aB,aD and aD.ExplorerImageIndex or 0)
end
endnewav.IconDehash=function(aA,aB)
return math.floor(aB/14%14),math.floor(aB%14)
endnewav.GetExplorerIcon=function(aA,aB,aC)
aC=(aA.ExplorerIcons.Icons[aC]or 0)
local aD,aE=aA:IconDehash(aC)
local aF=Vector2.new(256,256)
local aG,aH=2,1
local aI=16newaB.Position=UDim2.new(-aE-(aG*(aE+1)+aH)/aI,0,-aD-(aG*(aD+1)+aH)/aI,0)
aB.Size=UDim2.new(aF.X/aI,0,aF.Y/aI,0)
endnewav.DisplayExplorerIcons=function(aA,aB,aC)
if aB:FindFirstChild"IconMap"then
aA:GetExplorerIcon(aB.IconMap,aC)
else
aB.ClipsDescendants=truenewlocal aD=a("ImageLabel",aB)
aD.BackgroundTransparency=1
aD.Image=("http://www.roblox.com/asset/?id="..(aA.ExplorerIcons.MapId))
aD.Name="IconMap"
aA:GetExplorerIcon(aD,aC)
end
endnewav.SetDict=function(aA,aB)
aA.IndexDict=aB
endnewlocal aA={}
aA.__index=avnewlocal function new(aB,aC,aD,aE,aF)
local aG=setmetatable({
MapId=aB,
MapSizeX=aC,
MapSizeY=aD,
IconSizeX=aE,
IconSizeY=aF,
NumX=aC/aE,
IndexDict={}
},aA)
return aG
endnewlocal function newLinear(aB,aC,aD)
local aE=setmetatable({
MapId=aB,
IconSizeX=aC,
IconSizeY=aD,
IndexDict={}
},aA)
return aE
endnewreturn{new=new,newLinear=newLinear}
end)()newaq.ScrollBar=(function()
local av={}
local ax=am.UserInputService
local ay=an:GetMouse()
local aA=aq.CheckMouseInGui
local aB=aq.CreateArrownewlocal function drawThumb(aC)
local aD=aC.TotalSpace
local aE=aC.VisibleSpace local aF=
aC.Index
local aG=aC.GuiElems.ScrollThumb
local aH=aC.GuiElems.ScrollThumbFramenewif not(aC:CanScrollUp()or aC:CanScrollDown())then
aG.Visible=false
else
aG.Visible=true
endnewif aC.Horizontal then
aG.Size=UDim2.new(aE/aD,0,1,0)
if aG.AbsoluteSize.X<16 then
aG.Size=UDim2.new(0,16,1,0)
end
local aI=aH.AbsoluteSize.X
local aJ=aG.AbsoluteSize.X
aG.Position=UDim2.new(aC:GetScrollPercent()*(aI-aJ)/aI,0,0,0)
else
aG.Size=UDim2.new(1,0,aE/aD,0)
if aG.AbsoluteSize.Y<16 then
aG.Size=UDim2.new(1,0,0,16)
end
local aI=aH.AbsoluteSize.Y
local aJ=aG.AbsoluteSize.Y
aG.Position=UDim2.new(0,0,aC:GetScrollPercent()*(aI-aJ)/aI,0)
end
endnewlocal function createFrame(aC)
local aD=ap("Frame",{Style=0,Active=true,AnchorPoint=Vector2.new(0,0),BackgroundColor3=Color3.new(0.35294118523598,0.35294118523598,0.35294118523598),BackgroundTransparency=0,BorderColor3=Color3.new(0.10588236153126,0.16470588743687,0.20784315466881),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(1,-16,0,0),Rotation=0,Selectable=false,Size=UDim2.new(0,16,1,0),SizeConstraint=0,Visible=true,ZIndex=1,Name="ScrollBar",})
local aE,aFnewif aC.Horizontal then
aD.Size=UDim2.new(1,0,0,16)
aE=ap("ImageButton",{
Parent=aD,
Name="Left",
Size=UDim2.new(0,16,0,16),
BackgroundTransparency=1,
BorderSizePixel=0,
AutoButtonColor=false
})
aB(16,4,"left").Parent=aE
aF=ap("ImageButton",{
Parent=aD,
Name="Right",
Position=UDim2.new(1,-16,0,0),
Size=UDim2.new(0,16,0,16),
BackgroundTransparency=1,
BorderSizePixel=0,
AutoButtonColor=false
})
aB(16,4,"right").Parent=aF
else
aD.Size=UDim2.new(0,16,1,0)
aE=ap("ImageButton",{
Parent=aD,
Name="Up",
Size=UDim2.new(0,16,0,16),
BackgroundTransparency=1,
BorderSizePixel=0,
AutoButtonColor=false
})
aB(16,4,"up").Parent=aE
aF=ap("ImageButton",{
Parent=aD,
Name="Down",
Position=UDim2.new(0,0,1,-16),
Size=UDim2.new(0,16,0,16),
BackgroundTransparency=1,
BorderSizePixel=0,
AutoButtonColor=false
})
aB(16,4,"down").Parent=aF
endnewlocal aG=ap("ImageButton",{
BackgroundTransparency=1,
Parent=aD
})
if aC.Horizontal then
aG.Position=UDim2.new(0,16,0,0)
aG.Size=UDim2.new(1,-32,1,0)
else
aG.Position=UDim2.new(0,0,0,16)
aG.Size=UDim2.new(1,0,1,-32)
endnewlocal aH=ap("Frame",{
BackgroundColor3=Color3.new(0.47058823529411764,0.47058823529411764,0.47058823529411764),
BorderSizePixel=0,
Parent=aG
})newlocal aI=ap("Frame",{
BackgroundTransparency=1,
Name="Markers",
Size=UDim2.new(1,0,1,0),
Parent=aG
})newlocal aJ=false
local h=false
local i=falsenewlocal function handleButtonPress(j,k)
if aC:CanScroll(k)then
j.BackgroundTransparency=0.5
aC:ScrollToDirection(k)
aC.Scrolled:Fire()
local l=tick()
local m
m=ax.InputEnded:Connect(function(n)
if n.UserInputType==Enum.UserInputType.MouseButton1 or n.UserInputType==Enum.UserInputType.Touch then
m:Disconnect()
j.BackgroundTransparency=aA(j)and 0.8 or 1
aJ=false
end
end)
while aJ do
if tick()-l>=0.25 and aC:CanScroll(k)then
aC:ScrollToDirection(k)
aC.Scrolled:Fire()
end
task.wait()
end
end
endnewaE.MouseButton1Down:Connect(function(j)
aJ=true
handleButtonPress(aE,"Up")
end)newaE.InputEnded:Connect(function(j)
if j.UserInputType==Enum.UserInputType.MouseButton1 or j.UserInputType==Enum.UserInputType.Touch then
aE.BackgroundTransparency=1
end
end)newaF.MouseButton1Down:Connect(function(j)
aJ=true
handleButtonPress(aF,"Down")
end)newaF.InputEnded:Connect(function(j)
if j.UserInputType==Enum.UserInputType.MouseButton1 or j.UserInputType==Enum.UserInputType.Touch then
aF.BackgroundTransparency=1
end
end)newaH.InputBegan:Connect(function(j)
if(j.UserInputType==Enum.UserInputType.MouseButton1 or j.UserInputType==Enum.UserInputType.Touch)then
local k=aC.Horizontal and"X"or"Y"
local l
h=true
aH.BackgroundTransparency=0
local m=ay[k]-aH.AbsolutePosition[k]
local n
local onewn=ax.InputEnded:Connect(function(p)
if p.UserInputType==Enum.UserInputType.MouseButton1 or p.UserInputType==Enum.UserInputType.Touch then
n:Disconnect()
if o then o:Disconnect()end
aH.BackgroundTransparency=0.2
h=false
end
end)newo=ax.InputChanged:Connect(function(p)
if(p.UserInputType==Enum.UserInputType.MouseMovement or p.UserInputType==Enum.UserInputType.Touch)and h then
local q=aG.AbsoluteSize[k]-aH.AbsoluteSize[k]
local r=ay[k]-aG.AbsolutePosition[k]-m
if r>q then r=q
elseif r<0 then r=0 end
if l~=r then
l=r
aC:ScrollTo(math.floor(0.5+r/q*(aC.TotalSpace-aC.VisibleSpace)))
end
end
end)
end
end)newaH.InputEnded:Connect(function(j)
if j.UserInputType==Enum.UserInputType.MouseMovement or j.UserInputType==Enum.UserInputType.Touch then
aH.BackgroundTransparency=0
end
end)newaG.InputBegan:Connect(function(j)
if(j.UserInputType==Enum.UserInputType.MouseButton1 or j.UserInputType==Enum.UserInputType.Touch)and not aA(aH)then
local k=aC.Horizontal and"X"or"Y"
local l=(ay[k]>=aH.AbsolutePosition[k]+aH.AbsoluteSize[k])and 1 or 0
local function doTick()
local m=aC.VisibleSpace-1
if l==0 and ay[k]<aH.AbsolutePosition[k]then
aC:ScrollTo(aC.Index-m)
elseif l==1 and ay[k]>=aH.AbsolutePosition[k]+aH.AbsoluteSize[k]then
aC:ScrollTo(aC.Index+m)
end
endnewh=false
i=true
doTick()
local m=tick()
local n
n=ax.InputEnded:Connect(function(o)
if o.UserInputType==Enum.UserInputType.MouseButton1 or o.UserInputType==Enum.UserInputType.Touch then
n:Disconnect()
i=false
end
end)newwhile i do
if tick()-m>=0.3 and aA(aG)then
doTick()
end
task.wait()
end
end
end)newaD.MouseWheelForward:Connect(function()
aC:ScrollTo(aC.Index-aC.WheelIncrement)
end)newaD.MouseWheelBackward:Connect(function()
aC:ScrollTo(aC.Index+aC.WheelIncrement)
end)newaC.GuiElems.ScrollThumb=aH
aC.GuiElems.ScrollThumbFrame=aG
aC.GuiElems.Button1=aE
aC.GuiElems.Button2=aF
aC.GuiElems.MarkerFrame=aInewreturn aD
endnewav.Update=function(aC,aD)
local aE=aC.TotalSpace
local aF=aC.VisibleSpace local aG=
aC.Index
local aH=aC.GuiElems.Button1
local aI=aC.GuiElems.Button2newaC.Index=math.clamp(aC.Index,0,math.max(0,aE-aF))newif aC.LastTotalSpace~=aC.TotalSpace then
aC.LastTotalSpace=aC.TotalSpace
aC:UpdateMarkers()
endnewif aC:CanScrollUp()then
for aJ,h in pairs(aH.Arrow:GetChildren())do
h.BackgroundTransparency=0
end
else
aH.BackgroundTransparency=1
for aJ,h in pairs(aH.Arrow:GetChildren())do
h.BackgroundTransparency=0.5
end
end
if aC:CanScrollDown()then
for aJ,h in pairs(aI.Arrow:GetChildren())do
h.BackgroundTransparency=0
end
else
aI.BackgroundTransparency=1
for aJ,h in pairs(aI.Arrow:GetChildren())do
h.BackgroundTransparency=0.5
end
endnewdrawThumb(aC)
endnewav.UpdateMarkers=function(aC)
local aD=aC.GuiElems.MarkerFrame
aD:ClearAllChildren()newfor aE,aF in pairs(aC.Markers)do
if aE<aC.TotalSpace then
ap("Frame",{
BackgroundTransparency=0,
BackgroundColor3=aF,
BorderSizePixel=0,
Position=aC.Horizontal and UDim2.new(aE/aC.TotalSpace,0,1,-6)or UDim2.new(1,-6,aE/aC.TotalSpace,0),
Size=aC.Horizontal and UDim2.new(0,1,0,6)or UDim2.new(0,6,0,1),
Name="Marker"..tostring(aE),
Parent=aD
})
end
end
endnewav.AddMarker=function(aC,aD,aE)
aC.Markers[aD]=aE or Color3.new(0,0,0)
end
av.ScrollTo=function(aC,aD,aE)
aC.Index=aD
aC:Update()
if not aE then
aC.Scrolled:Fire()
end
end
av.ScrollUp=function(aC)
aC.Index=aC.Index-aC.Increment
aC:Update()
end
av.CanScroll=function(aC,aD)
if aD=="Up"then
return aC:CanScrollUp()
elseif aD=="Down"then
return aC:CanScrollDown()
end
return false
end
av.ScrollDown=function(aC)
aC.Index=aC.Index+aC.Increment
aC:Update()
end
av.CanScrollUp=function(aC)
return aC.Index>0
end
av.CanScrollDown=function(aC)
return aC.Index+aC.VisibleSpace<aC.TotalSpace
end
av.GetScrollPercent=function(aC)
return aC.Index/(aC.TotalSpace-aC.VisibleSpace)
end
av.SetScrollPercent=function(aC,aD)
aC.Index=math.floor(aD*(aC.TotalSpace-aC.VisibleSpace))
aC:Update()
end
av.ScrollToDirection=function(aC,aD)
if aD=="Up"then
aC:ScrollUp()
elseif aD=="Down"then
aC:ScrollDown()
end
endnewav.Texture=function(aC,aD)
aC.ThumbColor=aD.ThumbColor or Color3.new(0,0,0)
aC.ThumbSelectColor=aD.ThumbSelectColor or Color3.new(0,0,0)
aC.GuiElems.ScrollThumb.BackgroundColor3=aD.ThumbColor or Color3.new(0,0,0)
aC.Gui.BackgroundColor3=aD.FrameColor or Color3.new(0,0,0)
aC.GuiElems.Button1.BackgroundColor3=aD.ButtonColor or Color3.new(0,0,0)
aC.GuiElems.Button2.BackgroundColor3=aD.ButtonColor or Color3.new(0,0,0)
for aE,aF in pairs(aC.GuiElems.Button1.Arrow:GetChildren())do
aF.BackgroundColor3=aD.ArrowColor or Color3.new(0,0,0)
end
for aE,aF in pairs(aC.GuiElems.Button2.Arrow:GetChildren())do
aF.BackgroundColor3=aD.ArrowColor or Color3.new(0,0,0)
end
endnewav.SetScrollFrame=function(aC,aD)
if aC.ScrollUpEvent then aC.ScrollUpEvent:Disconnect()aC.ScrollUpEvent=nil end
if aC.ScrollDownEvent then aC.ScrollDownEvent:Disconnect()aC.ScrollDownEvent=nil end
aC.ScrollUpEvent=aD.MouseWheelForward:Connect(function()aC:ScrollTo(aC.Index-aC.WheelIncrement)end)
aC.ScrollDownEvent=aD.MouseWheelBackward:Connect(function()aC:ScrollTo(aC.Index+aC.WheelIncrement)end)
endnewlocal aC={}
aC.__index=avnewlocal function new(aD)
local aE=setmetatable({
Index=0,
VisibleSpace=0,
TotalSpace=0,
Increment=1,
WheelIncrement=1,
Markers={},
GuiElems={},
Horizontal=aD,
LastTotalSpace=0,
Scrolled=aq.Signal.new()
},aC)
aE.Gui=createFrame(aE)
aE:Texture{
ThumbColor=Color3.fromRGB(60,60,60),
ThumbSelectColor=Color3.fromRGB(75,75,75),
ArrowColor=Color3.new(1,1,1),
FrameColor=Color3.fromRGB(40,40,40),
ButtonColor=Color3.fromRGB(75,75,75)
}
return aE
endnewreturn{new=new}
end)()newaq.Window=(function()
local av={}
local ax={MinWidth=200,FreeWidth=200}
an:GetMouse()
local ay,aA
local aB={}
local aC={Width=300,Windows={},ResizeCons={},Hidden=true}
local aD={Width=300,Windows={},ResizeCons={},Hidden=true}newlocal aE
local aF
local aG=TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)
local aH={}
local aI=g.IsAnewlocal aJ={
MainColor1=Color3.fromRGB(52,52,52),
MainColor2=Color3.fromRGB(45,45,45),
Button=Color3.fromRGB(60,60,60)
}newlocal function stopTweens()
for h=1,#aH do
aH[h]:Cancel()
end
aH={}
endnewlocal function resizeHook(h,i,j)
local k=h.GuiElems.Main
i.InputBegan:Connect(function(l)
if not h.Dragging and not h.Resizing and h.Resizable and h.ResizableInternal then
local m=j:find"[WE]"and true
local n=j:find"[NS]"and true
local o=j:find("W",1,true)and-1 or 1
local p=j:find("N",1,true)and-1 or 1newif h.Minimized and n then return endnewif l.UserInputType==Enum.UserInputType.MouseMovement or l.UserInputType==Enum.UserInputType.Touch then
i.BackgroundTransparency=0.5
elseif l.UserInputType==Enum.UserInputType.MouseButton1 or l.UserInputType==Enum.UserInputType.Touch then
local q,rnewlocal s=l.Position.X-i.AbsolutePosition.X
local t=l.Position.Y-i.AbsolutePosition.Ynewh.Resizing=i
i.BackgroundTransparency=1newq=am.UserInputService.InputEnded:Connect(function(u)
if u.UserInputType==Enum.UserInputType.MouseButton1 or u.UserInputType==Enum.UserInputType.Touch then
q:Disconnect()
if r then r:Disconnect()end
h.Resizing=false
i.BackgroundTransparency=1
end
end)newr=am.UserInputService.InputChanged:Connect(function(u)
if h.Resizable and h.ResizableInternal and(u.UserInputType==Enum.UserInputType.MouseMovement or u.UserInputType==Enum.UserInputType.Touch)then
h:StopTweens()
local v=u.Position.X-i.AbsolutePosition.X-s
local w=u.Position.Y-i.AbsolutePosition.Y-tnewif k.AbsoluteSize.X+v*o<h.MinX then v=o*(h.MinX-k.AbsoluteSize.X)end
if k.AbsoluteSize.Y+w*p<h.MinY then w=p*(h.MinY-k.AbsoluteSize.Y)end
if p<0 and k.AbsolutePosition.Y+w<0 then w=-k.AbsolutePosition.Y endnewk.Position=k.Position+UDim2.new(0,(o<0 and v or 0),0,(p<0 and w or 0))
h.SizeX=h.SizeX+(m and v*o or 0)
h.SizeY=h.SizeY+(n and w*p or 0)
k.Size=UDim2.new(0,h.SizeX,0,h.Minimized and 20 or h.SizeY)
end
end)
end
end
end)newi.InputEnded:Connect(function(l)
if(l.UserInputType==Enum.UserInputType.MouseMovement or l.UserInputType==Enum.UserInputType.Touch)and h.Resizing~=i then
i.BackgroundTransparency=1
end
end)
endnewlocal hnewlocal function moveToTop(i)
local j=table.find(aB,i)
if j then
table.remove(aB,j)
table.insert(aB,1,i)
h()
end
endnewlocal function sideHasRoom(i,j)
local k=ay.AbsoluteSize.Y-(math.max(0,#i.Windows-1)*4)
local l=0
for m,n in pairs(i.Windows)do
l=l+(n.MinY or 100)
if l>k-j then return false end
endnewreturn true
endnewlocal function getSideInsertPos(i,j)
local k=#i.Windows+1
local l={0,ay.AbsoluteSize.Y}newfor m,n in pairs(i.Windows)do
local o=n.PosY+n.SizeY/2
if j<=o then
k=m
l[2]=o
break
else
l[1]=o
end
endnewreturn k,l
endnewlocal function focusInput(i,j)
if aI(j,"GuiButton")then
j.MouseButton1Down:Connect(function()
moveToTop(i)
end)
elseif aI(j,"TextBox")then
j.Focused:Connect(function()
moveToTop(i)
end)
end
endnewlocal i=function(i)
local j=ao{
{1,"ScreenGui",{Name="Window",}},
{2,"Frame",{Active=true,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Main",Parent={1},Position=UDim2.new(0.40000000596046,0,0.40000000596046,0),Size=UDim2.new(0,300,0,300),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,Name="Content",Parent={2},Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20),ClipsDescendants=true}},
{4,"Frame",{BackgroundColor3=Color3.fromRGB(33,33,33),BorderSizePixel=0,Name="Line",Parent={3},Size=UDim2.new(1,0,0,1),}},
{5,"TextButton",{Text="",AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="TopBar",Parent={2},Size=UDim2.new(1,0,0,20),}},
{6,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={5},Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-10,0,20),Text="Window",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,}},
{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Close",Parent={5},Position=UDim2.new(1,-18,0,2),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5054663650",Parent={7},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,10,0,10),}},
{9,"UICorner",{CornerRadius=UDim.new(0,4),Parent={7},}},
{10,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Minimize",Parent={5},Position=UDim2.new(1,-36,0,2),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{11,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034768003",Parent={10},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,10,0,10),}},
{12,"UICorner",{CornerRadius=UDim.new(0,4),Parent={10},}},
{13,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1427967925",Name="Outlines",Parent={2},Position=UDim2.new(0,-5,0,-5),ScaleType=1,Size=UDim2.new(1,10,1,10),SliceCenter=Rect.new(6,6,25,25),TileSize=UDim2.new(0,20,0,20),}},
{14,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="ResizeControls",Parent={2},Position=UDim2.new(0,-5,0,-5),Size=UDim2.new(1,10,1,10),}},
{15,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="North",Parent={14},Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-10,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{16,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="South",Parent={14},Position=UDim2.new(0,5,1,-5),Size=UDim2.new(1,-10,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{17,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="NorthEast",Parent={14},Position=UDim2.new(1,-5,0,0),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{18,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="East",Parent={14},Position=UDim2.new(1,-5,0,5),Size=UDim2.new(0,5,1,-10),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{19,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="West",Parent={14},Position=UDim2.new(0,0,0,5),Size=UDim2.new(0,5,1,-10),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{20,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SouthEast",Parent={14},Position=UDim2.new(1,-5,1,-5),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{21,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="NorthWest",Parent={14},Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{22,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SouthWest",Parent={14},Position=UDim2.new(0,0,1,-5),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
}newlocal k=j.Main
local l=k.TopBar
local m=k.ResizeControlsnewi.GuiElems.Main=k
i.GuiElems.TopBar=k.TopBar
i.GuiElems.Content=k.Content
i.GuiElems.Line=k.Content.Line
i.GuiElems.Outlines=k.Outlines
i.GuiElems.Title=l.Title
i.GuiElems.Close=l.Close
i.GuiElems.Minimize=l.Minimize
i.GuiElems.ResizeControls=m
i.ContentPane=k.Contentnewlocal n=false
l.MouseButton1Down:Connect(function()n=true end)
l.MouseButton1Up:Connect(function()n=false end)newl.InputBegan:Connect(function(o)
if o.UserInputType==Enum.UserInputType.MouseButton1 or o.UserInputType==Enum.UserInputType.Touch then
if i.Draggable then
local p,qnewlocal r=ay.AbsoluteSize.X
local s=k.AbsolutePosition.X
local t=k.AbsolutePosition.Y
local u=o.Position.X-s
local v=o.Position.Y-tnewlocal w,xnewguiDragging=truenewp=am.UserInputService.InputEnded:Connect(function(y)
if y.UserInputType==Enum.UserInputType.MouseButton1 or y.UserInputType==Enum.UserInputType.Touch then
p:Disconnect()
if q then q:Disconnect()end
guiDragging=false
aA.Parent=nil
if x then
local z=(x=="left"and aC)or(x=="right"and aD)
i:AlignTo(z,w)
end
end
end)newq=am.UserInputService.InputChanged:Connect(function(y)
if(y.UserInputType==Enum.UserInputType.MouseMovement or y.UserInputType==Enum.UserInputType.Touch)and i.Draggable and not i.Closed and n then
if i.Aligned then
if aC.Resizing or aD.Resizing then return end
local z,A=y.Position.X-u,y.Position.Y-v
local B=math.sqrt((z-s)^2+(A-t)^2)
if B>=5 then
i:SetAligned(false)
end
else
local z,A=y.Position.X,y.Position.Y
local B,C=z-u,A-v
if C<0 then C=0 end
k.Position=UDim2.new(0,B,0,C)newif i.Resizable and i.Alignable then
if z<25 then
if sideHasRoom(aC,i.MinY or 100)then
local D,E=getSideInsertPos(aC,A)
aA.Indicator.Position=UDim2.new(0,-15,0,E[1])
aA.Indicator.Size=UDim2.new(0,40,0,E[2]-E[1])
aq.ShowGui(aA)
w=D
x="left"
return
end
elseif z>=r-25 then
if sideHasRoom(aD,i.MinY or 100)then
local D,E=getSideInsertPos(aD,A)
aA.Indicator.Position=UDim2.new(0,r-25,0,E[1])
aA.Indicator.Size=UDim2.new(0,40,0,E[2]-E[1])
aq.ShowGui(aA)
w=D
x="right"
return
end
end
end
aA.Parent=nil
w=nil
x=nil
end
end
end)
end
end
end)newl.Close.MouseButton1Click:Connect(function()
if i.Closed then return end
i:Close()
end)newl.Minimize.MouseButton1Click:Connect(function()
if i.Closed then return end
if i.Aligned then
i:SetAligned(false)
else
i:SetMinimized()
end
end)newl.Minimize.MouseButton2Click:Connect(function()
if i.Closed then return end
if not i.Aligned then
i:SetMinimized(nil,2)
l.Minimize.BackgroundTransparency=1
end
end)newk.InputBegan:Connect(function(o)
if(o.UserInputType==Enum.UserInputType.MouseButton1 or o.UserInputType==Enum.UserInputType.Touch)and not i.Aligned and not i.Closed then
moveToTop(i)
end
end)newk:GetPropertyChangedSignal"AbsolutePosition":Connect(function()
local o=k.AbsolutePosition
i.PosX=o.X
i.PosY=o.Y
end)newresizeHook(i,m.North,"N")
resizeHook(i,m.NorthEast,"NE")
resizeHook(i,m.East,"E")
resizeHook(i,m.SouthEast,"SE")
resizeHook(i,m.South,"S")
resizeHook(i,m.SouthWest,"SW")
resizeHook(i,m.West,"W")
resizeHook(i,m.NorthWest,"NW")newk.Size=UDim2.new(0,i.SizeX,0,i.SizeY)newj.DescendantAdded:Connect(function(o)focusInput(i,o)end)
local o=j:GetDescendants()
for p=1,#o do
focusInput(i,o[p])
endnewi.MinimizeAnim=aq.ButtonAnim(l.Minimize)
i.CloseAnim=aq.ButtonAnim(l.Close)newreturn j
endnewlocal function updateSideFrames(j)
stopTweens()
aC.Frame.Size=UDim2.new(0,aC.Width,1,0)
aD.Frame.Size=UDim2.new(0,aD.Width,1,0)
aC.Frame.Resizer.Position=UDim2.new(0,aC.Width,0,0)
aD.Frame.Resizer.Position=UDim2.new(0,-5,0,0)newnewnewnewnewnewlocal k=#aC.Windows==0 or aC.Hidden
local l=#aD.Windows==0 or aD.Hidden
local m=(k and UDim2.new(0,-aC.Width-10,0,0)or UDim2.new(0,0,0,0))
local n=(l and UDim2.new(1,10,0,0)or UDim2.new(1,-aD.Width,0,0))neway.LeftToggle.Text=k and">"or"<"
ay.RightToggle.Text=l and"<"or">"newif not j then
local function insertTween(...)
local o=am.TweenService:Create(...)
aH[#aH+1]=o
o:Play()
end
insertTween(aC.Frame,aG,{Position=m})
insertTween(aD.Frame,aG,{Position=n})
insertTween(ay.LeftToggle,aG,{Position=UDim2.new(0,#aC.Windows==0 and-16 or 0,0,-36)})
insertTween(ay.RightToggle,aG,{Position=UDim2.new(1,#aD.Windows==0 and 0 or-16,0,-36)})
else
aC.Frame.Position=m
aD.Frame.Position=n
ay.LeftToggle.Position=UDim2.new(0,#aC.Windows==0 and-16 or 0,0,-36)
ay.RightToggle.Position=UDim2.new(1,#aD.Windows==0 and 0 or-16,0,-36)
end
endnewlocal function getSideFramePos(j)
local k=#aC.Windows==0 or aC.Hidden
local l=#aD.Windows==0 or aD.Hidden
if j==aC then
return(k and UDim2.new(0,-aC.Width-10,0,0)or UDim2.new(0,0,0,0))
else
return(l and UDim2.new(1,10,0,0)or UDim2.new(1,-aD.Width,0,0))
end
endnewlocal function sideResized(j)
local k=0
local l=getSideFramePos(j)
for m,n in pairs(j.Windows)do
n.SizeX=j.Width
n.GuiElems.Main.Size=UDim2.new(0,j.Width,0,n.SizeY)
n.GuiElems.Main.Position=UDim2.new(l.X.Scale,l.X.Offset,0,k)
k=k+n.SizeY+4
end
endnewlocal function sideResizerHook(j,k,l,m)local n=
aa.Mouse
local o=l.Windowsnewj.InputBegan:Connect(function(p)
if not l.Resizing then
if p.UserInputType==Enum.UserInputType.MouseMovement then
j.BackgroundColor3=aJ.MainColor2
elseif p.UserInputType==Enum.UserInputType.MouseButton1 or p.UserInputType==Enum.UserInputType.Touch then
local q,rnewlocal s=p.Position.X-j.AbsolutePosition.X
local t=p.Position.Y-j.AbsolutePosition.Ynewl.Resizing=j
j.BackgroundColor3=aJ.MainColor2newq=am.UserInputService.InputEnded:Connect(function(u)
if u.UserInputType==Enum.UserInputType.MouseButton1 or u.UserInputType==Enum.UserInputType.Touch then
q:Disconnect()
if r then r:Disconnect()end
l.Resizing=false
j.BackgroundColor3=aJ.Button
end
end)newr=am.UserInputService.InputChanged:Connect(function(u)
if not j.Parent then
q:Disconnect()
if r then r:Disconnect()end
l.Resizing=false
return
endnewif u.UserInputType==Enum.UserInputType.MouseMovement or u.UserInputType==Enum.UserInputType.Touch then
if k=="V"then
local v=u.Position.Y-j.AbsolutePosition.Y-tnewif v>0 then
local w=v
for x=m+1,#o do
local y=o[x]
local z=math.max(y.SizeY-w,(y.MinY or 100))
w=w-(y.SizeY-z)
y.SizeY=z
end
o[m].SizeY=o[m].SizeY+math.max(0,v-w)
else
local w=-v
for x=m,1,-1 do
local y=o[x]
local z=math.max(y.SizeY-w,(y.MinY or 100))
w=w-(y.SizeY-z)
y.SizeY=z
end
o[m+1].SizeY=o[m+1].SizeY+math.max(0,-v-w)
endnewupdateSideFrames()
sideResized(l)
elseif k=="H"then
local v=math.max(300,ay.AbsoluteSize.X-ax.FreeWidth)
local w=(l==aC and aD or aC)
local x=u.Position.X-j.AbsolutePosition.X-s
x=(l==aC and x or-x)newlocal y=math.max(ax.MinWidth,l.Width+x)
if y+w.Width<=v then
l.Width=y
else
local z=v-y
if z>=ax.MinWidth then
l.Width=y
w.Width=z
else
l.Width=v-ax.MinWidth
w.Width=ax.MinWidth
end
endnewupdateSideFrames(true)
sideResized(l)
sideResized(w)
end
end
end)
end
end
end)newj.InputEnded:Connect(function(p)
if p.UserInputType==Enum.UserInputType.MouseMovement or p.UserInputType==Enum.UserInputType.Touch then
if l.Resizing~=j then
j.BackgroundColor3=aJ.Button
end
end
end)newendnewlocal function renderSide(j,k)
local l=0
local m=getSideFramePos(j)
local n=j.WindowResizer:Clone()
for o,p in pairs(j.ResizeCons)do p:Disconnect()end
for o,p in pairs(j.Frame:GetChildren())do if p.Name=="WindowResizer"then p:Destroy()end end
j.ResizeCons={}
j.Resizing=nilnewfor o,p in pairs(j.Windows)do
p.SidePos=o
local q=o==#j.Windows
local r=UDim2.new(0,j.Width,0,p.SizeY)
local s=UDim2.new(m.X.Scale,m.X.Offset,0,l)
aq.ShowGui(p.Gui)newif k then
p.GuiElems.Main.Size=r
p.GuiElems.Main.Position=s
else
local t=am.TweenService:Create(p.GuiElems.Main,aG,{Size=r,Position=s})
aH[#aH+1]=t
t:Play()
end
l=l+p.SizeY+4newif not q then
local t=n:Clone()
t.Position=UDim2.new(1,-j.Width,0,l-4)
j.ResizeCons[#j.ResizeCons+1]=p.Gui.Main:GetPropertyChangedSignal"Size":Connect(function()
t.Position=UDim2.new(1,-j.Width,0,p.GuiElems.Main.Position.Y.Offset+p.GuiElems.Main.Size.Y.Offset)
end)
j.ResizeCons[#j.ResizeCons+1]=p.Gui.Main:GetPropertyChangedSignal"Position":Connect(function()
t.Position=UDim2.new(1,-j.Width,0,p.GuiElems.Main.Position.Y.Offset+p.GuiElems.Main.Size.Y.Offset)
end)
sideResizerHook(t,"V",j,o)
t.Parent=j.Frame
end
endnewnewendnewlocal function updateSide(j,k)
local l=0
local m=0
local n=0
local o=j.Windows
local p=ay.AbsoluteSize.Y-(math.max(0,#o-1)*4)newfor q,r in pairs(o)do l=l+r.SizeY end
for q,r in pairs(o)do
if q==#o then
r.SizeY=p-m
n=math.max(0,(r.MinY or 100)-r.SizeY)
else
r.SizeY=math.max(math.floor(r.SizeY/l*p),r.MinY or 100)
end
m=m+r.SizeY
endnewif n>0 then
for q=#o-1,1,-1 do
local r=o[q]
local s=math.max(r.SizeY-n,(r.MinY or 100))
n=n-(r.SizeY-s)
r.SizeY=s
end
local q=o[#o]
q.SizeY=(q.MinY or 100)-n
end
renderSide(j,k)
endnewh=function(j)
updateSideFrames(j)
updateSide(aC,j)
updateSide(aD,j)
local k=0
for l=#aB,1,-1 do
aB[l].Gui.DisplayOrder=aE+k
aq.ShowGui(aB[l].Gui)
k=k+1
endnewnewnewendnewav.SetMinimized=function(j,k,l)
local m=j.Minimized
local n
if k==nil then n=not j.Minimized else n=k end
j.Minimized=n
if not l then l=1 endnewlocal o=j.GuiElems.ResizeControls
local p={"North","NorthEast","NorthWest","South","SouthEast","SouthWest"}
for q=1,#p do
local r=o:FindFirstChild(p[q])
if r then r.Visible=not n end
endnewif l==1 or l==2 then
j:StopTweens()
if l==1 then
j.GuiElems.Main:TweenSize(UDim2.new(0,j.SizeX,0,n and 20 or j.SizeY),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)
else
local q=ay.AbsoluteSize.Y
local r=UDim2.new(0,j.PosX,0,n and math.min(q-20,j.PosY+j.SizeY-20)or math.max(0,j.PosY-j.SizeY+20))newj.GuiElems.Main:TweenPosition(r,Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)
j.GuiElems.Main:TweenSize(UDim2.new(0,j.SizeX,0,n and 20 or j.SizeY),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)
end
j.GuiElems.Minimize.ImageLabel.Image=n and"rbxassetid://5060023708"or"rbxassetid://5034768003"
endnewif m~=n then
if n then
j.OnMinimize:Fire()
else
j.OnRestore:Fire()
end
end
endnewav.Resize=function(j,k,l)
j.SizeX=k or j.SizeX
j.SizeY=l or j.SizeY
j.GuiElems.Main.Size=UDim2.new(0,j.SizeX,0,j.SizeY)
endnewav.SetSize=av.Resizenewav.SetTitle=function(j,k)
j.GuiElems.Title.Text=k
endnewav.SetResizable=function(j,k)
j.Resizable=k
j.GuiElems.ResizeControls.Visible=j.Resizable and j.ResizableInternal
endnewav.SetResizableInternal=function(j,k)
j.ResizableInternal=k
j.GuiElems.ResizeControls.Visible=j.Resizable and j.ResizableInternal
endnewav.SetAligned=function(j,k)
j.Aligned=k
j:SetResizableInternal(not k)
j.GuiElems.Main.Active=not k
j.GuiElems.Main.Outlines.Visible=not k
if not k then
for l,m in pairs(aC.Windows)do if m==j then table.remove(aC.Windows,l)break end end
for l,m in pairs(aD.Windows)do if m==j then table.remove(aD.Windows,l)break end end
if not table.find(aB,j)then table.insert(aB,1,j)end
j.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5034768003"
j.Side=nil
h()
else
j:SetMinimized(false,3)
for l,m in pairs(aB)do if m==j then table.remove(aB,l)break end end
j.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5448127505"
end
endnewav.Add=function(j,k,l)
if type(k)=="table"and k.Gui and k.Gui:IsA"GuiObject"then
k.Gui.Parent=j.ContentPane
else
k.Parent=j.ContentPane
end
if l then j.Elements[l]=k end
endnewav.GetElement=function(j,k,l)
return j.Elements[l]
endnewav.AlignTo=function(j,k,l,m,n)
if table.find(k.Windows,j)or j.Closed then return endnewm=m or j.SizeY
if m>0 and m<=1 then
local o=0
for p,q in pairs(k.Windows)do o=o+q.SizeY end
j.SizeY=(o>0 and o*m*2)or m
else
j.SizeY=(m>0 and m or 100)
endnewj:SetAligned(true)
j.Side=k
j.SizeX=k.Width
j.Gui.DisplayOrder=aF+1
for o,p in pairs(k.Windows)do p.Gui.DisplayOrder=aF end
l=math.min(#k.Windows+1,l or 1)
j.SidePos=l
table.insert(k.Windows,l,j)newif not n then
k.Hidden=false
endnewendnewav.Close=function(j)
j.Closed=true
j:SetResizableInternal(false)newaq.FindAndRemove(aC.Windows,j)
aq.FindAndRemove(aD.Windows,j)
aq.FindAndRemove(aB,j)newj.MinimizeAnim.Disable()
j.CloseAnim.Disable()
j.ClosedSide=j.Side
j.Side=nil
j.OnDeactivate:Fire()newif not j.Aligned then
j:StopTweens()
local k=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)newlocal l=tick()
j.LastClose=lnewj:DoTween(j.GuiElems.Main,k,{Size=UDim2.new(0,j.SizeX,0,20)})
j:DoTween(j.GuiElems.Title,k,{TextTransparency=1})
j:DoTween(j.GuiElems.Minimize.ImageLabel,k,{ImageTransparency=1})
j:DoTween(j.GuiElems.Close.ImageLabel,k,{ImageTransparency=1})
aq.FastWait(0.2)
if l~=j.LastClose then return endnewj:DoTween(j.GuiElems.TopBar,k,{BackgroundTransparency=1})
j:DoTween(j.GuiElems.Outlines,k,{ImageTransparency=1})
aq.FastWait(0.2)
if l~=j.LastClose then return end
endnewj.Aligned=false
j.Gui.Parent=nil
h(true)
endnewav.Hide=av.Closenewav.IsVisible=function(j)
return not j.Closed and((j.Side and not j.Side.Hidden)or not j.Side)
endnewav.IsContentVisible=function(j)
return j:IsVisible()and not j.Minimized
endnewav.Focus=function(j)
moveToTop(j)
endnewav.MoveInBoundary=function(j)
local k,l=j.PosX,j.PosY
local m,n=ay.AbsoluteSize.X,ay.AbsoluteSize.Y
k=math.min(k,m-j.SizeX)
l=math.min(l,n-20)
j.GuiElems.Main.Position=UDim2.new(0,k,0,l)
endnewav.DoTween=function(j,...)
local k=am.TweenService:Create(...)
j.Tweens[#j.Tweens+1]=k
k:Play()
endnewav.StopTweens=function(j)
for k,l in pairs(j.Tweens)do
l:Cancel()
end
j.Tweens={}
endnewav.Show=function(j,k)
return ax.ShowWindow(j,k)
endnewav.ShowAndFocus=function(j,k)
ax.ShowWindow(j,k)
am.RunService.RenderStepped:wait()
j:Focus()
endnewax.ShowWindow=function(j,k)
k=k or{}
local l=k.Align
local m=k.Pos
local n=k.Size
local o=(l=="left"and aC)or(l=="right"and aD)newif not j.Closed then
if not j.Aligned then
j:SetMinimized(false)
elseif j.Side and not k.Silent then
ax.SetSideVisible(j.Side,true)
end
return
endnewj.Closed=false
j.LastClose=tick()
j.GuiElems.Title.TextTransparency=0
j.GuiElems.Minimize.ImageLabel.ImageTransparency=0
j.GuiElems.Close.ImageLabel.ImageTransparency=0
j.GuiElems.TopBar.BackgroundTransparency=0
j.GuiElems.Outlines.ImageTransparency=0
j.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5034768003"
j.GuiElems.Main.Active=true
j.GuiElems.Main.Outlines.Visible=true
j:SetMinimized(false,3)
j:SetResizableInternal(true)
j.MinimizeAnim.Enable()
j.CloseAnim.Enable()newif l then
j:AlignTo(o,m,n,k.Silent)
else
if l==nil and j.ClosedSide then
j:AlignTo(j.ClosedSide,j.SidePos,n,true)
ax.SetSideVisible(j.ClosedSide,true)
else
if table.find(aB,j)then return endnew
j.GuiElems.Main.Size=UDim2.new(0,j.SizeX,0,20)
local p=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)
j:StopTweens()
j:DoTween(j.GuiElems.Main,p,{Size=UDim2.new(0,j.SizeX,0,j.SizeY)})newj.SizeY=n or j.SizeY
table.insert(aB,1,j)
h()
end
endnewj.ClosedSide=nil
j.OnActivate:Fire()
endnewax.ToggleSide=function(j)
local k=(j=="left"and aC or aD)
k.Hidden=not k.Hidden
for l,m in pairs(k.Windows)do
if k.Hidden then
m.OnDeactivate:Fire()
else
m.OnActivate:Fire()
end
end
h()
endnewax.SetSideVisible=function(j,k)
local l=(type(j)=="table"and j)or(j=="left"and aC or aD)
l.Hidden=not k
for m,n in pairs(l.Windows)do
if l.Hidden then
n.OnDeactivate:Fire()
else
n.OnActivate:Fire()
end
end
h()
endnewax.Init=function()
aE=aa.DisplayOrders.Window
aF=aa.DisplayOrders.SideWindowneway=a"ScreenGui"
local j=ao{
{1,"Frame",{Active=true,Name="LeftSide",BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,}},
{2,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="Resizer",Parent={1},Size=UDim2.new(0,5,1,0),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{3,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={2},Position=UDim2.new(0,0,0,0),Size=UDim2.new(0,1,1,0),}},
{4,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="WindowResizer",Parent={1},Position=UDim2.new(1,-300,0,0),Size=UDim2.new(1,0,0,4),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{5,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={4},Size=UDim2.new(1,0,0,1),}},
}
aC.Frame=j
j.Position=UDim2.new(0,-aC.Width-10,0,0)
aC.WindowResizer=j.WindowResizer
j.WindowResizer.Parent=nil
j.Parent=aynewlocal k=ao{
{1,"Frame",{Active=true,Name="RightSide",BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,}},
{2,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="Resizer",Parent={1},Size=UDim2.new(0,5,1,0),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{3,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={2},Position=UDim2.new(0,4,0,0),Size=UDim2.new(0,1,1,0),}},
{4,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="WindowResizer",Parent={1},Position=UDim2.new(1,-300,0,0),Size=UDim2.new(1,0,0,4),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{5,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={4},Size=UDim2.new(1,0,0,1),}},
}
aD.Frame=k
k.Position=UDim2.new(1,10,0,0)
aD.WindowResizer=k.WindowResizer
k.WindowResizer.Parent=nil
k.Parent=aynewsideResizerHook(j.Resizer,"H",aC)
sideResizerHook(k.Resizer,"H",aD)newaA=a"ScreenGui"
aA.DisplayOrder=aa.DisplayOrders.Core
local l=a("Frame",aA)
l.BackgroundColor3=Color3.fromRGB(0,170,255)
l.BorderSizePixel=0
l.BackgroundTransparency=0.8
l.Name="Indicator"
local m=a("UICorner",l)
m.CornerRadius=UDim.new(0,10)newlocal n=ao{{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderMode=2,Font=10,Name="LeftToggle",Position=UDim2.new(0,0,0,-36),Size=UDim2.new(0,16,0,36),Text="<",TextColor3=Color3.new(1,1,1),TextSize=14,}}}
local o=n:Clone()
o.Name="RightToggle"
o.Position=UDim2.new(1,-16,0,-36)
aq.ButtonAnim(n,{Mode=2,PressColor=Color3.fromRGB(32,32,32)})
aq.ButtonAnim(o,{Mode=2,PressColor=Color3.fromRGB(32,32,32)})newn.MouseButton1Click:Connect(function()
ax.ToggleSide"left"
end)newo.MouseButton1Click:Connect(function()
ax.ToggleSide"right"
end)newn.Parent=ay
o.Parent=ayneway:GetPropertyChangedSignal"AbsoluteSize":Connect(function()
local p=math.max(300,ay.AbsoluteSize.X-ax.FreeWidth)
aC.Width=math.max(ax.MinWidth,math.min(aC.Width,p-aD.Width))
aD.Width=math.max(ax.MinWidth,math.min(aD.Width,p-aC.Width))
for q=1,#aB do
aB[q]:MoveInBoundary()
end
h(true)
end)neway.DisplayOrder=aF-1
aq.ShowGui(ay)
updateSideFrames()
endnewlocal j={__index=av}
ax.new=function()
local k=setmetatable({
Minimized=false,
Dragging=false,
Resizing=false,
Aligned=false,
Draggable=true,
Resizable=true,
ResizableInternal=true,
Alignable=true,
Closed=true,
SizeX=300,
SizeY=300,
MinX=200,
MinY=200,
PosX=0,
PosY=0,
GuiElems={},
Tweens={},
Elements={},
OnActivate=aq.Signal.new(),
OnDeactivate=aq.Signal.new(),
OnMinimize=aq.Signal.new(),
OnRestore=aq.Signal.new()
},j)
k.Gui=i(k)
return k
endnewreturn ax
end)()newaq.ContextMenu=(function()
local av={}
local axnewlocal function createGui(ay)
local aA=ao{
{1,"ScreenGui",{DisplayOrder=1000000,Name="Context",ZIndexBehavior=1,}},
{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),Name="Main",Parent={1},Position=UDim2.new(0.5,-100,0.5,-150),Size=UDim2.new(0,200,0,100),}},
{3,"UICorner",{CornerRadius=UDim.new(0,4),Parent={2},}},
{4,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),Name="Container",Parent={2},Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2),}},
{5,"UICorner",{CornerRadius=UDim.new(0,4),Parent={4},}},
{6,"ScrollingFrame",{Active=true,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Name="List",Parent={4},Position=UDim2.new(0,2,0,2),ScrollBarImageColor3=Color3.new(0,0,0),ScrollBarThickness=4,Size=UDim2.new(1,-4,1,-4),VerticalScrollBarInset=1,}},
{7,"UIListLayout",{Parent={6},SortOrder=2,}},
{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="SearchFrame",Parent={4},Size=UDim2.new(1,0,0,24),Visible=false,}},
{9,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchContainer",Parent={8},Position=UDim2.new(0,3,0,3),Size=UDim2.new(1,-6,0,18),}},
{10,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="SearchBox",Parent={9},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="Search",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-8,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,}},
{11,"UICorner",{CornerRadius=UDim.new(0,2),Parent={9},}},
{12,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={8},Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1),}},
{13,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Font=3,Name="Entry",Parent={1},Size=UDim2.new(1,0,0,22),Text="",TextSize=14,Visible=false,}},
{14,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="EntryName",Parent={13},Position=UDim2.new(0,24,0,0),Size=UDim2.new(1,-24,1,0),Text="Duplicate",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{15,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Shortcut",Parent={13},Position=UDim2.new(0,24,0,0),Size=UDim2.new(1,-30,1,0),Text="Ctrl+D",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{16,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ImageRectOffset=Vector2.new(304,0),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={13},Position=UDim2.new(0,2,0,3),ScaleType=4,Size=UDim2.new(0,16,0,16),}},
{17,"UICorner",{CornerRadius=UDim.new(0,4),Parent={13},}},
{18,"Frame",{BackgroundColor3=Color3.new(0.21568629145622,0.21568629145622,0.21568629145622),BackgroundTransparency=1,BorderSizePixel=0,Name="Divider",Parent={1},Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,0,7),Visible=false,}},
{19,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="Line",Parent={18},Position=UDim2.new(0,0,0.5,0),Size=UDim2.new(1,0,0,1),}},
{20,"TextLabel",{AnchorPoint=Vector2.new(0,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="DividerName",Parent={18},Position=UDim2.new(0,2,0.5,0),Size=UDim2.new(1,-4,1,0),Text="Objects",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.60000002384186,TextXAlignment=0,Visible=false,}}
}neway.GuiElems.Main=aA.Main
ay.GuiElems.List=aA.Main.Container.List
ay.GuiElems.Entry=aA.Entry
ay.GuiElems.Divider=aA.Divider
ay.GuiElems.SearchFrame=aA.Main.Container.SearchFrame
ay.GuiElems.SearchBar=ay.GuiElems.SearchFrame.SearchContainer.SearchBox
aq.ViewportTextBox.convert(ay.GuiElems.SearchBar)neway.GuiElems.SearchBar:GetPropertyChangedSignal"Text":Connect(function()
local aB,aC=string.lower,string.find
local aD=aB(ay.GuiElems.SearchBar.Text)
local aE=ay.Items
local aF=ay.ItemToEntryMapnewif aD~=""then
local aG={}
local aH=1
for aI=1,#aE do
local aJ=aE[aI]
local h=aF[aJ]
if h then
if not aJ.Divider and aC(aB(aJ.Name),aD,1,true)then
aG[aH]=aJ
aH=aH+1
else
h.Visible=false
end
end
end
table.sort(aG,function(aI,aJ)return aI.Name<aJ.Name end)
for aI=1,#aG do
local aJ=aF[aG[aI] ]
aJ.LayoutOrder=aI
aJ.Visible=true
end
else
for aG=1,#aE do
local aH=aF[aE[aG] ]
if aH then aH.LayoutOrder=aG aH.Visible=true end
end
endnewlocal aG=ay.GuiElems.List.UIListLayout.AbsoluteContentSize.Y+6
ay.GuiElems.List.CanvasSize=UDim2.new(0,0,0,aG-6)
end)newreturn aA
endnewav.Add=function(ay,aA)
local aB={
Name=aA.Name or"Item",
Icon=aA.Icon or"",
Shortcut=aA.Shortcut or"",
OnClick=aA.OnClick,
OnHover=aA.OnHover,
Disabled=aA.Disabled or false,
DisabledIcon=aA.DisabledIcon or"",
IconMap=aA.IconMap,
OnRightClick=aA.OnRightClick
}newif ay.QueuedDivider then
local aC=ay.QueuedDividerText and#ay.QueuedDividerText>0 and ay.QueuedDividerText
ay:AddDivider(aC)
end
ay.Items[#ay.Items+1]=aB
ay.Updated=nil
endnewav.AddRegistered=function(ay,aA,aB)
if not ay.Registered[aA]then error(aA.." is not registered")endnewif ay.QueuedDivider then
local aC=ay.QueuedDividerText and#ay.QueuedDividerText>0 and ay.QueuedDividerText
ay:AddDivider(aC)
end
ay.Registered[aA].Disabled=aB
ay.Items[#ay.Items+1]=ay.Registered[aA]
ay.Updated=nil
endnewav.Register=function(ay,aA,aB)
ay.Registered[aA]={
Name=aB.Name or"Item",
Icon=aB.Icon or"",
Shortcut=aB.Shortcut or"",
OnClick=aB.OnClick,
OnHover=aB.OnHover,
DisabledIcon=aB.DisabledIcon or"",
IconMap=aB.IconMap,
OnRightClick=aB.OnRightClick
}
endnewav.UnRegister=function(ay,aA)
ay.Registered[aA]=nil
endnewav.AddDivider=function(ay,aA)
ay.QueuedDivider=false
local aB=aA and am.TextService:GetTextSize(aA,14,Enum.Font.SourceSans,Vector2.new(999999999,20)).X or nil
table.insert(ay.Items,{Divider=true,Text=aA,TextSize=aB and aB+4})
ay.Updated=nil
endnewav.QueueDivider=function(ay,aA)
ay.QueuedDivider=true
ay.QueuedDividerText=aA or""
endnewav.Clear=function(ay)
ay.Items={}
ay.Updated=nil
endnewav.Refresh=function(ay)
for aA,aB in pairs(ay.GuiElems.List:GetChildren())do
if not aB:IsA"UIListLayout"then
aB:Destroy()
end
end
local aA={}
ay.ItemToEntryMap=aAnewlocal aB=ay.GuiElems.Divider
local aC=ay.GuiElems.List
local aD=ay.GuiElems.Entry
local aE=ay.Itemsnewfor aF=1,#aE do
local aG=aE[aF]
if aG.Divider then
local aH=aB:Clone()
aH.Line.BackgroundColor3=ay.Theme.DividerColor
if aG.Text then
aH.Size=UDim2.new(1,0,0,20)
aH.Line.Position=UDim2.new(0,aG.TextSize,0.5,0)
aH.Line.Size=UDim2.new(1,-aG.TextSize,0,1)
aH.DividerName.TextColor3=ay.Theme.TextColor
aH.DividerName.Text=aG.Text
aH.DividerName.Visible=true
end
aH.Visible=true
aA[aG]=aH
aH.Parent=aC
else
local aH=aD:Clone()
aH.BackgroundColor3=ay.Theme.HighlightColor
aH.EntryName.TextColor3=ay.Theme.TextColor
aH.EntryName.Text=aG.Name
aH.Shortcut.Text=aG.Shortcut
if aG.Disabled then
aH.EntryName.TextColor3=Color3.new(0.5882352941176471,0.5882352941176471,0.5882352941176471)
aH.Shortcut.TextColor3=Color3.new(0.5882352941176471,0.5882352941176471,0.5882352941176471)
endnewif ay.Iconless then
aH.EntryName.Position=UDim2.new(0,2,0,0)
aH.EntryName.Size=UDim2.new(1,-4,0,20)
aH.Icon.Visible=false
else
local aI=aG.Disabled and aG.DisabledIcon or aG.Iconnewif aG.IconMap then
if type(aI)=="number"then
aG.IconMap:Display(aH.Icon,aI)
elseif type(aI)=="string"then
aG.IconMap:DisplayByKey(aH.Icon,aI)
end
elseif type(aI)=="string"then
aH.Icon.Image=aI
end
endnewif not aG.Disabled then
if aG.OnClick then
aH.MouseButton1Click:Connect(function()
aG.OnClick(aG.Name)
if not aG.NoHide then
ay:Hide()
end
end)
endnewif aG.OnRightClick then
aH.MouseButton2Click:Connect(function()
aG.OnRightClick(aG.Name)
if not aG.NoHide then
ay:Hide()
end
end)
end
endnewaH.InputBegan:Connect(function(aI)
if aI.UserInputType==Enum.UserInputType.MouseMovement or aI.UserInputType==Enum.UserInputType.Touch then
aH.BackgroundTransparency=0
end
end)newaH.InputEnded:Connect(function(aI)
if aI.UserInputType==Enum.UserInputType.MouseMovement or aI.UserInputType==Enum.UserInputType.Touch then
aH.BackgroundTransparency=1
end
end)newaH.Visible=true
aA[aG]=aH
aH.Parent=aC
end
end
ay.Updated=true
endnewav.Show=function(ay,aA,aB)
local aC=ay.GuiElems
aC.SearchFrame.Visible=ay.SearchEnabled
aC.List.Position=UDim2.new(0,2,0,2+(ay.SearchEnabled and 24 or 0))
aC.List.Size=UDim2.new(1,-4,1,-4-(ay.SearchEnabled and 24 or 0))
if ay.SearchEnabled and ay.ClearSearchOnShow then aC.SearchBar.Text=""end
ay.GuiElems.List.CanvasPosition=Vector2.new(0,0)newif not ay.Updated then
ay:Refresh()
endnew
local aD=false
local aE,aF=aA or ax.X,aB or ax.Y
local aG,aH=ax.ViewSizeX,ax.ViewSizeYnew
if aE+ay.Width>aG then
aE=ay.ReverseX and aE-ay.Width or aG-ay.Width
end
aC.Main.Position=UDim2.new(0,aE,0,aF)
aC.Main.Size=UDim2.new(0,ay.Width,0,0)
ay.Gui.DisplayOrder=aa.DisplayOrders.Menu
aq.ShowGui(ay.Gui)new
local aI=aC.List.UIListLayout.AbsoluteContentSize.Y+6
if ay.MaxHeight and aI>ay.MaxHeight then
aC.List.CanvasSize=UDim2.new(0,0,0,aI-6)
aI=ay.MaxHeight
else
aC.List.CanvasSize=UDim2.new(0,0,0,0)
end
if aF+aI>aH then aD=true endnew
local aJ
if ay.CloseEvent then ay.CloseEvent:Disconnect()end
ay.CloseEvent=am.UserInputService.InputBegan:Connect(function(h)
if not aJ then return endnewif h.UserInputType==Enum.UserInputType.MouseButton1 or h.UserInputType==Enum.UserInputType.Touch then
if not aq.CheckMouseInGui(aC.Main)then
ay.CloseEvent:Disconnect()
ay:Hide()
end
end
end)new
if aD then
aC.Main.Position=UDim2.new(0,aE,0,aF-(ay.ReverseYOffset or 0))
local h=aF-aI-(ay.ReverseYOffset or 0)
aF=h>=0 and h or 0
aC.Main:TweenSizeAndPosition(UDim2.new(0,ay.Width,0,aI),UDim2.new(0,aE,0,aF),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.2,true)
else
aC.Main:TweenSize(UDim2.new(0,ay.Width,0,aI),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.2,true)
endnew
aq.FastWait()
if ay.SearchEnabled and ay.FocusSearchOnShow then aC.SearchBar:CaptureFocus()end
aJ=true
endnewav.Hide=function(ay)
ay.Gui.Parent=nil
endnewav.ApplyTheme=function(ay,aA)
local aB=ay.Theme
aB.ContentColor=aA.ContentColor or ad.Theme.Menu
aB.OutlineColor=aA.OutlineColor or ad.Theme.Menu
aB.DividerColor=aA.DividerColor or ad.Theme.Outline2
aB.TextColor=aA.TextColor or ad.Theme.Text
aB.HighlightColor=aA.HighlightColor or ad.Theme.Main1neway.GuiElems.Main.BackgroundColor3=aB.OutlineColor
ay.GuiElems.Main.Container.BackgroundColor3=aB.ContentColor
endnewlocal ay={__index=av}
local function new()
if not ax then ax=aa.Mouse or am.Players.LocalPlayer:GetMouse()endnewlocal aA=setmetatable({
Width=200,
MaxHeight=nil,
Iconless=false,
SearchEnabled=false,
ClearSearchOnShow=true,
FocusSearchOnShow=true,
Updated=false,
QueuedDivider=false,
QueuedDividerText="",
Items={},
Registered={},
GuiElems={},
Theme={}
},ay)
aA.Gui=createGui(aA)
aA:ApplyTheme{}
return aA
endnewreturn{new=new}
end)()newaq.CodeFrame=(function()
local av={}newlocal ax={
[1]="String",
[2]="String",
[3]="String",
[4]="Comment",
[5]="Operator",
[6]="Number",
[7]="Keyword",
[8]="BuiltIn",
[9]="LocalMethod",
[10]="LocalProperty",
[11]="Nil",
[12]="Bool",
[13]="Function",
[14]="Local",
[15]="Self",
[16]="FunctionName",
[17]="Bracket"
}newlocal ay={
["nil"]=11,
["true"]=12,
["false"]=12,
["function"]=13,
["local"]=14,self=
15
}newlocal aA={
["and"]=true,
["break"]=true,
["do"]=true,
["else"]=true,
["elseif"]=true,
["end"]=true,
["false"]=true,
["for"]=true,
["function"]=true,
["if"]=true,
["in"]=true,
["local"]=true,
["nil"]=true,
["not"]=true,
["or"]=true,
["repeat"]=true,
["return"]=true,
["then"]=true,
["true"]=true,
["until"]=true,
["while"]=true,plugin=
true
}newlocal aB={delay=
true,elapsedTime=
true,require=
true,spawn=
true,tick=
true,time=
true,typeof=
true,UserSettings=
true,wait=
true,warn=
true,game=
true,shared=
true,script=
true,workspace=
true,assert=
true,collectgarbage=
true,error=
true,getfenv=
true,getmetatable=
true,ipairs=
true,loadstring=
true,newproxy=
true,next=
true,pairs=
true,pcall=
true,print=
true,rawequal=
true,rawget=
true,rawset=
true,select=
true,setfenv=
true,setmetatable=
true,tonumber=
true,tostring=
true,type=
true,unpack=
true,xpcall=
true,_G=
true,_VERSION=
true,coroutine=
true,debug=
true,math=
true,os=
true,string=
true,table=
true,bit32=
true,utf8=
true,Axes=
true,BrickColor=
true,CFrame=
true,Color3=
true,ColorSequence=
true,ColorSequenceKeypoint=
true,DockWidgetPluginGuiInfo=
true,Enum=
true,Faces=
true,Instance=
true,NumberRange=
true,NumberSequence=
true,NumberSequenceKeypoint=
true,PathWaypoint=
true,PhysicalProperties=
true,Random=
true,Ray=
true,Rect=
true,Region3=
true,Region3int16=
true,TweenInfo=
true,UDim=
true,UDim2=
true,Vector2=
true,Vector2int16=
true,Vector3=
true,Vector3int16=
true
}newlocal aC=falsenewlocal aD={
["'"]="&apos;",
["\""]="&quot;",
["<"]="&lt;",
[">"]="&gt;",
["&"]="&amp;"
}newlocal aE="\t"
local aF=(" %s "):format(aE)newlocal aG={
[("[^%s] "):format(aE)]=0,
[(" %s"):format(aE)]=-1,
[("%s "):format(aE)]=2,
[(" [^%s]"):format(aE)]=1,
}newlocal aH=am.TweenService
local aI={}newlocal function initBuiltIn()
local aJ=getfenv()
local h=type
local i=tostring
for j,k in next,aB do
local l=aJ[j]
if h(l)=="table"then
local m={}
for n,o in next,l do
m[n]=true
end
aB[j]=m
end
endnewlocal j={}
local k=Enum:GetEnums()
for l=1,#k do
j[i(k[l])]=true
end
aB.Enum=jnewaC=true
endnewlocal function setupEditBox(aJ)
local h=aJ.GuiElems.EditBoxnewh.Focused:Connect(function()
aJ:ConnectEditBoxEvent()
aJ.Editing=true
end)newh.FocusLost:Connect(function()
aJ:DisconnectEditBoxEvent()
aJ.Editing=false
end)newh:GetPropertyChangedSignal"Text":Connect(function()
local i=h.Text
if#i==0 or aJ.EditBoxCopying then return end
h.Text=""
aJ:AppendText(i)
end)
endnewlocal function setupMouseSelection(aJ)
an:GetMouse()
local h=aJ.GuiElems.LinesFrame
local i=aJ.Linesnewh.InputBegan:Connect(function(j)
if j.UserInputType==Enum.UserInputType.MouseButton1 or j.UserInputType==Enum.UserInputType.Touch then
local k,l=math.ceil(aJ.FontSize/2),aJ.FontSize
local m=j.Position.X-h.AbsolutePosition.X
local n=j.Position.Y-h.AbsolutePosition.Y
local o=math.round(m/k)+aJ.ViewX
local p=math.floor(n/l)+aJ.ViewY
local q,r,s
local t,u=0,0
p=math.min(#i-1,p)
local v=i[p+1]or""
o=math.min(#v,o+aJ:TabAdjust(o,p))newaJ.SelectionRange={{-1,-1},{-1,-1}}
aJ:MoveCursor(o,p)
aJ.FloatCursorX=onewlocal function updateSelection()
local w=j.Position.X-h.AbsolutePosition.X
local x=j.Position.Y-h.AbsolutePosition.Y
local y=math.max(0,math.round(w/k)+aJ.ViewX)
local z=math.max(0,math.floor(x/l)+aJ.ViewY)newz=math.min(#i-1,z)
local A=i[z+1]or""
y=math.min(#A,y+aJ:TabAdjust(y,z))newif z<p or(z==p and y<o)then
aJ.SelectionRange={{y,z},{o,p}}
else
aJ.SelectionRange={{o,p},{y,z}}
endnewaJ:MoveCursor(y,z)
aJ.FloatCursorX=y
aJ:Refresh()
endnewq=am.UserInputService.InputEnded:Connect(function(w)
if w.UserInputType==Enum.UserInputType.MouseButton1 or w.UserInputType==Enum.UserInputType.Touch then
q:Disconnect()
r:Disconnect()
s:Disconnect()
aJ:SetCopyableSelection()
end
end)newr=am.UserInputService.InputChanged:Connect(function(w)
if w.UserInputType==Enum.UserInputType.MouseMovement or w.UserInputType==Enum.UserInputType.Touch then
local x=w.Position.Y-h.AbsolutePosition.Y
local y=w.Position.Y-h.AbsolutePosition.Y-h.AbsoluteSize.Y
local z=w.Position.X-h.AbsolutePosition.X
local A=w.Position.X-h.AbsolutePosition.X-h.AbsoluteSize.Xnewt=0
u=0
if y>0 then
t=math.floor(y*0.05)+1
elseif x<0 then
t=math.ceil(x*0.05)-1
end
if A>0 then
u=math.floor(A*0.05)+1
elseif z<0 then
u=math.ceil(z*0.05)-1
end
updateSelection()
end
end)news=am.RunService.RenderStepped:Connect(function()
if t~=0 or u~=0 then
aJ:ScrollDelta(u,t)
updateSelection()
end
end)newaJ:Refresh()
end
end)newendnewlocal function makeFrame(aJ)
local h=ao{
{1,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Position=UDim2.new(0.5,-300,0.5,-200),Size=UDim2.new(0,600,0,400),}},
}
local i={}newlocal j=a"Frame"
j.Name="Lines"
j.BackgroundTransparency=1
j.Size=UDim2.new(1,0,1,0)
j.ClipsDescendants=true
j.Parent=hnewlocal k=a"TextLabel"
k.Name="LineNumbers"
k.BackgroundTransparency=1
k.Font=Enum.Font.Code
k.TextXAlignment=Enum.TextXAlignment.Right
k.TextYAlignment=Enum.TextYAlignment.Top
k.ClipsDescendants=true
k.RichText=true
k.Parent=hnewlocal l=a"Frame"
l.Name="Cursor"
l.BackgroundColor3=Color3.fromRGB(220,220,220)
l.BorderSizePixel=0
l.Parent=hnewlocal m=a"TextBox"
m.Name="EditBox"
m.MultiLine=true
m.Visible=false
m.Parent=hnewaI.Invis=aH:Create(l,TweenInfo.new(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{BackgroundTransparency=1})
aI.Vis=aH:Create(l,TweenInfo.new(0.2,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{BackgroundTransparency=0})newi.LinesFrame=j
i.LineNumbersLabel=k
i.Cursor=l
i.EditBox=m
i.ScrollCorner=ao{{1,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false,}}}newi.ScrollCorner.Parent=h
j.InputBegan:Connect(function(n)
if n.UserInputType==Enum.UserInputType.MouseButton1 or n.UserInputType==Enum.UserInputType.Touch then
aJ:SetEditing(true,n)
end
end)new
aJ.Frame=h
aJ.Gui=h
aJ.GuiElems=i
setupEditBox(aJ)
setupMouseSelection(aJ)newreturn h
endnewav.GetSelectionText=function(aJ)
if not aJ:IsValidRange()then return""endnewlocal h=aJ.SelectionRange
local i,j=h[1][1],h[1][2]
local k,l=h[2][1],h[2][2]
local m=l-j
local n=aJ.Linesnewif not n[j+1]or not n[l+1]then return""endnewif m==0 then
return aJ:ConvertText(n[j+1]:sub(i+1,k),false)
endnewlocal o=n[j+1]:sub(i+1)
local p=n[l+1]:sub(1,k)newlocal q=o.."\n"
for r=j+1,l-1 do
q=q..n[r+1].."\n"
end
q=q..pnewreturn aJ:ConvertText(q,false)
endnewav.SetCopyableSelection=function(aJ)
local h=aJ:GetSelectionText()
local i=aJ.GuiElems.EditBoxnewaJ.EditBoxCopying=true
i.Text=h
i.SelectionStart=1
i.CursorPosition=#i.Text+1
aJ.EditBoxCopying=false
endnewav.ConnectEditBoxEvent=function(aJ)
if aJ.EditBoxEvent then
aJ.EditBoxEvent:Disconnect()
endnewaJ.EditBoxEvent=am.UserInputService.InputBegan:Connect(function(h)
if h.UserInputType~=Enum.UserInputType.Keyboard then return endnewlocal i=Enum.KeyCode
local j=h.KeyCodenewlocal function setupMove(k,l)
local m,n
m=am.UserInputService.InputEnded:Connect(function(o)
if o.KeyCode~=k then return end
m:Disconnect()
n=true
end)
l()
aq.FastWait(0.5)
while not n do l()aq.FastWait(0.03)end
endnewif j==i.Down then
setupMove(i.Down,function()
aJ.CursorX=aJ.FloatCursorX
aJ.CursorY=aJ.CursorY+1
aJ:UpdateCursor()
aJ:JumpToCursor()
end)
elseif j==i.Up then
setupMove(i.Up,function()
aJ.CursorX=aJ.FloatCursorX
aJ.CursorY=aJ.CursorY-1
aJ:UpdateCursor()
aJ:JumpToCursor()
end)
elseif j==i.Left then
setupMove(i.Left,function()
local k=aJ.Lines[aJ.CursorY+1]or""
aJ.CursorX=aJ.CursorX-1-(k:sub(aJ.CursorX-3,aJ.CursorX)==aF and 3 or 0)
if aJ.CursorX<0 then
aJ.CursorY=aJ.CursorY-1
local l=aJ.Lines[aJ.CursorY+1]or""
aJ.CursorX=#l
end
aJ.FloatCursorX=aJ.CursorX
aJ:UpdateCursor()
aJ:JumpToCursor()
end)
elseif j==i.Right then
setupMove(i.Right,function()
local k=aJ.Lines[aJ.CursorY+1]or""
aJ.CursorX=aJ.CursorX+1+(k:sub(aJ.CursorX+1,aJ.CursorX+4)==aF and 3 or 0)
if aJ.CursorX>#k then
aJ.CursorY=aJ.CursorY+1
aJ.CursorX=0
end
aJ.FloatCursorX=aJ.CursorX
aJ:UpdateCursor()
aJ:JumpToCursor()
end)
elseif j==i.Backspace then
setupMove(i.Backspace,function()
local k,l
if aJ:IsValidRange()then
k=aJ.SelectionRange[1]
l=aJ.SelectionRange[2]
else
l={aJ.CursorX,aJ.CursorY}
endnewif not k then
local m=aJ.Lines[aJ.CursorY+1]or""
aJ.CursorX=aJ.CursorX-1-(m:sub(aJ.CursorX-3,aJ.CursorX)==aF and 3 or 0)
if aJ.CursorX<0 then
aJ.CursorY=aJ.CursorY-1
local n=aJ.Lines[aJ.CursorY+1]or""
aJ.CursorX=#n
end
aJ.FloatCursorX=aJ.CursorX
aJ:UpdateCursor()newk=k or{aJ.CursorX,aJ.CursorY}
endnewaJ:DeleteRange({k,l},false,true)
aJ:ResetSelection(true)
aJ:JumpToCursor()
end)
elseif j==i.Delete then
setupMove(i.Delete,function()
local k,l
if aJ:IsValidRange()then
k=aJ.SelectionRange[1]
l=aJ.SelectionRange[2]
else
k={aJ.CursorX,aJ.CursorY}
endnewif not l then
local m=aJ.Lines[aJ.CursorY+1]or""
local n=aJ.CursorX+1+(m:sub(aJ.CursorX+1,aJ.CursorX+4)==aF and 3 or 0)
local o=aJ.CursorY
if n>#m then
o=o+1
n=0
end
aJ:UpdateCursor()newl=l or{n,o}
endnewaJ:DeleteRange({k,l},false,true)
aJ:ResetSelection(true)
aJ:JumpToCursor()
end)
elseif am.UserInputService:IsKeyDown(Enum.KeyCode.LeftControl)then
if j==i.A then
aJ.SelectionRange={{0,0},{#aJ.Lines[#aJ.Lines],#aJ.Lines-1}}
aJ:SetCopyableSelection()
aJ:Refresh()
end
end
end)
endnewav.DisconnectEditBoxEvent=function(aJ)
if aJ.EditBoxEvent then
aJ.EditBoxEvent:Disconnect()
end
endnewav.ResetSelection=function(aJ,h)
aJ.SelectionRange={{-1,-1},{-1,-1}}
if not h then aJ:Refresh()end
endnewav.IsValidRange=function(aJ,h)
local i=h or aJ.SelectionRange
local j,k=i[1][1],i[1][2]
local l,m=i[2][1],i[2][2]newif j==-1 or(j==l and k==m)then return false endnewreturn true
endnewav.DeleteRange=function(aJ,h,i,j)
h=h or aJ.SelectionRange
if not aJ:IsValidRange(h)then return endnewlocal k=aJ.Lines
local l,m=h[1][1],h[1][2]
local n,o=h[2][1],h[2][2]
local p=o-mnewif not k[m+1]or not k[o+1]then return endnewlocal q=k[m+1]:sub(1,l)
local r=k[o+1]:sub(n+1)
k[m+1]=q..rnewlocal s=table.remove
for t=1,p do
s(k,m+2)
endnewif h==aJ.SelectionRange then aJ.SelectionRange={{-1,-1},{-1,-1}}end
if j then
aJ.CursorX=l
aJ.CursorY=m
aJ:UpdateCursor()
endnewif not i then
aJ:ProcessTextChange()
end
endnewav.AppendText=function(aJ,h)
aJ:DeleteRange(nil,true,true)
local i,j,k=aJ.Lines,aJ.CursorX,aJ.CursorY
local l=i[k+1]
local m=l:sub(1,j)
local n=l:sub(j+1)newh=h:gsub("\r\n","\n")
h=aJ:ConvertText(h,true)newlocal o=h:split"\n"
local p=table.insertnewfor q=1,#o do
local r=k+q
if q>1 then p(i,r,"")endnewlocal s=o[q]
local t=(q==1 and m or"")
local u=(q==#o and n or"")newi[r]=t..s..u
endnewif#o>1 then j=0 endnewaJ:ProcessTextChange()
aJ.CursorX=j+#o[#o]
aJ.CursorY=k+#o-1
aJ:UpdateCursor()
endnewav.ScrollDelta=function(aJ,h,i)
aJ.ScrollV:ScrollTo(aJ.ScrollV.Index+i)
aJ.ScrollH:ScrollTo(aJ.ScrollH.Index+h)
endnew
av.TabAdjust=function(aJ,h,i)
local j=aJ.Lines
local k=j[i+1]
h=h+1newif k then
local l=k:sub(h-1,h-1)
local m=k:sub(h,h)
local n=k:sub(h+1,h+1)
local o=(#l>0 and l or" ")..(#m>0 and m or" ")..(#n>0 and n or" ")newfor p,q in pairs(aG)do
if o:find(p)then
return q
end
end
end
return 0
endnewav.SetEditing=function(aJ,h,i)
aJ:UpdateCursor(i)newif h then
if aJ.Editable then
aJ.GuiElems.EditBox.Text=""
aJ.GuiElems.EditBox:CaptureFocus()
end
else
aJ.GuiElems.EditBox:ReleaseFocus()
end
endnewav.CursorAnim=function(aJ,h)
local i=aJ.GuiElems.Cursor
local j=tick()
aJ.LastAnimTime=jnewif not h then return endnewaI.Invis:Cancel()
aI.Vis:Cancel()
i.BackgroundTransparency=0newcoroutine.wrap(function()
while aJ.Editable do
aq.FastWait(0.5)
if aJ.LastAnimTime~=j then return end
aI.Invis:Play()
aq.FastWait(0.4)
if aJ.LastAnimTime~=j then return end
aI.Vis:Play()
aq.FastWait(0.2)
end
end)()
endnewav.MoveCursor=function(aJ,h,i)
aJ.CursorX=h
aJ.CursorY=i
aJ:UpdateCursor()
aJ:JumpToCursor()
endnewav.JumpToCursor=function(aJ)
aJ:Refresh()
endnewav.UpdateCursor=function(aJ,h)
local i=aJ.GuiElems.LinesFrame
local j=aJ.GuiElems.Cursor
local k=math.max(0,i.AbsoluteSize.X)
local l=math.max(0,i.AbsoluteSize.Y)
local m=math.ceil(l/aJ.FontSize)
local n=math.ceil(k/math.ceil(aJ.FontSize/2))
local o,p=aJ.ViewX,aJ.ViewY
local q=tostring(#aJ.Lines)
local r=math.ceil(aJ.FontSize/2)
local s=#q*r+4*rnewif h then
local t=aJ.GuiElems.LinesFrame
local u,v=t.AbsolutePosition.X,t.AbsolutePosition.Y
local w,x=h.Position.X,h.Position.Y
local y,z=math.ceil(aJ.FontSize/2),aJ.FontSizenewaJ.CursorX=aJ.ViewX+math.round((w-u)/y)
aJ.CursorY=aJ.ViewY+math.floor((x-v)/z)
endnewlocal t,u=aJ.CursorX,aJ.CursorYnewlocal v=aJ.Lines[u+1]or""
if t>#v then t=#v
elseif t<0 then t=0 endnewif u>=#aJ.Lines then
u=math.max(0,#aJ.Lines-1)
elseif u<0 then
u=0
endnewt=t+aJ:TabAdjust(t,u)new
aJ.CursorX=t
aJ.CursorY=unewlocal w=(t>=o)and(u>=p)and(t<=o+n)and(u<=p+m)
if w then
local x=(t-o)
local y=(u-p)
j.Position=UDim2.new(0,s+x*math.ceil(aJ.FontSize/2)-1,0,y*aJ.FontSize)
j.Size=UDim2.new(0,1,0,aJ.FontSize+2)
j.Visible=true
aJ:CursorAnim(true)
else
j.Visible=false
end
endnewav.MapNewLines=function(aJ)
local h={}
local i=1
local j=aJ.Text
local k=string.find
local l=1newlocal m=k(j,"\n",l,true)
while m do
h[i]=m
i=i+1
l=m+1
m=k(j,"\n",l,true)
endnewaJ.NewLines=h
endnewav.PreHighlight=function(aJ)
tick()
local h=aJ.Text:gsub("\\\\","	")newlocal i=#h
local j={}
local k={}
local l={}
local m=string.find
local n=string.sub
aJ.ColoredLines={}newlocal function findAll(o,p,q,r)
local s=#j+1
local t=1
local u,v,w=m(o,p,t,r)
while u do
j[s]=u
k[u]=q
if w then
l[u]=w
endnews=s+1
t=v+1
u,v,w=m(o,p,t,r)
end
end
tick()
findAll(h,'"',1,true)
findAll(h,"'",2,true)
findAll(h,"%[(=*)%[",3)
findAll(h,"--",4,true)
table.sort(j)newlocal o=aJ.NewLines
local p=0new
local q=0
local r=0
local s={}newfor t=1,#j do
local u=j[t]
if u<=r then continue endnewlocal v=u
local w=k[u]
if w==1 then
v=m(h,'"',u+1,true)
while v and n(h,v-1,v-1)=="\\"do
v=m(h,'"',v+1,true)
end
if not v then v=i end
elseif w==2 then
v=m(h,"'",u+1,true)
while v and n(h,v-1,v-1)=="\\"do
v=m(h,"'",v+1,true)
end
if not v then v=i end
elseif w==3 then
_,v=m(h,"]"..l[u].."]",u+1,true)
if not v then v=i end
elseif w==4 then
local x=k[u+2]newif x==3 then
_,v=m(h,"]"..l[u+2].."]",u+1,true)
if not v then v=i end
else
v=m(h,"\n",u+1,true)or i
end
endnewwhile u>q do
p=p+1newq=o[p]or i+1
end
while true do
local x=s[p]
if not x then x={}s[p]=x end
x[u]={w,v}new
if v>q then
p=p+1
q=o[p]or i+1
else
break
end
endnewr=vnewend
aJ.PreHighlights=snew
endnewav.HighlightLine=function(aJ,h)
local i=aJ.ColoredLines[h]
if i then return i endnewlocal j=string.sub
local k=string.find
local l=string.match
local m={}
local n=aJ.PreHighlights[h]or{}
local o=aJ.Lines[h]or""local p=
#o
local q=0
local r=0
local s
local t=false
local u=0
local v=aJ.NewLines[h-1]or 0newlocal w={}
for x,y in next,n do
local z=x-v
if z<1 then
r=y[1]
q=y[2]-vnewelse
w[z]={y[1],y[2]-v}
end
endnewfor x=1,#o do
if x<=q then m[x]=r continue endnewlocal y=w[x]
if y then
r=y[1]
q=y[2]
m[x]=r
t=false
s=nil
u=0
else
local z=j(o,x,x)
if k(z,"[%a_]")then
local A=l(o,"[%a%d_]+",x)
local B=(aA[A]and 7)or(aB[A]and 8)newq=x+#A-1newif B~=7 then
if t then
local C=s and aB[s]
B=(C and type(C)=="table"and C[A]and 8)or 10
endnewif B~=8 then local
C, D, E=k(o,"^%s*([%({\"'])",q+1)
if C then
B=(u>0 and E=="("and 16)or 9
u=0
end
end
else
B=ay[A]or B
u=(A=="function"and 1 or 0)
endnews=A
t=false
if u>0 then u=1 endnewif B then
r=B
m[x]=r
else
r=nil
end
elseif k(z,"%p")then
local A=(z==".")
local B=A and k(j(o,x+1,x+1),"%d")
m[x]=(B and 6 or 5)newif not B then
local C=A and l(o,"%.%.?%.?",x)
if C and#C>1 then
r=5
q=x+#C-1
t=false
s=nil
u=0
else
if A then
if t then
s=nil
else
t=true
end
else
t=false
s=nil
endnewu=((A or z==":")and u==1 and 2)or 0
end
end
elseif k(z,"%d")then local
A, B=k(o,"%x+",x)
local C=j(o,B,B+1)
if(C=="e+"or C=="e-")and k(j(o,B+2,B+2),"%d")then
B=B+1
end
r=6
q=B
m[x]=6
t=false
s=nil
u=0
else
m[x]=r local
A, B=k(o,"%s+",x)
if B then
q=B
end
end
end
endnewaJ.ColoredLines[h]=m
return m
endnewav.Refresh=function(aJ)
tick()newlocal h=aJ.Frame.Lines
local i=math.max(0,h.AbsoluteSize.X)
local j=math.max(0,h.AbsoluteSize.Y)
local k=math.ceil(j/aJ.FontSize)
local l=math.ceil(i/math.ceil(aJ.FontSize/2))
local m=string.gsub
local n=string.subnewlocal o,p=aJ.ViewX,aJ.ViewYnewlocal q=""newfor r=1,k do
local s=aJ.LineFrames[r]
if not s then
s=a"Frame"
s.Name="Line"
s.Position=UDim2.new(0,0,0,(r-1)*aJ.FontSize)
s.Size=UDim2.new(1,0,0,aJ.FontSize)
s.BorderSizePixel=0
s.BackgroundTransparency=1newlocal t=a"Frame"
t.Name="SelectionHighlight"
t.BorderSizePixel=0
t.BackgroundColor3=ad.Theme.Syntax.SelectionBack
t.Parent=snewlocal u=a"TextLabel"
u.Name="Label"
u.BackgroundTransparency=1
u.Font=Enum.Font.Code
u.TextSize=aJ.FontSize
u.Size=UDim2.new(1,0,0,aJ.FontSize)
u.RichText=true
u.TextXAlignment=Enum.TextXAlignment.Left
u.TextColor3=aJ.Colors.Text
u.ZIndex=2
u.Parent=snews.Parent=h
aJ.LineFrames[r]=s
endnewlocal t=p+r
local u=aJ.Lines[t]or""
local v=""
local w=aJ:HighlightLine(t)
local x=o+1newlocal y=aJ.RichTemplates
local z=y.Text
local A=y.Selection
local B=w[x]
local C=y[ax[B] ]or znew
local D=aJ.SelectionRange
local E=D[1]
local F=D[2]
local G,H=E[2],E[1]
local I,J=F[2],F[1]local
K=t-1newif K>=E[2]and K<=F[2]then
local L=math.ceil(aJ.FontSize/2)
local M=(K==E[2]and E[1]or 0)-o
local N=(K==F[2]and F[1]-M-o or l+o)news.SelectionHighlight.Position=UDim2.new(0,M*L,0,0)
s.SelectionHighlight.Size=UDim2.new(0,N*L,1,0)
s.SelectionHighlight.Visible=true
else
s.SelectionHighlight.Visible=false
endnew
local L=K>=G and K<=I and(K==G and o>=H or K~=G)and(K==I and o<J or K~=I)
if L then
B=-999
C=A
endnewfor M=2,l do
local N=o+M
local O=N-1
local P=w[N]new
local Q=K>=G and K<=I and(K==G and O>=H or K~=G)and(K==I and O<J or K~=I)
if Q then
P=-999
endnewif P~=B then
local R=(Q and A)or y[ax[P] ]or znewif R~=C then
local S=m(n(u,x,N-1),"['\"<>&]",aD)
v=v..(C~=z and(C..S.."</font>")or S)
x=N
C=R
end
B=P
end
endnewlocal M=m(n(u,x,o+l),"['\"<>&]",aD)newif#M>0 then
v=v..(C~=z and(C..M.."</font>")or M)
endnewif aJ.Lines[t]then
q=q..(t==aJ.CursorY and("<b>"..t.."</b>\n")or t.."\n")
endnews.Label.Text=v
endnewfor r=k+1,#aJ.LineFrames do
aJ.LineFrames[r]:Destroy()
aJ.LineFrames[r]=nil
endnewaJ.Frame.LineNumbers.Text=q
aJ:UpdateCursor()new
endnewav.UpdateView=function(aJ)
local h=tostring(#aJ.Lines)
local i=math.ceil(aJ.FontSize/2)
local j=#h*i+4*inewlocal k=aJ.Frame.Lines
local l=k.AbsoluteSize.X
local m=k.AbsoluteSize.Y
local n=math.ceil(m/aJ.FontSize)
local o=aJ.MaxTextCols*i
local p=aJ.ScrollV
local q=aJ.ScrollHnewp.VisibleSpace=n
p.TotalSpace=#aJ.Lines+1
q.VisibleSpace=math.ceil(l/i)
q.TotalSpace=aJ.MaxTextCols+1newp.Gui.Visible=#aJ.Lines+1>n
q.Gui.Visible=o>lnewlocal r=aJ.FrameOffsets
aJ.FrameOffsets=Vector2.new(p.Gui.Visible and-16 or 0,q.Gui.Visible and-16 or 0)
if r~=aJ.FrameOffsets then
aJ:UpdateView()
else
p:ScrollTo(aJ.ViewY,true)
q:ScrollTo(aJ.ViewX,true)newif p.Gui.Visible and q.Gui.Visible then
p.Gui.Size=UDim2.new(0,16,1,-16)
q.Gui.Size=UDim2.new(1,-16,0,16)
aJ.GuiElems.ScrollCorner.Visible=true
else
p.Gui.Size=UDim2.new(0,16,1,0)
q.Gui.Size=UDim2.new(1,0,0,16)
aJ.GuiElems.ScrollCorner.Visible=false
endnewaJ.ViewY=p.Index
aJ.ViewX=q.Index
aJ.Frame.Lines.Position=UDim2.new(0,j,0,0)
aJ.Frame.Lines.Size=UDim2.new(1,-j+r.X,1,r.Y)
aJ.Frame.LineNumbers.Position=UDim2.new(0,i,0,0)
aJ.Frame.LineNumbers.Size=UDim2.new(0,#h*i,1,r.Y)
aJ.Frame.LineNumbers.TextSize=aJ.FontSize
end
endnewav.ProcessTextChange=function(aJ)
local h=0
local i=aJ.Linesnewfor j=1,#i do
local k=#i[j]
if k>h then
h=k
end
endnewaJ.MaxTextCols=h
aJ:UpdateView()
aJ.Text=table.concat(aJ.Lines,"\n")
aJ:MapNewLines()
aJ:PreHighlight()
aJ:Refresh()newendnewav.ConvertText=function(aJ,h,i)
if i then
return h:gsub("\t",(" %s "):format(aE))
else
return h:gsub((" %s "):format(aE),"\t")
end
endnewav.GetText=function(aJ)
local h=table.concat(aJ.Lines,"\n")
return aJ:ConvertText(h,false)
endnewav.SetText=function(aJ,h)
h=aJ:ConvertText(h,true)
local i=aJ.Lines
table.clear(i)
local j=1newfor k in h:gmatch"([^\n\r]*)[\n\r]?"do local l=
#k
i[j]=k
j=j+1
endnewaJ:ProcessTextChange()
endnewav.MakeRichTemplates=function(aJ)
local h=math.floor
local i={}newfor j,k in pairs(aJ.Colors)do
i[j]=('<font color="rgb(%s,%s,%s)">'):format(h(k.r*255),h(k.g*255),h(k.b*255))
endnewaJ.RichTemplates=i
endnewav.ApplyTheme=function(aJ)
local h=ad.Theme.Syntax
aJ.Colors=h
aJ.Frame.LineNumbers.TextColor3=h.Text
aJ.Frame.BackgroundColor3=h.Background
endnewlocal aJ={__index=av}newlocal function new()
if not aC then initBuiltIn()endnewlocal h=aq.ScrollBar.new()
local i=aq.ScrollBar.new(true)
i.Gui.Position=UDim2.new(0,0,1,-16)
local j=setmetatable({
FontSize=15,
ViewX=0,
ViewY=0,
Colors=ad.Theme.Syntax,
ColoredLines={},
Lines={""},
LineFrames={},
Editable=true,
Editing=false,
CursorX=0,
CursorY=0,
FloatCursorX=0,
Text="",
PreHighlights={},
SelectionRange={{-1,-1},{-1,-1}},
NewLines={},
FrameOffsets=Vector2.new(0,0),
MaxTextCols=0,
ScrollV=h,
ScrollH=i
},aJ)newh.WheelIncrement=3
i.Increment=2
i.WheelIncrement=7newh.Scrolled:Connect(function()
j.ViewY=h.Index
j:Refresh()
end)newi.Scrolled:Connect(function()
j.ViewX=i.Index
j:Refresh()
end)newmakeFrame(j)
j:MakeRichTemplates()
j:ApplyTheme()
h:SetScrollFrame(j.Frame.Lines)
h.Gui.Parent=j.Frame
i.Gui.Parent=j.Framenewj:UpdateView()
j.Frame:GetPropertyChangedSignal"AbsoluteSize":Connect(function()
j:UpdateView()
j:Refresh()
end)newreturn j
endnewreturn{new=new}
end)()newaq.Checkbox=(function()
local av={}
local ax=Color3.fromRGB
local ay=Vector2.new
local aA=UDim2.fromScale
local aB=UDim2.fromOffset
local aC=UDim.new
local aD=math.max
local aE=a
local aF=aE"Frame".TweenSize
local aG=TweenInfo.new
local aH=delaynewlocal function ripple(aI,aJ)
local h=aE'Frame'
h.BackgroundColor3=aJ
h.BackgroundTransparency=0.75
h.BorderSizePixel=0
h.AnchorPoint=ay(0.5,0.5)
h.Size=aB()
h.Position=aA(0.5,0.5)
h.Parent=aI
local i=aE'UICorner'
i.CornerRadius=aC(1)
i.Parent=hnewlocal j=aI.AbsoluteSize
local k=aD(j.X,j.Y)*5/3newaF(h,aB(k,k),"Out","Quart",0.4)
am.TweenService:Create(h,aG(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.In),{BackgroundTransparency=1}):Play()newam.Debris:AddItem(h,0.4)
endnewlocal function initGui(aI,aJ)
local h=aJ or ao{
{1,"ImageButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Checkbox",Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,16,0,16),}},
{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ripples",Parent={1},Size=UDim2.new(1,0,1,0),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.10196078568697,0.10196078568697,0.10196078568697),BorderSizePixel=0,Name="outline",Parent={1},Size=UDim2.new(0,16,0,16),}},
{4,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="filler",Parent={3},Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,14,0,14),}},
{5,"Frame",{BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="top",Parent={4},Size=UDim2.new(0,16,0,0),}},
{6,"Frame",{AnchorPoint=Vector2.new(0,1),BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="bottom",Parent={4},Position=UDim2.new(0,0,0,14),Size=UDim2.new(0,16,0,0),}},
{7,"Frame",{BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="left",Parent={4},Size=UDim2.new(0,0,0,16),}},
{8,"Frame",{AnchorPoint=Vector2.new(1,0),BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="right",Parent={4},Position=UDim2.new(0,14,0,0),Size=UDim2.new(0,0,0,16),}},
{9,"Frame",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,ClipsDescendants=true,Name="checkmark",Parent={4},Position=UDim2.new(0.5,0,0.5,0),Size=UDim2.new(0,0,0,20),}},
{10,"ImageLabel",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://6234266378",Parent={9},Position=UDim2.new(0.5,0,0.5,0),ScaleType=3,Size=UDim2.new(0,15,0,11),}},
{11,"ImageLabel",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6401617475",ImageColor3=Color3.new(0.20784313976765,0.69803923368454,0.98431372642517),Name="checkmark2",Parent={4},Position=UDim2.new(0.5,0,0.5,0),Size=UDim2.new(0,12,0,12),Visible=false,}},
{12,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6425281788",ImageTransparency=0.20000000298023,Name="middle",Parent={4},ScaleType=2,Size=UDim2.new(1,0,1,0),TileSize=UDim2.new(0,2,0,2),Visible=false,}},
{13,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3},}},
}
local i=h.outline
local j=i.filler
local k=j.checkmark
local l=h.ripplesnew
local m,n,o,p=j.top,j.bottom,j.left,j.rightnewaI.Gui=h
aI.GuiElems={
Top=m,
Bottom=n,
Left=o,
Right=p,
Outline=i,
Filler=j,
Checkmark=k,
Checkmark2=j.checkmark2,
Middle=j.middle
}newh.Activated:Connect(function()
if aq.CheckMouseInGui(h)then
if aI.Style==0 then
ripple(l,aI.Disabled and aI.Colors.Disabled or aI.Colors.Primary)
endnewif not aI.Disabled then
aI:SetState(not aI.Toggled,true)
else
aI:Paint()
endnewaI.OnInput:Fire()
end
end)newnewnewnewnewnewnewnewnewnewnewnewnewnewaI:Paint()
endnewav.Collapse=function(aI,aJ)
local h=aI.GuiElems
if aJ then
aF(h.Top,aB(14,14),"In","Quart",0.26666666666666666,true)
aF(h.Bottom,aB(14,14),"In","Quart",0.26666666666666666,true)
aF(h.Left,aB(14,14),"In","Quart",0.26666666666666666,true)
aF(h.Right,aB(14,14),"In","Quart",0.26666666666666666,true)
else
h.Top.Size=aB(14,14)
h.Bottom.Size=aB(14,14)
h.Left.Size=aB(14,14)
h.Right.Size=aB(14,14)
end
endnewav.Expand=function(aI,aJ)
local h=aI.GuiElems
if aJ then
aF(h.Top,aB(14,0),"InOut","Quart",0.26666666666666666,true)
aF(h.Bottom,aB(14,0),"InOut","Quart",0.26666666666666666,true)
aF(h.Left,aB(0,14),"InOut","Quart",0.26666666666666666,true)
aF(h.Right,aB(0,14),"InOut","Quart",0.26666666666666666,true)
else
h.Top.Size=aB(14,0)
h.Bottom.Size=aB(14,0)
h.Left.Size=aB(0,14)
h.Right.Size=aB(0,14)
end
endnewav.Paint=function(aI)
local aJ=aI.GuiElemsnewif aI.Style==0 then
local h=aI.Disabled and aI.Colors.Disabled
aJ.Outline.BackgroundColor3=h or(aI.Toggled and aI.Colors.Primary)or aI.Colors.Secondary
local i=h or aI.Colors.Primary
aJ.Top.BackgroundColor3=i
aJ.Bottom.BackgroundColor3=i
aJ.Left.BackgroundColor3=i
aJ.Right.BackgroundColor3=i
else
aJ.Outline.BackgroundColor3=aI.Disabled and aI.Colors.Disabled or aI.Colors.Secondary
aJ.Filler.BackgroundColor3=aI.Disabled and aI.Colors.DisabledBackground or aI.Colors.Background
aJ.Checkmark2.ImageColor3=aI.Disabled and aI.Colors.DisabledCheck or aI.Colors.Primary
end
endnewav.SetState=function(aI,aJ,h)
aI.Toggled=aJnewif aI.OutlineColorTween then aI.OutlineColorTween:Cancel()end
local i=tick()
aI.LastSetStateTime=inewif aI.Toggled then
if aI.Style==0 then
if h then
aI.OutlineColorTween=am.TweenService:Create(aI.GuiElems.Outline,aG(0.26666666666666666,Enum.EasingStyle.Circular,Enum.EasingDirection.Out),{BackgroundColor3=aI.Colors.Primary})
aI.OutlineColorTween:Play()
aH(0.15,function()
if i~=aI.LastSetStateTime then return end
aI:Paint()
aF(aI.GuiElems.Checkmark,aB(14,20),"Out","Bounce",0.13333333333333333,true)
end)
else
aI.GuiElems.Outline.BackgroundColor3=aI.Colors.Primary
aI:Paint()
aI.GuiElems.Checkmark.Size=aB(14,20)
end
aI:Collapse(h)
else
aI:Paint()
aI.GuiElems.Checkmark2.Visible=true
aI.GuiElems.Middle.Visible=false
end
else
if aI.Style==0 then
if h then
aI.OutlineColorTween=am.TweenService:Create(aI.GuiElems.Outline,aG(0.26666666666666666,Enum.EasingStyle.Circular,Enum.EasingDirection.In),{BackgroundColor3=aI.Colors.Secondary})
aI.OutlineColorTween:Play()
aH(0.15,function()
if i~=aI.LastSetStateTime then return end
aI:Paint()
aF(aI.GuiElems.Checkmark,aB(0,20),"Out","Quad",6.666666666666666E-2,true)
end)
else
aI.GuiElems.Outline.BackgroundColor3=aI.Colors.Secondary
aI:Paint()
aI.GuiElems.Checkmark.Size=aB(0,20)
end
aI:Expand(h)
else
aI:Paint()
aI.GuiElems.Checkmark2.Visible=false
aI.GuiElems.Middle.Visible=aI.Toggled==nil
end
end
endnewlocal aI={__index=av}newlocal function new(aJ)
local h=setmetatable({
Toggled=false,
Disabled=false,
OnInput=aq.Signal.new(),
Style=aJ or 0,
Colors={
Background=ax(36,36,36),
Primary=ax(49,176,230),
Secondary=ax(25,25,25),
Disabled=ax(64,64,64),
DisabledBackground=ax(52,52,52),
DisabledCheck=ax(80,80,80)
}
},aI)
initGui(h)
return h
endnewlocal function fromFrame(aJ)
local h=setmetatable({
Toggled=false,
Disabled=false,
Colors={
Background=ax(36,36,36),
Primary=ax(49,176,230),
Secondary=ax(25,25,25),
Disabled=ax(64,64,64),
DisabledBackground=ax(52,52,52)
}
},aI)
initGui(h,aJ)
return h
endnewreturn{new=new,fromFrame}
end)()newaq.BrickColorPicker=(function()
local av={}
local ax=0
local ay=am.Players.LocalPlayer:GetMouse()
local aA=4
local aB=27
local aC=1
local aD=8newlocal aF={
Color3.fromRGB(17,17,17),
Color3.fromRGB(99,95,98),
Color3.fromRGB(163,162,165),
Color3.fromRGB(205,205,205),
Color3.fromRGB(223,223,222),
Color3.fromRGB(237,234,234),
Color3.fromRGB(27,42,53),
Color3.fromRGB(91,93,105),
Color3.fromRGB(159,161,172),
Color3.fromRGB(202,203,209),
Color3.fromRGB(231,231,236),
Color3.fromRGB(248,248,248)
}newlocal function isMouseInHexagon(aG,aH)
local aI=aH.X-aG.AbsolutePosition.X
local aJ=aH.Y-aG.AbsolutePosition.Y
if aI>=aA and aI<aA+aB then
aI=aI-4
local h=(13-math.min(aI,26-aI))/13
if aJ>=aC+aD*h and aJ<aG.AbsoluteSize.Y-aC-aD*h then
return true
end
end
return false
endnewlocal function hexInput(aG,aH,aI)
aH.InputBegan:Connect(function(aJ)
if aJ.UserInputType==Enum.UserInputType.MouseButton1 or aJ.UserInputType==Enum.UserInputType.Touch then
if isMouseInHexagon(aH,aJ.Position)then
aG.OnSelect:Fire(aI)
aG:Close()
end
end
end)newaH.InputChanged:Connect(function(aJ)
if aJ.UserInputType==Enum.UserInputType.MouseMovement or aJ.UserInputType==Enum.UserInputType.Touch then
if isMouseInHexagon(aH,aJ.Position)then
aG.OnPreview:Fire(aI)
end
end
end)
endnewlocal function createGui(aG)
local aH=ao{
{1,"ScreenGui",{Name="BrickColor",}},
{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Parent={1},Position=UDim2.new(0.40000000596046,0,0.40000000596046,0),Size=UDim2.new(0,337,0,380),}},
{3,"TextButton",{BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="MoreColors",Parent={2},Position=UDim2.new(0,5,1,-30),Size=UDim2.new(1,-10,0,25),Text="More Colors",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{4,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1281023007",ImageColor3=Color3.new(0.33333334326744,0.33333334326744,0.49803924560547),Name="Hex",Parent={2},Size=UDim2.new(0,35,0,35),Visible=false,}},
}
local aI=aH.Frame
local aJ=aI.Hexnewfor h=1,13 do
local i=math.min(h,14-h)+6
for j=1,i do
local k=BrickColor.palette(ax).Color
local l=aJ:Clone()
l.Position=UDim2.new(0,(j-1)*25-(i-7)*13+78+1,0,(h-1)*23+4)
l.ImageColor3=k
l.Visible=true
hexInput(aG,l,k)
l.Parent=aI
ax=ax+1
end
endnewfor h=1,12 do
local i=aF[h]
local j=aJ:Clone()
j.Position=UDim2.new(0,(h-1)*25-65+78+3,0,308)
j.ImageColor3=i
j.Visible=true
hexInput(aG,j,i)
j.Parent=aI
ax=ax+1
endnewaI.MoreColors.MouseButton1Click:Connect(function()
aG.OnMoreColors:Fire()
aG:Close()
end)newaG.Gui=aH
endnewav.SetMoreColorsVisible=function(aG,aH)
local aI=aG.Gui.Frame
aI.Size=UDim2.new(0,337,0,380-(not aH and 33 or 0))
aI.MoreColors.Visible=aH
endnewav.Show=function(aG,aH,aI,aJ)
aG.PrevColor=aJ or aG.PrevColornewlocal h=falsenewlocal i,j=aH or ay.X,aI or ay.Y
local k,l=ay.ViewSizeX,ay.ViewSizeY
aq.ShowGui(aG.Gui)
local m,n=aG.Gui.Frame.AbsoluteSize.X,aG.Gui.Frame.AbsoluteSize.Ynewif i+m>k then i=aG.ReverseX and i-m or k-m end
if j+n>l then h=true endnewlocal o=false
if aG.CloseEvent then aG.CloseEvent:Disconnect()endnewaG.CloseEvent=am.UserInputService.InputBegan:Connect(function(p)
if not o or(p.UserInputType~=Enum.UserInputType.MouseButton1 and p.UserInputType~=Enum.UserInputType.Touch)then
return
endnewif not aq.CheckMouseInGui(aG.Gui.Frame)then
aG.CloseEvent:Disconnect()
aG:Close()
end
end)new
if h then
local p=j-n-(aG.ReverseYOffset or 0)
j=p>=0 and p or 0
endnewaG.Gui.Frame.Position=UDim2.new(0,i,0,j)newaq.FastWait()
o=true
endnewav.Close=function(aG)
aG.Gui.Parent=nil
aG.OnCancel:Fire()
endnewlocal aG={__index=av}newlocal function new()
local aH=setmetatable({
OnPreview=aq.Signal.new(),
OnSelect=aq.Signal.new(),
OnCancel=aq.Signal.new(),
OnMoreColors=aq.Signal.new(),
PrevColor=Color3.new(0,0,0)
},aG)
createGui(aH)
return aH
endnewreturn{new=new}
end)()newaq.ColorPicker=(function()new
local function new()
local av=setmetatable({},{})newav.OnSelect=aq.Signal.new()
av.OnCancel=aq.Signal.new()
av.OnPreview=aq.Signal.new()newlocal ax=ao{
{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20),}},
{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="BasicColors",Parent={1},Position=UDim2.new(0,5,0,5),Size=UDim2.new(0,180,0,200),}},
{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={2},Position=UDim2.new(0,0,0,-5),Size=UDim2.new(1,0,0,26),Text="Basic Colors",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{4,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Blue",Parent={1},Position=UDim2.new(1,-63,0,255),Size=UDim2.new(0,52,0,16),}},
{5,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={4},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{6,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={5},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0),}},
{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={6},Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{8,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={7},Size=UDim2.new(0,16,0,8),}},
{9,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1),}},
{10,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{11,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1),}},
{12,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={6},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{13,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={12},Size=UDim2.new(0,16,0,8),}},
{14,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1),}},
{15,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{16,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1),}},
{17,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={4},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Blue:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{18,"Frame",{BackgroundColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,ClipsDescendants=true,Name="ColorSpaceFrame",Parent={1},Position=UDim2.new(1,-261,0,4),Size=UDim2.new(0,222,0,202),}},
{19,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),BorderSizePixel=0,Image="rbxassetid://1072518406",Name="ColorSpace",Parent={18},Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,220,0,200),}},
{20,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Scope",Parent={19},Position=UDim2.new(0,210,0,190),Size=UDim2.new(0,20,0,20),}},
{21,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Name="Line",Parent={20},Position=UDim2.new(0,9,0,0),Size=UDim2.new(0,2,0,20),}},
{22,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Name="Line",Parent={20},Position=UDim2.new(0,0,0,9),Size=UDim2.new(0,20,0,2),}},
{23,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="CustomColors",Parent={1},Position=UDim2.new(0,5,0,210),Size=UDim2.new(0,180,0,90),}},
{24,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={23},Size=UDim2.new(1,0,0,20),Text="Custom Colors (RC = Set)",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{25,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Green",Parent={1},Position=UDim2.new(1,-63,0,233),Size=UDim2.new(0,52,0,16),}},
{26,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={25},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{27,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={26},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0),}},
{28,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={27},Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{29,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={28},Size=UDim2.new(0,16,0,8),}},
{30,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1),}},
{31,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{32,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1),}},
{33,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={27},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{34,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={33},Size=UDim2.new(0,16,0,8),}},
{35,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1),}},
{36,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{37,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1),}},
{38,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={25},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Green:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{39,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Hue",Parent={1},Position=UDim2.new(1,-180,0,211),Size=UDim2.new(0,52,0,16),}},
{40,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={39},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{41,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={40},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0),}},
{42,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={41},Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{43,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={42},Size=UDim2.new(0,16,0,8),}},
{44,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1),}},
{45,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{46,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1),}},
{47,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={41},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{48,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={47},Size=UDim2.new(0,16,0,8),}},
{49,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1),}},
{50,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{51,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1),}},
{52,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={39},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Hue:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{53,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="Preview",Parent={1},Position=UDim2.new(1,-260,0,211),Size=UDim2.new(0,35,1,-245),}},
{54,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Red",Parent={1},Position=UDim2.new(1,-63,0,211),Size=UDim2.new(0,52,0,16),}},
{55,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={54},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{56,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={55},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0),}},
{57,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={56},Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{58,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={57},Size=UDim2.new(0,16,0,8),}},
{59,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1),}},
{60,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{61,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1),}},
{62,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={56},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{63,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={62},Size=UDim2.new(0,16,0,8),}},
{64,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1),}},
{65,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{66,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1),}},
{67,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={54},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Red:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{68,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Sat",Parent={1},Position=UDim2.new(1,-180,0,233),Size=UDim2.new(0,52,0,16),}},
{69,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={68},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{70,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={69},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0),}},
{71,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={70},Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{72,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={71},Size=UDim2.new(0,16,0,8),}},
{73,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1),}},
{74,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{75,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1),}},
{76,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={70},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{77,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={76},Size=UDim2.new(0,16,0,8),}},
{78,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1),}},
{79,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{80,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1),}},
{81,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={68},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Sat:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{82,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Val",Parent={1},Position=UDim2.new(1,-180,0,255),Size=UDim2.new(0,52,0,16),}},
{83,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={82},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="255",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{84,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={83},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0),}},
{85,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={84},Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{86,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={85},Size=UDim2.new(0,16,0,8),}},
{87,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1),}},
{88,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{89,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1),}},
{90,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={84},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14,}},
{91,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={90},Size=UDim2.new(0,16,0,8),}},
{92,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1),}},
{93,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1),}},
{94,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1),}},
{95,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={82},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Val:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{96,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Cancel",Parent={1},Position=UDim2.new(1,-105,1,-28),Size=UDim2.new(0,100,0,25),Text="Cancel",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{97,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Ok",Parent={1},Position=UDim2.new(1,-210,1,-28),Size=UDim2.new(0,100,0,25),Text="OK",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{98,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Image="rbxassetid://1072518502",Name="ColorStrip",Parent={1},Position=UDim2.new(1,-30,0,5),Size=UDim2.new(0,13,0,200),}},
{99,"Frame",{BackgroundColor3=Color3.new(0.3137255012989,0.3137255012989,0.3137255012989),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={1},Position=UDim2.new(1,-16,0,1),Size=UDim2.new(0,5,0,208),}},
{100,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={99},Position=UDim2.new(0,-2,0,-4),Size=UDim2.new(0,8,0,16),}},
{101,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,2,0,8),Size=UDim2.new(0,1,0,1),}},
{102,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,3,0,7),Size=UDim2.new(0,1,0,3),}},
{103,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,4,0,6),Size=UDim2.new(0,1,0,5),}},
{104,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,5,0,5),Size=UDim2.new(0,1,0,7),}},
{105,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,6,0,4),Size=UDim2.new(0,1,0,9),}},
}
local ay=aq.Window.new()
ay.Resizable=false
ay.Alignable=false
ay:SetTitle"Color Picker"
ay:Resize(450,330)
for aA,aB in pairs(ax:GetChildren())do
aB.Parent=ay.GuiElems.Content
end
av.Window=ay
av.Gui=ay.Gui
local aA=ay.Gui.Main
local aB=aA.TopBar
local aC=aA.Content
local aD=aC.ColorSpaceFrame.ColorSpace
local aF=aC.ColorStrip
local aG=aC.Preview
local aH=aC.BasicColors
local aI=aC.CustomColors
local aJ=aC.Ok
local h=aC.Cancel local i=
aB.Closenewlocal j=aD.Scope
local k=aC.ArrowFrame.Arrownewlocal l=aC.Hue.Input
local m=aC.Sat.Input
local n=aC.Val.Inputnewlocal o=aC.Red.Input
local p=aC.Green.Input
local q=aC.Blue.Inputnewlocal r=am.UserInputService
local s=am.Players.LocalPlayer:GetMouse()newlocal t,u,v=0,0,1
local w,x,y=1,1,1
local z=Color3.new(0,0,0)newlocal A={Color3.new(0,0,0),Color3.new(0.66666668653488,0,0),Color3.new(0,0.33333334326744,0),Color3.new(0.66666668653488,0.33333334326744,0),Color3.new(0,0.66666668653488,0),Color3.new(0.66666668653488,0.66666668653488,0),Color3.new(0,1,0),Color3.new(0.66666668653488,1,0),Color3.new(0,0,0.49803924560547),Color3.new(0.66666668653488,0,0.49803924560547),Color3.new(0,0.33333334326744,0.49803924560547),Color3.new(0.66666668653488,0.33333334326744,0.49803924560547),Color3.new(0,0.66666668653488,0.49803924560547),Color3.new(0.66666668653488,0.66666668653488,0.49803924560547),Color3.new(0,1,0.49803924560547),Color3.new(0.66666668653488,1,0.49803924560547),Color3.new(0,0,1),Color3.new(0.66666668653488,0,1),Color3.new(0,0.33333334326744,1),Color3.new(0.66666668653488,0.33333334326744,1),Color3.new(0,0.66666668653488,1),Color3.new(0.66666668653488,0.66666668653488,1),Color3.new(0,1,1),Color3.new(0.66666668653488,1,1),Color3.new(0.33333334326744,0,0),Color3.new(1,0,0),Color3.new(0.33333334326744,0.33333334326744,0),Color3.new(1,0.33333334326744,0),Color3.new(0.33333334326744,0.66666668653488,0),Color3.new(1,0.66666668653488,0),Color3.new(0.33333334326744,1,0),Color3.new(1,1,0),Color3.new(0.33333334326744,0,0.49803924560547),Color3.new(1,0,0.49803924560547),Color3.new(0.33333334326744,0.33333334326744,0.49803924560547),Color3.new(1,0.33333334326744,0.49803924560547),Color3.new(0.33333334326744,0.66666668653488,0.49803924560547),Color3.new(1,0.66666668653488,0.49803924560547),Color3.new(0.33333334326744,1,0.49803924560547),Color3.new(1,1,0.49803924560547),Color3.new(0.33333334326744,0,1),Color3.new(1,0,1),Color3.new(0.33333334326744,0.33333334326744,1),Color3.new(1,0.33333334326744,1),Color3.new(0.33333334326744,0.66666668653488,1),Color3.new(1,0.66666668653488,1),Color3.new(0.33333334326744,1,1),Color3.new(1,1,1)}
local B={}newlocal function updateColor(C)
local D,E,F=219-t*219,199-u*199,199-v*199
Color3.fromHSV(t,u,v)newif C==2 or not C then
l.Text=tostring(math.ceil(359*t))
m.Text=tostring(math.ceil(255*u))
n.Text=tostring(math.floor(255*v))
end
if C==1 or not C then
o.Text=tostring(math.floor(255*w))
p.Text=tostring(math.floor(255*x))
q.Text=tostring(math.floor(255*y))
endnewz=Color3.new(w,x,y)
j.Position=UDim2.new(0,(D-9),0,(E-9))
aF.ImageColor3=Color3.fromHSV(t,u,1)
k.Position=UDim2.new(0,-2,0,(F-4))
aG.BackgroundColor3=znewav.Color=z
av.OnPreview:Fire(z)
endnewlocal function handleInputBegan(C,D)
if C.UserInputType==Enum.UserInputType.MouseButton1 or C.UserInputType==Enum.UserInputType.Touch then
while r:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do
D()task.wait()
end
end
endnewlocal function colorSpaceInput()
local C=s.X-aD.AbsolutePosition.X
local D=s.Y-aD.AbsolutePosition.Ynewif C<0 then C=0 elseif C>219 then C=219 end
if D<0 then D=0 elseif D>199 then D=199 endnewt=(219-C)/219
u=(199-D)/199newlocal E=Color3.fromHSV(t,u,v)
w,x,y=E.R,E.G,E.B
updateColor()
endnewlocal function colorStripInput()
local C=s.Y-aF.AbsolutePosition.Ynewif C<0 then C=0 elseif C>199 then C=199 endnewv=(199-C)/199newlocal D=Color3.fromHSV(t,u,v)
w,x,y=D.R,D.G,D.B
updateColor()
endnewaD.InputBegan:Connect(function(C)handleInputBegan(C,colorSpaceInput)end)
aF.InputBegan:Connect(function(C)handleInputBegan(C,colorStripInput)end)newlocal function hookButtons(C,D)
C.ArrowFrame.Up.InputBegan:Connect(function(E)
if E.UserInputType==Enum.UserInputType.MouseButton1 or E.UserInputType==Enum.UserInputType.Touch thennewlocal F=tick()
local G=true
local H=tonumber(C.Text)newif not H then return endnewreleaseEvent=r.InputEnded:Connect(function(I)
if I.UserInputType==Enum.UserInputType.MouseButton1 or I.UserInputType==Enum.UserInputType.Touch then
releaseEvent:Disconnect()
G=false
end
end)newH=H+1
D(H)
while G do
if tick()-F>0.3 then
H=H+1
D(H)
F=tick()
end
task.wait(0.1)
end
end
end)newC.ArrowFrame.Down.InputBegan:Connect(function(E)
if E.UserInputType==Enum.UserInputType.MouseButton1 or E.UserInputType==Enum.UserInputType.Touch thennewlocal F=tick()
local G=true
local H=tonumber(C.Text)newif not H then return endnewreleaseEvent=r.InputEnded:Connect(function(I)
if I.UserInputType==Enum.UserInputType.MouseButton1 or I.UserInputType==Enum.UserInputType.Touch then
releaseEvent:Disconnect()
G=false
end
end)newH=H-1
D(H)
while G do
if tick()-F>0.3 then
H=H-1
D(H)
F=tick()
end
task.wait(0.1)
end
end
end)
endnewnewnewnewnewnewnewlocal function updateHue(C)
local D=tonumber(C)
if D then
t=math.clamp(math.floor(D),0,359)/359
local E=Color3.fromHSV(t,u,v)
w,x,y=E.r,E.g,E.bnewl.Text=tostring(t*359)
updateColor(1)
end
end
l.FocusLost:Connect(function()updateHue(l.Text)end)hookButtons(l,l)newlocal function updateSat(C)
local D=tonumber(C)
if D then
u=math.clamp(math.floor(D),0,255)/255
local E=Color3.fromHSV(t,u,v)
w,x,y=E.r,E.g,E.b
m.Text=tostring(u*255)
updateColor(1)
end
end
m.FocusLost:Connect(function()updateSat(m.Text)end)hookButtons(m,updateSat)newlocal function updateVal(C)
local D=tonumber(C)
if D then
v=math.clamp(math.floor(D),0,255)/255
local E=Color3.fromHSV(t,u,v)
w,x,y=E.r,E.g,E.b
n.Text=tostring(v*255)
updateColor(1)
end
end
n.FocusLost:Connect(function()updateVal(n.Text)end)hookButtons(n,updateVal)newlocal function updateRed(C)
local D=tonumber(C)
if D then
w=math.clamp(math.floor(D),0,255)/255
local E=Color3.new(w,x,y)
t,u,v=Color3.toHSV(E)
o.Text=tostring(w*255)
updateColor(2)
end
end
o.FocusLost:Connect(function()updateRed(o.Text)end)hookButtons(o,updateRed)newlocal function updateGreen(C)
local D=tonumber(C)
if D then
x=math.clamp(math.floor(D),0,255)/255
local E=Color3.new(w,x,y)
t,u,v=Color3.toHSV(E)
p.Text=tostring(x*255)
updateColor(2)
end
end
p.FocusLost:Connect(function()updateGreen(p.Text)end)hookButtons(p,updateGreen)newlocal function updateBlue(C)
local D=tonumber(C)
if D then
y=math.clamp(math.floor(D),0,255)/255
local E=Color3.new(w,x,y)
t,u,v=Color3.toHSV(E)
q.Text=tostring(y*255)
updateColor(2)
end
end
q.FocusLost:Connect(function()updateBlue(q.Text)end)hookButtons(q,updateBlue)newlocal C=new"TextButton"
C.Name="Choice"
C.Size=UDim2.new(0,25,0,18)
C.BorderColor3=Color3.fromRGB(55,55,55)
C.Text=""
C.AutoButtonColor=falsenewlocal D=0
local E=0
for F,G in pairs(A)do
local H=C:Clone()
H.BackgroundColor3=G
H.Position=UDim2.new(0,1+30*E,0,21+23*D)newH.MouseButton1Click:Connect(function()
w,x,y=G.r,G.g,G.b
local I=Color3.new(w,x,y)
t,u,v=Color3.toHSV(I)
updateColor()
end)newH.Parent=aH
E=E+1
if E==6 then D=D+1 E=0 end
endnewD=0
E=0
for F=1,12 do
local G=B[F]or Color3.new(0,0,0)
local H=C:Clone()
H.BackgroundColor3=G
H.Position=UDim2.new(0,1+30*E,0,20+23*D)newH.MouseButton1Click:Connect(function()
local I=B[F]or Color3.new(0,0,0)
w,x,y=I.r,I.g,I.b
t,u,v=Color3.toHSV(I)
updateColor()
end)newH.MouseButton2Click:Connect(function()
B[F]=z
H.BackgroundColor3=z
end)newH.Parent=aI
E=E+1
if E==6 then D=D+1 E=0 end
endnewaJ.MouseButton1Click:Connect(function()av.OnSelect:Fire(z)ay:Close()end)
aJ.InputBegan:Connect(function(F)if F.UserInputType==Enum.UserInputType.MouseMovement or F.UserInputType==Enum.UserInputType.Touch then aJ.BackgroundTransparency=0.4 end end)
aJ.InputEnded:Connect(function(F)if F.UserInputType==Enum.UserInputType.MouseMovement or F.UserInputType==Enum.UserInputType.Touch then aJ.BackgroundTransparency=0 end end)new
h.MouseButton1Click:Connect(function()av.OnCancel:Fire()ay:Close()end)
h.InputBegan:Connect(function(F)if F.UserInputType==Enum.UserInputType.MouseMovement or F.UserInputType==Enum.UserInputType.Touch then h.BackgroundTransparency=0.4 end end)
h.InputEnded:Connect(function(F)if F.UserInputType==Enum.UserInputType.MouseMovement or F.UserInputType==Enum.UserInputType.Touch then h.BackgroundTransparency=0 end end)newupdateColor()newav.SetColor=function(F,G)
w,x,y=G.r,G.g,G.b
t,u,v=Color3.toHSV(G)
updateColor()
endnewav.Show=function(F)
F.Window:Show()
endnewreturn av
endnewreturn{new=new}
end)()newaq.NumberSequenceEditor=(function()
local function new()
local av=setmetatable({},{})
av.OnSelect=aq.Signal.new()
av.OnCancel=aq.Signal.new()
av.OnPreview=aq.Signal.new()newlocal ax=ao{
{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20),}},
{2,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Time",Parent={1},Position=UDim2.new(0,40,0,210),Size=UDim2.new(0,60,0,20),}},
{3,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={2},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{4,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={2},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Time",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{5,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Close",Parent={1},Position=UDim2.new(1,-90,0,210),Size=UDim2.new(0,80,0,20),Text="Close",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{6,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Reset",Parent={1},Position=UDim2.new(1,-180,0,210),Size=UDim2.new(0,80,0,20),Text="Reset",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Delete",Parent={1},Position=UDim2.new(0,380,0,210),Size=UDim2.new(0,80,0,20),Text="Delete",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{8,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="NumberLineOutlines",Parent={1},Position=UDim2.new(0,10,0,20),Size=UDim2.new(1,-20,0,170),}},
{9,"Frame",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Name="NumberLine",Parent={1},Position=UDim2.new(0,10,0,20),Size=UDim2.new(1,-20,0,170),}},
{10,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Value",Parent={1},Position=UDim2.new(0,170,0,210),Size=UDim2.new(0,60,0,20),}},
{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={10},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Value",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{12,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={10},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{13,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Envelope",Parent={1},Position=UDim2.new(0,300,0,210),Size=UDim2.new(0,60,0,20),}},
{14,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={13},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{15,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={13},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Envelope",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
}
local ay=aq.Window.new()
ay.Resizable=false
ay:Resize(680,265)
ay:SetTitle"NumberSequence Editor"
av.Window=ay
av.Gui=ay.Gui
for aA,aB in pairs(ax:GetChildren())do
aB.Parent=ay.GuiElems.Content
end
local aA=ay.Gui
local aB=aA.Main
local aC=aB.TopBar
local aD=aB.Content
local aF=aD.NumberLine
local aG=aD.NumberLineOutlines
local aH=aD.Time.Input
local aI=aD.Value.Input
local aJ=aD.Envelope.Input
local h=aD.Delete
local i=aD.Reset
local j=aD.Close local k=
aC.Closenewlocal l={{1,0,3},{8,0.05,1},{5,0.6,2},{4,0.7,4},{6,1,4}}
local m={}
local n={}
local o=l[1]
local p=l[#l]
local q
local r
local snewlocal t=am.UserInputService
local u=am.Players.LocalPlayer:GetMouse()newfor v=2,10 do
local w=new"Frame"
w.BackgroundTransparency=0.5
w.BackgroundColor3=Color3.new(0.3764705882352941,0.3764705882352941,0.3764705882352941)
w.BorderSizePixel=0
w.Size=UDim2.new(0,1,1,0)
w.Position=UDim2.new((v-1)/(10),0,0,0)
w.Parent=aG
endnewfor v=2,4 do
local w=new"Frame"
w.BackgroundTransparency=0.5
w.BackgroundColor3=Color3.new(0.3764705882352941,0.3764705882352941,0.3764705882352941)
w.BorderSizePixel=0
w.Size=UDim2.new(1,0,0,1)
w.Position=UDim2.new(0,0,(v-1)/(4),0)
w.Parent=aG
endnewlocal v=new"Frame"
v.BackgroundColor3=Color3.new(0,0,0)
v.BorderSizePixel=0
v.Size=UDim2.new(0,1,0,1)newlocal w=new"Frame"
w.BackgroundColor3=Color3.new(0,0,0)
w.BorderSizePixel=0
w.Size=UDim2.new(0,1,0,0)newfor x=1,aF.AbsoluteSize.X do
local y=w:Clone()
n[x]=y
y.Name="E"..tostring(x)
y.BackgroundTransparency=0.5
y.BackgroundColor3=Color3.new(0.7803921568627451,0.17254901960784313,0.10980392156862745)
y.Position=UDim2.new(0,x-1,0,0)
y.Parent=aF
endnewfor x=1,aF.AbsoluteSize.X do
local y=w:Clone()
m[x]=y
y.Name=tostring(x)
y.Position=UDim2.new(0,x-1,0,0)
y.Parent=aF
endnewlocal x=new"Frame"
x.BackgroundTransparency=1
x.BackgroundColor3=Color3.new(0,0,0)
x.BorderSizePixel=0
x.Size=UDim2.new(0,7,0,20)
x.Visible=false
x.ZIndex=2
local y=new("Frame",x)
y.Name="Line"
y.BackgroundColor3=Color3.new(0,0,0)
y.BorderSizePixel=0
y.Position=UDim2.new(0,3,0,0)
y.Size=UDim2.new(0,1,0,20)
y.ZIndex=2newlocal z,A=x:Clone(),x:Clone()
z.Parent=aF
A.Parent=aFnewlocal function buildSequence()
local B={}
for C,D in pairs(l)do
table.insert(B,NumberSequenceKeypoint.new(D[2],D[1],D[3]))
end
av.Sequence=NumberSequence.new(B)
av.OnSelect:Fire(av.Sequence)
endnewlocal function round(B,C)
local D=10^C
return math.floor(B*D+0.5)/D
endnewlocal function updateInputs(B)
if B then
r=B
local C,D,E=B[2],B[1],B[3]
aH.Text=round(C,(C<0.01 and 5)or(C<0.1 and 4)or 3)
aI.Text=round(D,(D<0.01 and 5)or(D<0.1 and 4)or(D<1 and 3)or 2)
aJ.Text=round(E,(E<0.01 and 5)or(E<0.1 and 4)or(D<1 and 3)or 2)newlocal F=aF.AbsoluteSize.Y*(B[3]/10)
z.Position=UDim2.new(0,B[4].Position.X.Offset-1,0,B[4].Position.Y.Offset-F-17)
z.Visible=true
A.Position=UDim2.new(0,B[4].Position.X.Offset-1,0,B[4].Position.Y.Offset+F+2)
A.Visible=true
end
endnewz.InputBegan:Connect(function(B)
if(B.UserInputType~=Enum.UserInputType.MouseButton1 and B.UserInputType~=Enum.UserInputType.Touch)or not r or aq.CheckMouseInGui(r[4].Select)then return endnewlocal C,D
local E=aF.AbsoluteSize.Y
local F=math.abs(z.AbsolutePosition.Y-u.Y)newz.Line.Position=UDim2.new(0,2,0,0)
z.Line.Size=UDim2.new(0,3,0,20)newD=t.InputEnded:Connect(function(G)
if G.UserInputType~=Enum.UserInputType.MouseButton1 and G.UserInputType~=Enum.UserInputType.Touch then return end
C:Disconnect()
D:Disconnect()
z.Line.Position=UDim2.new(0,3,0,0)
z.Line.Size=UDim2.new(0,1,0,20)
end)newC=t.InputChanged:Connect(function(G)
if G.UserInputType==Enum.UserInputType.MouseMovement or G.UserInputType==Enum.UserInputType.Touch then
local H=(r[4].AbsolutePosition.Y+2)-(u.Y-F)-19
local I=10*(math.max(H,0)/E)
local J=math.min(r[1],10-r[1])
r[3]=math.min(I,J)
av:Redraw()
buildSequence()
updateInputs(r)
end
end)
end)newA.InputBegan:Connect(function(B)
if(B.UserInputType~=Enum.UserInputType.MouseButton1 and B.UserInputType~=Enum.UserInputType.Touch)or not r or aq.CheckMouseInGui(r[4].Select)then return endnewlocal C,D
local E=aF.AbsoluteSize.Y
local F=math.abs(A.AbsolutePosition.Y-u.Y)newA.Line.Position=UDim2.new(0,2,0,0)
A.Line.Size=UDim2.new(0,3,0,20)newD=t.InputEnded:Connect(function(G)
if G.UserInputType~=Enum.UserInputType.MouseButton1 and G.UserInputType~=Enum.UserInputType.Touch then return end
C:Disconnect()
D:Disconnect()
A.Line.Position=UDim2.new(0,3,0,0)
A.Line.Size=UDim2.new(0,1,0,20)
end)newC=t.InputChanged:Connect(function(G)
if G.UserInputType==Enum.UserInputType.MouseMovement or G.UserInputType==Enum.UserInputType.Touch then
local H=(u.Y+(20-F))-(r[4].AbsolutePosition.Y+2)-19
local I=10*(math.max(H,0)/E)
local J=math.min(r[1],10-r[1])
r[3]=math.min(I,J)
av:Redraw()
buildSequence()
updateInputs(r)
end
end)
end)newlocal function placePoint(B)
local C=new"Frame"
C.Name="Point"
C.BorderSizePixel=0
C.Size=UDim2.new(0,5,0,5)
C.Position=UDim2.new(0,math.floor((aF.AbsoluteSize.X-1)*B[2])-2,0,aF.AbsoluteSize.Y*(10-B[1])/10-2)
C.BackgroundColor3=Color3.new(0,0,0)newlocal D=new"Frame"
D.Name="Select"
D.BackgroundTransparency=1
D.BackgroundColor3=Color3.new(0.7803921568627451,0.17254901960784313,0.10980392156862745)
D.Position=UDim2.new(0,-2,0,-2)
D.Size=UDim2.new(0,9,0,9)
D.Parent=CnewC.Parent=aFnew
D.InputBegan:Connect(function(E)
if E.UserInputType==Enum.UserInputType.MouseMovement or E.UserInputType==Enum.UserInputType.Touch then
for F,G in pairs(l)do
G[4].Select.BackgroundTransparency=1
endnewD.BackgroundTransparency=0
updateInputs(B)
endnewif(E.UserInputType==Enum.UserInputType.MouseButton1 or E.UserInputType==Enum.UserInputType.Touch)and not q then
r=B
local F,G
q=true
D.BackgroundColor3=Color3.new(0.9764705882352941,0.7490196078431373,0.23137254901960785)newlocal H=B[3]newG=t.InputEnded:Connect(function(I)
if I.UserInputType~=Enum.UserInputType.MouseButton1 and I.UserInputType~=Enum.UserInputType.Touch then return endnewF:Disconnect()
G:Disconnect()
q=nil
D.BackgroundColor3=Color3.new(0.7803921568627451,0.17254901960784313,0.10980392156862745)
end)newF=t.InputChanged:Connect(function(I)
if I.UserInputType==Enum.UserInputType.MouseMovement or I.UserInputType==Enum.UserInputType.Touch then
local J=aF.AbsoluteSize.X-1
local K=(I.Position.X-aF.AbsolutePosition.X)
if K<0 then K=0 end
if K>J then K=J endnewlocal L=aF.AbsoluteSize.Y-1
local M=(I.Position.Y-aF.AbsolutePosition.Y)
if M<0 then M=0 end
if M>L then M=L endnewif B~=o and B~=p then
B[2]=K/J
endnewB[1]=10-(M/L)*10
local N=math.min(B[1],10-B[1])
B[3]=math.min(H,N)
av:Redraw()
updateInputs(B)newfor O,P in pairs(l)do
P[4].Select.BackgroundTransparency=1
endnewD.BackgroundTransparency=0
buildSequence()
end
end)
end
end)newreturn C
endnewlocal function placePoints()
for B,C in pairs(l)do
C[4]=placePoint(C)
end
endnewlocal function redraw(B)
local C=aF.AbsoluteSize
table.sort(l,function(D,E)return D[2]<E[2]end)
for D,E in pairs(l)do
E[4].Position=UDim2.new(0,math.floor((C.X-1)*E[2])-2,0,(C.Y-1)*(10-E[1])/10-2)
end
m[1].Size=UDim2.new(0,1,0,0)
for D=1,#l-1 do
local E=l[D]
local F=l[D+1]
local G=F[4].Position.Y.Offset-E[4].Position.Y.Offset
local H=F[4].Position.X.Offset-E[4].Position.X.Offset
local I=G/Hnewlocal J=E[3]
local K=F[3]newlocal L=math.abs(I)
local M=0
local N=math.abs(F[4].Position.Y.Offset-E[4].Position.Y.Offset)newfor O=math.min(E[4].Position.X.Offset+1,F[4].Position.X.Offset),F[4].Position.X.Offset do
if H==0 and G==0 then return end
local P=math.floor(L)
local Q=m[O+3]
if Q then
if M+P>N then P=N-M end
if math.sign(I)==-1 then
Q.Position=UDim2.new(0,O+2,0,E[4].Position.Y.Offset+-(M+P)+2)
else
Q.Position=UDim2.new(0,O+2,0,E[4].Position.Y.Offset+M+2)
end
Q.Size=UDim2.new(0,1,0,math.max(P,1))
end
M=M+P
L=L-P+math.abs(I)newlocal R=(O-E[4].Position.X.Offset)/(F[4].Position.X.Offset-E[4].Position.X.Offset)
local S=J+(K-J)*R
local T=(S/10)*C.Ynewlocal U=n[O+3]
if U then
U.Position=UDim2.new(0,O+2,0,m[O+3].Position.Y.Offset-math.floor(T))
U.Size=UDim2.new(0,1,0,math.floor(T*2))
end
end
end
end
av.Redraw=redrawnewnewlocal function loadSequence(B,C)
s=C
for D,E in pairs(l)do if E[4]then E[4]:Destroy()end end
l={}
for D,E in pairs(C.Keypoints)do
local F=math.min(E.Value,10-E.Value)
local G={E.Value,E.Time,math.min(E.Envelope,F)}
G[4]=placePoint(G)
table.insert(l,G)
end
o=l[1]
p=l[#l]
q=nil
redraw()
z.Visible=false
A.Visible=false
end
av.SetSequence=loadSequencenewaH.FocusLost:Connect(function()
local B=r
local C=tonumber(aH.Text)
if B and C and B~=o and B~=p then
C=math.clamp(C,0,1)
B[2]=C
redraw()
buildSequence()
updateInputs(B)
end
end)newaI.FocusLost:Connect(function()
local B=r
local C=tonumber(aI.Text)
if B and C then
local D=B[3]
C=math.clamp(C,0,10)
B[1]=C
local E=math.min(B[1],10-B[1])
B[3]=math.min(D,E)
redraw()
buildSequence()
updateInputs(B)
end
end)newaJ.FocusLost:Connect(function()
local B=r
local C=tonumber(aJ.Text)
if B and C then
C=math.clamp(C,0,5)
local D=math.min(B[1],10-B[1])
B[3]=math.min(C,D)
redraw()
buildSequence()
updateInputs(B)
end
end)newlocal function buttonAnimations(B,C)
B.InputBegan:Connect(function(D)if D.UserInputType==Enum.UserInputType.MouseMovement or D.UserInputType==Enum.UserInputType.Touch then B.BackgroundTransparency=(C and 0.5 or 0.4)end end)
B.InputEnded:Connect(function(D)if D.UserInputType==Enum.UserInputType.MouseMovement or D.UserInputType==Enum.UserInputType.Touch then B.BackgroundTransparency=(C and 1 or 0)end end)
endnewaF.InputBegan:Connect(function(B)
if(B.UserInputType==Enum.UserInputType.MouseButton1 or B.UserInputType==Enum.UserInputType.Touch)and#l<20 thennewif aq.CheckMouseInGui(z)or aq.CheckMouseInGui(A)then return endnewfor C,D in pairs(l)do
if aq.CheckMouseInGui(D[4].Select)then
return
end
endnewlocal C=aF.AbsoluteSize.X-1
local D=(B.Position.X-aF.AbsolutePosition.X)
if D<0 then D=0 end
if D>C then D=C endnewlocal E=aF.AbsoluteSize.Y-1
local F=(B.Position.Y-aF.AbsolutePosition.Y)
if F<0 then F=0 end
if F>E then F=E endnewlocal G=D/C
local H={10-(F/E)*10,G,0}
H[4]=placePoint(H)
table.insert(l,H)
redraw()
buildSequence()
end
end)newh.MouseButton1Click:Connect(function()
if r and r~=o and r~=p then
for B,C in pairs(l)do
if C==r then
C[4]:Destroy()
table.remove(l,B)
break
end
end
q=nil
redraw()
buildSequence()
updateInputs(l[1])
end
end)newi.MouseButton1Click:Connect(function()
if s then
av:SetSequence(s)
buildSequence()
end
end)newj.MouseButton1Click:Connect(function()
ay:Close()
end)newbuttonAnimations(h)
buttonAnimations(i)
buttonAnimations(j)newplacePoints()
redraw()newav.Show=function(B)
ay:Show()
endnewreturn av
endnewreturn{new=new}
end)()newaq.ColorSequenceEditor=(function()
local function new()
local av=setmetatable({},{})
av.OnSelect=aq.Signal.new()
av.OnCancel=aq.Signal.new()
av.OnPreview=aq.Signal.new()
av.OnPickColor=aq.Signal.new()newlocal ax=ao{
{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20),}},
{2,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="ColorLine",Parent={1},Position=UDim2.new(0,10,0,5),Size=UDim2.new(1,-20,0,70),}},
{3,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Gradient",Parent={2},Size=UDim2.new(1,0,1,0),}},
{4,"UIGradient",{Parent={3},}},
{5,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Arrows",Parent={1},Position=UDim2.new(0,1,0,73),Size=UDim2.new(1,-2,0,16),}},
{6,"Frame",{BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=0.5,BorderSizePixel=0,Name="Cursor",Parent={1},Position=UDim2.new(0,10,0,0),Size=UDim2.new(0,1,0,80),}},
{7,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Time",Parent={1},Position=UDim2.new(0,40,0,95),Size=UDim2.new(0,100,0,20),}},
{8,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={7},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,98,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0,}},
{9,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={7},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Time",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{10,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="ColorBox",Parent={1},Position=UDim2.new(0,220,0,95),Size=UDim2.new(0,20,0,20),}},
{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={10},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Color",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1,}},
{12,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Close",Parent={1},Position=UDim2.new(1,-90,0,95),Size=UDim2.new(0,80,0,20),Text="Close",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{13,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Reset",Parent={1},Position=UDim2.new(1,-180,0,95),Size=UDim2.new(0,80,0,20),Text="Reset",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{14,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Delete",Parent={1},Position=UDim2.new(0,280,0,95),Size=UDim2.new(0,80,0,20),Text="Delete",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,}},
{15,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={1},Size=UDim2.new(0,16,0,16),Visible=false,}},
{16,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,2),}},
{17,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,7,0,5),Size=UDim2.new(0,3,0,2),}},
{18,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,2),}},
{19,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,5,0,9),Size=UDim2.new(0,7,0,2),}},
{20,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,4,0,11),Size=UDim2.new(0,9,0,2),}},
}
local ay=aq.Window.new()
ay.Resizable=false
ay:Resize(650,150)
ay:SetTitle"ColorSequence Editor"
av.Window=ay
av.Gui=ay.Gui
for aA,aB in pairs(ax:GetChildren())do
aB.Parent=ay.GuiElems.Content
end
local aA=ay.Gui
local aB=aA.Main
local aC=aB.TopBar
local aD=aB.Content
local aF=aD.ColorLine
local aG=aF.Gradient.UIGradient
local aH=aD.Arrows
local aI=aD.Arrow
local aJ=aD.Cursor
local h=aD.Time.Input
local i=aD.ColorBox
local j=aD.Delete
local k=aD.Reset
local l=aD.Close
local m=aC.Closenewlocal n=am.UserInputService
am.Players.LocalPlayer:GetMouse()newlocal o={{Color3.new(1,0,1),0},{Color3.new(0.2,0.9,0.2),0.2},{Color3.new(0.4,0.5,0.9),0.7},{Color3.new(0.6,1,1),1}}
local pnewlocal q=o[1]
local r=o[#o]newlocal s
local tnewlocal u=new"Frame"
u.BorderSizePixel=0
u.Size=UDim2.new(0,1,1,0)newav.Sequence=ColorSequence.new(Color3.new(1,1,1))
local function buildSequence(v)
local w={}
table.sort(o,function(x,y)return x[2]<y[2]end)
for x,y in pairs(o)do
table.insert(w,ColorSequenceKeypoint.new(y[2],y[1]))
end
av.Sequence=ColorSequence.new(w)
if not v then av.OnSelect:Fire(av.Sequence)end
endnewlocal function round(v,w)
local x=10^w
return math.floor(v*x+0.5)/x
endnewlocal function updateInputs(v)
if v then
t=v
local w=v[2]
h.Text=round(w,(w<0.01 and 5)or(w<0.1 and 4)or 3)
i.BackgroundColor3=v[1]
end
endnewlocal function placeArrow(v,w)
local x=aI:Clone()
x.Position=UDim2.new(0,v-1,0,0)
x.Visible=true
x.Parent=aHnewx.InputBegan:Connect(function(y)
if y.UserInputType==Enum.UserInputType.MouseMovement or y.UserInputType==Enum.UserInputType.Touch then
aJ.Visible=true
aJ.Position=UDim2.new(0,9+x.Position.X.Offset,0,0)
endnewif y.UserInputType==Enum.UserInputType.MouseButton1 or y.UserInputType==Enum.UserInputType.Touch then
updateInputs(w)
if w==q or w==r or s then return endnewlocal z,A
s=truenewA=n.InputEnded:Connect(function(B)
if B.UserInputType~=Enum.UserInputType.MouseButton1 and B.UserInputType~=Enum.UserInputType.Touch then return end
z:Disconnect()
A:Disconnect()
s=nil
aJ.Visible=false
end)newz=n.InputChanged:Connect(function(B)
if B.UserInputType==Enum.UserInputType.MouseMovement or B.UserInputType==Enum.UserInputType.Touch then
local C=aF.AbsoluteSize.X-1
local D=(B.Position.X-aF.AbsolutePosition.X)
if D<0 then D=0 end
if D>C then D=C end local E=
D/C
w[2]=D/C
updateInputs(w)
aJ.Visible=true
aJ.Position=UDim2.new(0,9+x.Position.X.Offset,0,0)
buildSequence()
av:Redraw()
end
end)
end
end)newx.InputEnded:Connect(function(y)
if y.UserInputType==Enum.UserInputType.MouseMovement or y.UserInputType==Enum.UserInputType.Touch then
aJ.Visible=false
end
end)newnewreturn x
endnewlocal function placeArrows()
for v,w in pairs(o)do
w[3]=placeArrow(math.floor((aF.AbsoluteSize.X-1)*w[2])+1,w)
end
endnewlocal function redraw(v)
aG.Color=av.Sequence or ColorSequence.new(Color3.new(1,1,1))newfor w=2,#o do
local x=o[w]
local y=math.floor((aF.AbsoluteSize.X-1)*x[2])+1
x[3].Position=UDim2.new(0,y,0,0)
end
end
av.Redraw=redrawnewlocal function loadSequence(v,w)
p=w
for x,y in pairs(o)do if y[3]then y[3]:Destroy()end end
o={}
s=nil
for x,y in pairs(w.Keypoints)do
local z={y.Value,y.Time}
z[3]=placeArrow(y.Time,z)
table.insert(o,z)
end
q=o[1]
r=o[#o]
s=nil
updateInputs(o[1])
buildSequence(true)
redraw()
end
av.SetSequence=loadSequencenewlocal function buttonAnimations(v,w)
v.InputBegan:Connect(function(x)if x.UserInputType==Enum.UserInputType.MouseMovement or x.UserInputType==Enum.UserInputType.Touch then v.BackgroundTransparency=(w and 0.5 or 0.4)end end)
v.InputEnded:Connect(function(x)if x.UserInputType==Enum.UserInputType.MouseMovement or x.UserInputType==Enum.UserInputType.Touch then v.BackgroundTransparency=(w and 1 or 0)end end)
endnewaF.InputBegan:Connect(function(v)
if(v.UserInputType==Enum.UserInputType.MouseButton1 or v.UserInputType==Enum.UserInputType.Touch)and#o<20 then
local w=aF.AbsoluteSize.X-1
local x=(v.Position.X-aF.AbsolutePosition.X)
if x<0 then x=0 end
if x>w then x=w endnewlocal y=x/w
local z
local A
for B,C in pairs(o)do
if C[2]>=y then
z=o[math.max(B-1,1)]
A=o[B]
break
end
end
local B=z[1]:lerp(A[1],(y-z[2])/(A[2]-z[2]))
local C={B,y}
C[3]=placeArrow(C[2],C)
table.insert(o,C)
updateInputs(C)
buildSequence()
redraw()
end
end)newaF.InputChanged:Connect(function(v)
if(v.UserInputType==Enum.UserInputType.MouseMovement or v.UserInputType==Enum.UserInputType.Touch)then
local w=aF.AbsoluteSize.X-1
local x=(v.Position.X-aF.AbsolutePosition.X)
if x<0 then x=0 end
if x>w then x=w end
aJ.Visible=true
aJ.Position=UDim2.new(0,10+x,0,0)
end
end)newaF.InputEnded:Connect(function(v)
if(v.UserInputType==Enum.UserInputType.MouseMovement or v.UserInputType==Enum.UserInputType.Touch)then
local w=false
for x,y in pairs(o)do
if aq.CheckMouseInGui(y[3])then
w=y[3]
end
end
aJ.Visible=w and true or false
if w then aJ.Position=UDim2.new(0,9+w.Position.X.Offset,0,0)end
end
end)newh:GetPropertyChangedSignal"Text":Connect(function()
local v=t
local w=tonumber(h.Text)
if v and w and v~=q and v~=r then
w=math.clamp(w,0,1)
v[2]=w
buildSequence()
redraw()
end
end)newi.InputBegan:Connect(function(v)
if(v.UserInputType==Enum.UserInputType.MouseButton1 or v.UserInputType==Enum.UserInputType.Touch)then
local w=av.ColorPicker
if not w then
w=aq.ColorPicker.new()
w.Window:SetTitle"ColorSequence Color Picker"neww.OnSelect:Connect(function(x)
if t then
t[1]=x
end
buildSequence()
redraw()
end)newav.ColorPicker=w
endneww.Window:ShowAndFocus()
end
end)newj.MouseButton1Click:Connect(function()
if t and t~=q and t~=r then
for v,w in pairs(o)do
if w==t then
w[3]:Destroy()
table.remove(o,v)
break
end
end
s=nil
updateInputs(o[1])
buildSequence()
redraw()
end
end)newk.MouseButton1Click:Connect(function()
if p then
av:SetSequence(p)
end
end)newl.MouseButton1Click:Connect(function()
ay:Close()
end)newm.MouseButton1Click:Connect(function()
ay:Close()
end)newbuttonAnimations(j)
buttonAnimations(k)
buttonAnimations(l)newplaceArrows()
redraw()newav.Show=function(v)
ay:Show()
endnewreturn av
endnewreturn{new=new}
end)()newaq.ViewportTextBox=(function()
local av=am.TextServicenewlocal ax={
OffsetX=0,
TextBox=at,
CursorPos=-1,
Gui=at,
View=at
}
local ay={}
ay.Update=function(aA)
local aB=aA.CursorPos or-1
local aC=aA.TextBox.Text
if aC==""then aA.TextBox.Position=UDim2.new(0,0,0,0)return end
if aB==-1 then return endnewlocal aD=aC:sub(1,aB-1)
local aF
local aG=-aA.TextBox.Position.X.Offset
local aH=aG+aA.View.AbsoluteSize.Xnewlocal aI=av:GetTextSize(aC,aA.TextBox.TextSize,aA.TextBox.Font,Vector2.new(999999999,100)).X
local aJ=av:GetTextSize(aD,aA.TextBox.TextSize,aA.TextBox.Font,Vector2.new(999999999,100)).Xnewif aJ>aH then
aF=math.max(-1,aJ-aA.View.AbsoluteSize.X+2)
elseif aJ<aG then
aF=math.max(-1,aJ-2)
elseif aI<aH then
aF=math.max(-1,aI-aA.View.AbsoluteSize.X+2)
endnewif aF then
aA.TextBox.Position=UDim2.new(0,-aF,0,0)
aA.TextBox.Size=UDim2.new(1,aF,1,0)
end
endneway.GetText=function(aA)
return aA.TextBox.Text
endneway.SetText=function(aA,aB)
aA.TextBox.Text=aB
endnewlocal aA=getGuiMT(ax,ay)newlocal function convert(aB)
local aC=initObj(ax,aA)newlocal aD=a"Frame"
aD.BackgroundTransparency=aB.BackgroundTransparency
aD.BackgroundColor3=aB.BackgroundColor3
aD.BorderSizePixel=aB.BorderSizePixel
aD.BorderColor3=aB.BorderColor3
aD.Position=aB.Position
aD.Size=aB.Size
aD.ClipsDescendants=true
aD.Name=aB.Name
aB.BackgroundTransparency=1
aB.Position=UDim2.new(0,0,0,0)
aB.Size=UDim2.new(1,0,1,0)
aB.TextXAlignment=Enum.TextXAlignment.Left
aB.Name="Input"newaC.TextBox=aB
aC.View=aD
aC.Gui=aDnewaB.Changed:Connect(function(aF)
if aF=="Text"or aF=="CursorPosition"or aF=="AbsoluteSize"then
local aG=aC.TextBox.CursorPosition
if aG~=-1 then aC.CursorPos=aG end
aC:Update()
end
end)newaC:Update()newaD.Parent=aB.Parent
aB.Parent=aDnewreturn aC
endnewlocal function new()
local aB=new"TextBox"
aB.Size=UDim2.new(0,100,0,20)
aB.BackgroundColor3=ad.Theme.TextBox
aB.BorderColor3=ad.Theme.Outline3
aB.ClearTextOnFocus=false
aB.TextColor3=ad.Theme.Text
aB.Font=Enum.Font.SourceSans
aB.TextSize=14
aB.Text=""
return convert(aB)
endnewreturn{new=new,convert=convert}
end)()newaq.Label=(function()
local av,ax={},{}newlocal ay=getGuiMT(av,ax)newlocal function new()
local aA=new"TextLabel"
aA.BackgroundTransparency=1
aA.TextXAlignment=Enum.TextXAlignment.Left
aA.TextColor3=ad.Theme.Text
aA.TextTransparency=0.1
aA.Size=UDim2.new(0,100,0,20)
aA.Font=Enum.Font.SourceSans
aA.TextSize=14newlocal aB=setmetatable({
Gui=aA
},ay)
return aB
endnewreturn{new=new}
end)()newaq.Frame=(function()
local av,ax={},{}newlocal ay=getGuiMT(av,ax)newlocal function new()
local aA=new"Frame"
aA.BackgroundColor3=ad.Theme.Main1
aA.BorderColor3=ad.Theme.Outline1
aA.Size=UDim2.new(0,50,0,50)newlocal aB=setmetatable({
Gui=aA
},ay)
return aB
endnewreturn{new=new}
end)()newaq.Button=(function()
local av={
Gui=at,
Anim=at,
Disabled=false,
OnClick=au,
OnDown=au,
OnUp=au,
AllowedButtons={1}
}
local ax={}
local ay=table.findnewax.Trigger=function(aA,aB,aC)
if not aA.Disabled and ay(aA.AllowedButtons,aC)then
aA["On"..aB]:Fire(aC)
end
endnewax.SetDisabled=function(aA,aB)
aA.Disabled=aBnewif aB then
aA.Anim:Disable()
aA.Gui.TextTransparency=0.5
else
aA.Anim.Enable()
aA.Gui.TextTransparency=0
end
endnewlocal aA=getGuiMT(av,ax)newlocal function new()
local aB=new"TextButton"
aB.AutoButtonColor=false
aB.TextColor3=ad.Theme.Text
aB.TextTransparency=0.1
aB.Size=UDim2.new(0,100,0,20)
aB.Font=Enum.Font.SourceSans
aB.TextSize=14
aB.BackgroundColor3=ad.Theme.Button
aB.BorderColor3=ad.Theme.Outline2newlocal aC=initObj(av,aA)
aC.Gui=aB
aC.Anim=aq.ButtonAnim(aB,{Mode=2,StartColor=ad.Theme.Button,HoverColor=ad.Theme.ButtonHover,PressColor=ad.Theme.ButtonPress,OutlineColor=ad.Theme.Outline2})newaB.MouseButton1Click:Connect(function()aC:Trigger("Click",1)end)
aB.MouseButton1Down:Connect(function()aC:Trigger("Down",1)end)
aB.MouseButton1Up:Connect(function()aC:Trigger("Up",1)end)newaB.MouseButton2Click:Connect(function()aC:Trigger("Click",2)end)
aB.MouseButton2Down:Connect(function()aC:Trigger("Down",2)end)
aB.MouseButton2Up:Connect(function()aC:Trigger("Up",2)end)newreturn aC
endnewreturn{new=new}
end)()newaq.DropDown=(function()
local av={
Gui=at,
Anim=at,
Context=at,
Selected=at,
Disabled=false,
CanBeEmpty=true,
Options={},
GuiElems={},
OnSelect=au
}
local ax={}newax.Update=function(ay)
local aA=ay.Optionsnewif#aA>0 then
if not ay.Selected then
if not ay.CanBeEmpty then
ay.Selected=aA[1]
ay.GuiElems.Label.Text=aA[1]
else
ay.GuiElems.Label.Text="- Select -"
end
else
ay.GuiElems.Label.Text=ay.Selected
end
else
ay.GuiElems.Label.Text="- Select -"
end
endnewax.ShowOptions=function(ay)
local aA=ay.ContextnewaA.Width=ay.Gui.AbsoluteSize.X
aA.ReverseYOffset=ay.Gui.AbsoluteSize.Y
aA:Show(ay.Gui.AbsolutePosition.X,ay.Gui.AbsolutePosition.Y+aA.ReverseYOffset)
endnewax.SetOptions=function(ay,aA)
ay.Options=aAnewlocal aB=ay.Context
local aC=ay.Options
aB:Clear()newlocal aD=function(aD)ay.Selected=aD ay.OnSelect:Fire(aD)ay:Update()endnewif ay.CanBeEmpty then
aB:Add{Name="- Select -",function()ay.Selected=nil ay.OnSelect:Fire(nil)ay:Update()end}
endnewfor aF=1,#aC do
aB:Add{Name=aC[aF],OnClick=aD}
endneway:Update()
endnewax.SetSelected=function(ay,aA)
ay.Selected=type(aA)=="number"and ay.Options[aA]or aA
ay:Update()
endnewlocal ay=getGuiMT(av,ax)newlocal function new()
local aA=new"TextButton"
aA.AutoButtonColor=false
aA.Text=""
aA.Size=UDim2.new(0,100,0,20)
aA.BackgroundColor3=ad.Theme.TextBox
aA.BorderColor3=ad.Theme.Outline3newlocal aB=aq.Label.new()
aB.Position=UDim2.new(0,2,0,0)
aB.Size=UDim2.new(1,-22,1,0)
aB.TextTruncate=Enum.TextTruncate.AtEnd
aB.Parent=aA
local aC=ao{
{1,"Frame",{BackgroundTransparency=1,Name="EnumArrow",Position=UDim2.new(1,-16,0,2),Size=UDim2.new(0,16,0,16),}},
{2,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,8,0,9),Size=UDim2.new(0,1,0,1),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,7,0,8),Size=UDim2.new(0,3,0,1),}},
{4,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,1),}},
}
aC.Parent=aAnewlocal aD=initObj(av,ay)
aD.Gui=aA
aD.Anim=aq.ButtonAnim(aA,{Mode=2,StartColor=ad.Theme.TextBox,LerpTo=ad.Theme.Button,LerpDelta=0.15})
aD.Context=aq.ContextMenu.new()
aD.Context.Iconless=true
aD.Context.MaxHeight=200
aD.Selected=nil
aD.GuiElems={Label=aB}
aA.MouseButton1Down:Connect(function()aD:ShowOptions()end)
aD:Update()
return aD
endnewreturn{new=new}
end)()newaq.ClickSystem=(function()
local av={
LastItem=at,
OnDown=au,
OnRelease=au,
AllowedButtons={1},
Combo=0,
MaxCombo=2,
ComboTime=0.5,
Items={},
ItemCons={},
ClickId=-1,
LastButton=""
}
local ax={}newnewnewnewax.Trigger=function(ay,aA,aB,aC,aD)
if table.find(ay.AllowedButtons,aB)then
if ay.LastButton~=aB or ay.LastItem~=aA or ay.Combo==ay.MaxCombo or tick()-ay.ClickId>ay.ComboTime then
ay.Combo=0
ay.LastButton=aB
ay.LastItem=aA
endneway.Combo=ay.Combo+1
ay.ClickId=tick()newtask.spawn(function()
if ay.InputDown then
ay.InputDown=false
else
ay.InputDown=tick()newaA.MouseButton1Up:Once(function()
ay.InputDown=false
end)newwhile ay.InputDown and not ae.Dragging do
if(tick()-ay.InputDown)>=0.4 then
ay.InputDown=false
ay.OnRelease:Fire(aA,ay.Combo,2,Vector2.new(aC,aD))
break
end;task.wait()
end
end
end)newlocal aF
aF=am.UserInputService.InputEnded:Connect(function(aG)
if aG.UserInputType==Enum.UserInputType["MouseButton"..aB]then
aF:Disconnect()
if aq.CheckMouseInGui(aA)and ay.LastButton==aB and ay.LastItem==aA then
ay.OnRelease:Fire(aA,ay.Combo,aB)
end
end
end)neway.OnDown:Fire(aA,ay.Combo,aB)
end
endnewax.Add=function(ay,aA)
if table.find(ay.Items,aA)then return endnewlocal aB={}
aB[1]=aA.MouseButton1Down:Connect(function(aC,aD)ay:Trigger(aA,1,aC,aD)end)
aB[2]=aA.MouseButton2Down:Connect(function(aC,aD)ay:Trigger(aA,2,aC,aD)end)neway.ItemCons[aA]=aB
ay.Items[#ay.Items+1]=aA
endnewax.Remove=function(ay,aA)
local aB=table.find(ay.Items,aA)
if not aB then return endnewfor aC,aD in pairs(ay.ItemCons[aA])do
aD:Disconnect()
end
ay.ItemCons[aA]=nil
table.remove(ay.Items,aB)
endnewlocal ay={__index=ax}newlocal function new()
local aA=initObj(av,ay)newreturn aA
endnewreturn{new=new}
end)()newreturn aq
endnewreturn{InitDeps=initDeps,InitAfterMain=initAfterMain,Main=main}
end,
Console=function()newnew
local aa,ab,ac,ad
local ae,af,ag,ah
local ai,aj,ak,am,an,ao,apnewlocal function initDeps(aq)
aa=aq.Main
ab=aq.Lib
ac=aq.Apps
ad=aq.Settingsnewai=aq.API
aj=aq.RMD
ak=aq.env
am=aq.service
an=aq.plr
ao=aq.create
ap=aq.createSimple
endnewlocal function initAfterMain()
ae=ac.Explorer
af=ac.Properties
ag=ac.ScriptViewer
ah=ac.Notebook
endnewlocal function main()
local aq={}newlocal ar,asnewlocal at=500newnewlocal au={};new
ar=ab.Window.new()
ar:SetTitle"Console"
ar:Resize(500,400)
aq.Window=arnew
as=a("ImageButton",ar.GuiElems.Content);
as.BorderSizePixel=0;
as.AutoButtonColor=false;
as.BackgroundTransparency=1;
as.BackgroundColor3=Color3.fromRGB(47,47,47);
as.Selectable=false;
as.Size=UDim2.new(1,0,1,0);
as.BorderColor3=Color3.fromRGB(0,0,0);
as.Name=[[Console]];
as.Position=UDim2.new(0,0,0,0);newnewau["3"]=ab.Frame.new().Gui
au["3"].Parent=as
au["3"].BorderSizePixel=0;
au["3"].BackgroundColor3=Color3.fromRGB(37,37,37);
au["3"].AnchorPoint=Vector2.new(0.5,1);
au["3"].ClipsDescendants=true;
au["3"].Size=UDim2.new(1,-8,0,22);
au["3"].Position=UDim2.new(0.5,0,1,-5);
au["3"].BorderColor3=Color3.fromRGB(0,0,0);
au["3"].Name=[[CommandLine]];newnewau["4"]=a("UIStroke",au["3"]);
au["4"].Transparency=0.65;
au["4"].Thickness=1.25;newnewau["5"]=a("ScrollingFrame",au["3"]);
au["5"].Active=true;
au["5"].ScrollingDirection=Enum.ScrollingDirection.X;
au["5"].BorderSizePixel=0;
au["5"].CanvasSize=UDim2.new(0,0,0,0);
au["5"].ElasticBehavior=Enum.ElasticBehavior.Never;
au["5"].TopImage=[[rbxasset://textures/ui/Scroll/scroll-middle.png]];
au["5"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["5"].HorizontalScrollBarInset=Enum.ScrollBarInset.Always;
au["5"].BottomImage=[[rbxasset://textures/ui/Scroll/scroll-middle.png]];
au["5"].AutomaticCanvasSize=Enum.AutomaticSize.X;
au["5"].Size=UDim2.new(1,0,1,0);
au["5"].ScrollBarImageColor3=Color3.fromRGB(57,57,57);
au["5"].BorderColor3=Color3.fromRGB(0,0,0);
au["5"].ScrollBarThickness=2;
au["5"].BackgroundTransparency=1;new
au["6"]=a("TextBox",au["5"]);
au["6"].CursorPosition=-1;
au["6"].TextXAlignment=Enum.TextXAlignment.Left;
au["6"].PlaceholderColor3=Color3.fromRGB(211,211,211);
au["6"].BorderSizePixel=0;
au["6"].TextSize=13;
au["6"].TextColor3=Color3.fromRGB(211,211,211);
au["6"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["6"].FontFace=Font.new([[rbxasset://fonts/families/Inconsolata.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["6"].AutomaticSize=Enum.AutomaticSize.X;
au["6"].ClearTextOnFocus=false;
au["6"].PlaceholderText=[[Run a command]];
au["6"].Size=UDim2.new(0,246,0,22);
au["6"].BorderColor3=Color3.fromRGB(0,0,0);
au["6"].Text=[[]];
au["6"].BackgroundTransparency=1;newnewau["7"]=a("UIPadding",au["6"]);
au["7"].PaddingLeft=UDim.new(0,7);newnewau["8"]=a("TextLabel",au["5"]);
au["8"].Interactable=false;
au["8"].ZIndex=2;
au["8"].BorderSizePixel=0;
au["8"].TextSize=13;
au["8"].TextXAlignment=Enum.TextXAlignment.Left;
au["8"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["8"].FontFace=Font.new([[rbxasset://fonts/families/Inconsolata.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["8"].TextColor3=Color3.fromRGB(255,255,255);
au["8"].BackgroundTransparency=1;
au["8"].RichText=true;
au["8"].Size=UDim2.new(0,246,0,22);
au["8"].BorderColor3=Color3.fromRGB(0,0,0);
au["8"].Text=[[]];
au["8"].Selectable=true;
au["8"].AutomaticSize=Enum.AutomaticSize.X;
au["8"].Name=[[Highlight]];newnewau["9"]=a("UIPadding",au["8"]);
au["9"].PaddingLeft=UDim.new(0,7);newau.backgroundOutput=a("Frame",as);
au.backgroundOutput.BorderSizePixel=0;
au.backgroundOutput.BackgroundColor3=Color3.fromRGB(36,36,36);
au.backgroundOutput.Name=[[BackgroundOutput]];
au.backgroundOutput.AnchorPoint=Vector2.new(0,0);
au.backgroundOutput.Size=UDim2.new(1,-8,1,-55);
au.backgroundOutput.Position=UDim2.new(0,4,0,23);
au.backgroundOutput.BorderColor3=Color3.fromRGB(0,0,0);
au.backgroundOutput.ZIndex=1;newlocal av=ab.ScrollBar.new()
av.Gui.Parent=as
av.Gui.Size=UDim2.new(0,16,1,-55);
av.Gui.Position=UDim2.new(1,-20,0,23);
av.Gui.Up.ZIndex=3
av.Gui.Down.ZIndex=3new
au.a=a("ScrollingFrame",as);
au.a.Active=true;
au.a.BorderSizePixel=0;
au.a.CanvasSize=UDim2.new(0,0,0,0);
au.a.TopImage='';
au.a.BackgroundColor3=Color3.fromRGB(36,36,36);
au.a.BackgroundTransparency=1
au.a.Name=[[Output]];
au.a.ScrollBarImageTransparency=0;
au.a.BottomImage='';
au.a.AnchorPoint=Vector2.new(0,0);
au.a.AutomaticCanvasSize=Enum.AutomaticSize.Y;
au.a.Size=UDim2.new(1,-8,1,-55);
au.a.Position=UDim2.new(0,4,0,23);
au.a.BorderColor3=Color3.fromRGB(0,0,0);
au.a.ScrollBarImageColor3=Color3.fromRGB(70,70,70)
au.a.ScrollBarThickness=16;
au.a.ZIndex=1;newau.a:GetPropertyChangedSignal"AbsoluteWindowSize":Connect(function()
if au.a.AbsoluteCanvasSize~=au.a.AbsoluteWindowSize then
av.Gui.Visible=true
else
av.Gui.Visible=false
end
end)new
au.b=a("UIListLayout",au.a);
au.b.SortOrder=Enum.SortOrder.LayoutOrder;newnewau.c=a("UIStroke",au.a);
au.c.Transparency=0.7;
au.c.Thickness=1.25;
au.c.Color=Color3.fromRGB(12,12,12);newnewau.d=a("NumberValue",au.a);
au.d.Name=[[OutputTextSize]];
au.d.Value=15;newnewau.e=a("NumberValue",au.a);
au.e.Name=[[OutputLimit]];
au.e.Value=at;newnewau.f=a("UIPadding",au.a);
au.f.PaddingTop=UDim.new(0,2);newnewau["10"]=a("Frame",as);
au["10"].BorderSizePixel=0;
au["10"].BackgroundColor3=Color3.fromRGB(37,37,37);
au["10"].ClipsDescendants=true;
au["10"].Size=UDim2.new(0,37,0,15);
au["10"].Position=UDim2.new(0,4,0,4);
au["10"].BorderColor3=Color3.fromRGB(0,0,0);
au["10"].Name=[[TextSizeBox]];newnewau["11"]=a("TextBox",au["10"]);
au["11"].PlaceholderColor3=Color3.fromRGB(108,108,108);
au["11"].BorderSizePixel=0;
au["11"].TextWrapped=true;
au["11"].TextSize=15;
au["11"].TextColor3=Color3.fromRGB(211,211,211);
au["11"].TextScaled=true;
au["11"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["11"].FontFace=Font.new([[rbxasset://fonts/families/Inconsolata.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["11"].PlaceholderText=[[Size]];
au["11"].Size=UDim2.new(1,0,1,0);
au["11"].BorderColor3=Color3.fromRGB(0,0,0);
au["11"].Text=[[]];
au["11"].BackgroundTransparency=1;newnewau["12"]=a("UIPadding",au["11"]);
au["12"].PaddingTop=UDim.new(0,2);
au["12"].PaddingRight=UDim.new(0,5);
au["12"].PaddingLeft=UDim.new(0,5);
au["12"].PaddingBottom=UDim.new(0,2);newnewau["13"]=a("UIStroke",au["10"]);
au["13"].Transparency=0.65;
au["13"].Thickness=1.25;newnewau["14"]=a("ImageButton",as);
au["14"].BorderSizePixel=0;
au["14"].BackgroundColor3=Color3.fromRGB(57,57,57);
au["14"].Size=UDim2.new(0,37,0,15);
au["14"].BorderColor3=Color3.fromRGB(0,0,0);
au["14"].Name=[[Clear]];
au["14"].Position=UDim2.new(1,-42,0,4);newnewau["15"]=a("TextLabel",au["14"]);
au["15"].TextWrapped=true;
au["15"].Interactable=false;
au["15"].BorderSizePixel=0;
au["15"].TextSize=20;
au["15"].TextScaled=true;
au["15"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["15"].FontFace=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["15"].TextColor3=Color3.fromRGB(255,255,255);
au["15"].BackgroundTransparency=1;
au["15"].Size=UDim2.new(1,0,1,0);
au["15"].BorderColor3=Color3.fromRGB(0,0,0);
au["15"].Text=[[Clear]];newnewau["16"]=a("UIPadding",au["14"]);
au["16"].PaddingTop=UDim.new(0,1);
au["16"].PaddingBottom=UDim.new(0,1);newnewau["17"]=a("TextBox",as);
au["17"].Visible=false;
au["17"].Active=false;
au["17"].Name=[[OutputTemplate]];
au["17"].TextXAlignment=Enum.TextXAlignment.Left;
au["17"].BorderSizePixel=0;
au["17"].TextEditable=false;
au["17"].TextWrapped=true;
au["17"].TextSize=15;
au["17"].TextColor3=Color3.fromRGB(171,171,171);
au["17"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["17"].RichText=true;
au["17"].FontFace=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["17"].AutomaticSize=Enum.AutomaticSize.Y;
au["17"].Selectable=false;
au["17"].ClearTextOnFocus=false;
au["17"].Size=UDim2.new(1,0,0,1);
au["17"].Position=UDim2.new(0,20,0,0);
au["17"].BorderColor3=Color3.fromRGB(0,0,0);
au["17"].Text=[[(timestamp) <font color="rgb(255, 255, 255)">Output</font>]];
au["17"].BackgroundTransparency=1;newnewau["18"]=a("UIPadding",au["17"]);
au["18"].PaddingRight=UDim.new(0,6);
au["18"].PaddingLeft=UDim.new(0,6);newnewau["19"]=a("ImageButton",as);
au["19"].BorderSizePixel=0;
au["19"].BackgroundColor3=Color3.fromRGB(57,57,57);
au["19"].Size=UDim2.new(0,60,0,15);
au["19"].BorderColor3=Color3.fromRGB(0,0,0);
au["19"].Name=[[CtrlScroll]];
au["19"].Position=UDim2.new(0,46,0,4);newnewau["1a"]=a("TextLabel",au["19"]);
au["1a"].TextWrapped=true;
au["1a"].Interactable=false;
au["1a"].BorderSizePixel=0;
au["1a"].TextSize=20;
au["1a"].TextScaled=true;
au["1a"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["1a"].FontFace=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["1a"].TextColor3=Color3.fromRGB(255,255,255);
au["1a"].BackgroundTransparency=1;
au["1a"].Size=UDim2.new(1,0,1,0);
au["1a"].BorderColor3=Color3.fromRGB(0,0,0);
au["1a"].Text=[[Ctrl Scroll]];newnewau["1b"]=a("UIPadding",au["19"]);
au["1b"].PaddingTop=UDim.new(0,1);
au["1b"].PaddingBottom=UDim.new(0,1);new
au["20"]=a("ImageButton",as);
au["20"].BorderSizePixel=0;
au["20"].BackgroundColor3=Color3.fromRGB(57,57,57);
au["20"].Size=UDim2.new(0,60,0,15);
au["20"].BorderColor3=Color3.fromRGB(0,0,0);
au["20"].Name=[[AutoScroll]];
au["20"].Position=UDim2.new(0,110,0,4);newnewau["1e"]=a("TextLabel",au["20"]);
au["1e"].TextWrapped=true;
au["1e"].Interactable=false;
au["1e"].BorderSizePixel=0;
au["1e"].TextSize=20;
au["1e"].TextScaled=true;
au["1e"].BackgroundColor3=Color3.fromRGB(255,255,255);
au["1e"].FontFace=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal);
au["1e"].TextColor3=Color3.fromRGB(255,255,255);
au["1e"].BackgroundTransparency=1;
au["1e"].Size=UDim2.new(1,0,1,0);
au["1e"].BorderColor3=Color3.fromRGB(0,0,0);
au["1e"].Text=[[Auto Scroll]];newnewau["1f"]=a("UIPadding",au["20"]);
au["1f"].PaddingTop=UDim.new(0,1);
au["1f"].PaddingBottom=UDim.new(0,1);newnewau["1c"]=a("LocalScript",au["1"]);
au["1c"].Name=[[ConsoleHandler]];newnewau["1d"]=a("ModuleScript",au["1c"]);
au["1d"].Name=[[SyntaxHighlighter]];newnewlocal ax=require;
local ay={};
local function require(aA)
local aB=ay[aA];
if aB then
if not aB.Required then
aB.Required=true;
aB.Value=aB.Closure();
end
return aB.Value
end;
return ax(aA)
endneway[au["1d"] ]={
Closure=function()local aA=
au["1d"];local aB={}
local aC={
lua={
"and","break","or","else","elseif","if","then","until","repeat","while","do","for","in","end",
"local","return","function","export"
},
rbx={
"game","workspace","script","math","string","table","task","wait","select","next","Enum",
"error","warn","tick","assert","shared","loadstring","tonumber","tostring","type",
"typeof","unpack","print","Instance","CFrame","Vector3","Vector2","Color3","UDim","UDim2","Ray","BrickColor",
"OverlapParams","RaycastParams","Axes","Random","Region3","Rect","TweenInfo",
"collectgarbage","not","utf8","pcall","xpcall","_G","setmetatable","getmetatable","os","pairs","ipairs"
},
exploit={
"hookmetamethod","hookfunction","getgc","filtergc","Drawing","getgenv","getsenv","getrenv","getfenv","setfenv",
"decompile","saveinstance","getrawmetatable","setrawmetatable","checkcaller","cloneref","clonefunction",
"iscclosure","islclosure","isexecutorclosure","newcclosure","getfunctionhash","crypt","writefile","appendfile","loadfile","readfile","listfiles",
"makefolder","isfolder","isfile","delfile","delfolder","getcustomasset","fireclickdetector","firetouchinterest","fireproximityprompt"
},
operators={
"#","+","-","*","%","/","^","=","~","=","<",">",",",".","(",")","{","}","[","]",";",":"
}
}newlocal aD={
numbers=Color3.fromRGB(255,198,0),
boolean=Color3.fromRGB(255,198,0),
operator=Color3.fromRGB(204,204,204),
lua=Color3.fromRGB(132,214,247),
exploit=Color3.fromRGB(171,84,247),
rbx=Color3.fromRGB(248,109,124),
str=Color3.fromRGB(173,241,132),
comment=Color3.fromRGB(102,102,102),
null=Color3.fromRGB(255,198,0),
call=Color3.fromRGB(253,251,172),
self_call=Color3.fromRGB(253,251,172),
local_color=Color3.fromRGB(248,109,115),
function_color=Color3.fromRGB(248,109,115),
self_color=Color3.fromRGB(248,109,115),
local_property=Color3.fromRGB(97,161,241),
}newlocal function createKeywordSet(aF)
local aG={}
for aH,aI in ipairs(aF)do
aG[aI]=true
end
return aG
endnewlocal aF=createKeywordSet(aC.lua)
local aG=createKeywordSet(aC.exploit)
local aH=createKeywordSet(aC.rbx)
local aI=createKeywordSet(aC.operators)newlocal function getHighlight(aJ,h)
local i=aJ[h]newif aD[i.."_color"]then
return aD[i.."_color"]
endnewif tonumber(i)then
return aD.numbers
elseif i=="nil"then
return aD.null
elseif i:sub(1,2)=="--"then
return aD.comment
elseif aI[i]then
return aD.operator
elseif aF[i]then
return aD.rbx
elseif aH[i]then
return aD.lua
elseif aG[i]then
return aD.exploit
elseif i:sub(1,1)=="\""or i:sub(1,1)=="\'"then
return aD.str
elseif i=="true"or i=="false"then
return aD.boolean
endnewif aJ[h+1]=="("then
if aJ[h-1]==":"then
return aD.self_call
endnewreturn aD.call
endnewif aJ[h-1]=="."then
if aJ[h-2]=="Enum"then
return aD.rbx
endnewreturn aD.local_property
end
endnewfunction aB.run(aJ)
local h={}
local i=""newlocal j=false
local k=false
local l=falsenewfor m=1,#aJ do
local n=aJ:sub(m,m)newif k then
if n=="\n"and not l then
table.insert(h,i)
table.insert(h,n)
i=""newk=false
elseif aJ:sub(m-1,m)=="]]"and l then
i..="]"newtable.insert(h,i)
i=""newk=false
l=false
else
i=i..n
end
elseif j then
if n==j and aJ:sub(m-1,m-1)~="\\"or n=="\n"then
i=i..n
j=false
else
i=i..n
end
else
if aJ:sub(m,m+1)=="--"then
table.insert(h,i)
i="-"
k=true
l=aJ:sub(m+2,m+3)=="[["
elseif n=="\""or n=="\'"then
table.insert(h,i)
i=n
j=n
elseif aI[n]then
table.insert(h,i)
table.insert(h,n)
i=""
elseif n:match"[%w_]"then
i=i..n
else
table.insert(h,i)
table.insert(h,n)
i=""
end
end
endnewtable.insert(h,i)newlocal m={}newfor n,o in ipairs(h)do
local p=getHighlight(h,n)newif p then
local q=string.format("<font color = \"#%s\">%s</font>",p:ToHex(),o:gsub("<","&lt;"):gsub(">","&gt;"))newtable.insert(m,q)
else
table.insert(m,o)
end
endnewreturn table.concat(m)
endnewreturn aB
end;
};newaq.Init=function()new
local aA=false
local aB=falsenewlocal aC=g:GetService"LogService"
local aD=g:GetService"Players"
local aF=aD.LocalPlayer
aF:GetMouse()
local aG=g:GetService"UserInputService"
g:GetService"RunService"newlocal aH=as
local aI=require(au["1c"].SyntaxHighlighter)
local aJ=aH.Output.OutputTextSizenewnewnewnewnewnewif aA==true then
aH.CtrlScroll.BackgroundColor3=Color3.fromRGB(11,90,175)
elseif aA==false then
aH.CtrlScroll.BackgroundColor3=Color3.fromRGB(56,56,56)
end
aH.CtrlScroll.MouseButton1Click:Connect(function()
aA=not aA
if aA==true then
aH.CtrlScroll.BackgroundColor3=Color3.fromRGB(11,90,175)
elseif aA==false then
aH.CtrlScroll.BackgroundColor3=Color3.fromRGB(56,56,56)
end
end)newlocal h=false
aG.InputBegan:Connect(function(i,j)
if not j then
if i.KeyCode==Enum.KeyCode.LeftControl or i.KeyCode==Enum.KeyCode.RightControl then
h=true
end
end
end)
aG.InputEnded:Connect(function(i,j)
if not j then
if i.KeyCode==Enum.KeyCode.LeftControl or i.KeyCode==Enum.KeyCode.RightControl then
h=false
end
end
end)newif aB==true then
aH.AutoScroll.BackgroundColor3=Color3.fromRGB(11,90,175)
elseif aB==false then
aH.AutoScroll.BackgroundColor3=Color3.fromRGB(56,56,56)
end
aH.AutoScroll.MouseButton1Click:Connect(function()
aB=not aB
if aB==true then
aH.AutoScroll.BackgroundColor3=Color3.fromRGB(11,90,175)
aH.Output.CanvasPosition=Vector2.new(0,9e9)
elseif aB==false then
aH.AutoScroll.BackgroundColor3=Color3.fromRGB(56,56,56)
end
end)new
local i={}
local j=aH.Output.OutputLimitnewaH.TextSizeBox.TextBox.Text=tostring(aJ.Value)newaH.TextSizeBox.TextBox:GetPropertyChangedSignal"Text":Connect(function()
local k=tonumber(aH.TextSizeBox.TextBox.Text)
if k then
aJ.Value=k
end
end)
aJ:GetPropertyChangedSignal"Value":Connect(function()
aH.TextSizeBox.TextBox.Text=tostring(aJ.Value)
end)newlocal k
aH.Output.MouseEnter:Connect(function()
k=aG.InputChanged:Connect(function(l)
if aA and l.UserInputType==Enum.UserInputType.MouseWheel and h==true then
aH.Output.ScrollingEnabled=false
local m=aJ.Value+l.Position.Z
if m>=1 then
aJ.Value=m
end
else
aH.Output.ScrollingEnabled=true
end
end)
end)
aH.Output.MouseLeave:Connect(function()
if k then
k:Disconnect()
k=nil
end
end)new
aH.Clear.MouseButton1Click:Connect(function()
for l,m in pairs(aH.Output:GetChildren())do
if m:IsA"TextBox"then
m:Destroy()
end
end
end)newlocal lnewaC.MessageOut:Connect(function(m,n)
local o=""
local p=""
local q=aH.OutputTemplate:Clone()
table.insert(i,q)newif#i>j.Value then
local r=table.remove(i,1)
if r and typeof(r)=="Instance"then
r:Destroy()
end
endnewp=os.date"%H:%M:%S"..'   '..m
if n==Enum.MessageType.MessageOutput then
o=os.date"%H:%M:%S"..'   <font color="rgb(204, 204, 204)">'..m..'</font>'
q.Text=o
elseif n==Enum.MessageType.MessageWarning then
o=os.date"%H:%M:%S"..'   <b><font color="rgb(255, 142, 60)">'..m..'</font></b>'
q.Text=o
elseif n==Enum.MessageType.MessageError then
o=os.date"%H:%M:%S"..'   <b><font color="rgb(255, 68, 68)">'..m..'</font></b>'
q.Text=o
elseif n==Enum.MessageType.MessageInfo then
o=os.date"%H:%M:%S"..'   <font color="rgb(128, 215, 255)">'..m..'</font>'
q.Text=o
endnewq.TextSize=aJ.Value
aJ:GetPropertyChangedSignal"Value":Connect(function()
q.TextSize=aJ.Value
end)newq.Focused:Connect(function()
l=q
q.Text=p
end)
q.FocusLost:Connect(function()
l=nil
q.Text=o
end)newq.Parent=aH.Output
q.Visible=truenewif aB then
aH.Output.CanvasPosition=Vector2.new(0,9e9)
end
end)newaH.Output.MouseLeave:Connect(function()
if l then
l:ReleaseFocus()
end
end)newaH.CommandLine.ScrollingFrame.TextBox:GetPropertyChangedSignal"Text":Connect(function()newlocal m=string.gsub(aH.CommandLine.ScrollingFrame.TextBox.Text,"\n","    ")
aH.CommandLine.ScrollingFrame.TextBox.Text=mnewaH.CommandLine.ScrollingFrame.Highlight.Text=aI.run(aH.CommandLine.ScrollingFrame.TextBox.Text)
end)newnewaH.CommandLine.ScrollingFrame.TextBox.FocusLost:Connect(function(m)
if m and aH.CommandLine.ScrollingFrame.TextBox.Text~=""then
print("> "..aH.CommandLine.ScrollingFrame.TextBox.Text)
loadstring(aH.CommandLine.ScrollingFrame.TextBox.Text)()
end
end)
endnewreturn aq
endnewreturn{InitDeps=initDeps,InitAfterMain=initAfterMain,Main=main}
end,
SaveInstance=function()newnew
local aa,ab,ac,ad
local ae,af,ag,ah
local ai,aj,ak,am,an,ao,apnewlocal function initDeps(aq)
aa=aq.Main
ab=aq.Lib
ac=aq.Apps
ad=aq.Settingsnewai=aq.API
aj=aq.RMD
ak=aq.env
am=aq.service
an=aq.plr
ao=aq.create
ap=aq.createSimple
endnewlocal function initAfterMain()
ae=ac.Explorer
af=ac.Properties
ag=ac.ScriptViewer
ah=ac.Notebook
endnewlocal function main()
local aq={}
local ar,as
local at="Place_"..g.PlaceId.."_"..am.MarketplaceService:GetProductInfo(g.PlaceId).Name.."_{TIMESTAMP}"new
local au={
Decompile=true,
DecompileTimeout=10,
DecompileIgnore={"Chat","CoreGui","CorePackages"},
NilInstances=false,
RemovePlayerCharacters=true,
SavePlayers=false,
MaxThreads=3,
ShowStatus=true,
IgnoreDefaultProps=true,
IsolateStarterPlayer=true
}newlocal function AddCheckbox(av,ax)
local ay=ab.Frame.new()
ay.Gui.Parent=as
ay.Gui.Transparency=1
ay.Gui.Size=UDim2.new(1,0,0,20)newlocal aA=a"UIListLayout"
aA.Parent=ay.Gui
aA.FillDirection=Enum.FillDirection.Horizontal
aA.HorizontalAlignment=Enum.HorizontalAlignment.Left
aA.VerticalAlignment=Enum.VerticalAlignment.Center
aA.Padding=UDim.new(0,10)new
local aB=ab.Checkbox.new()newaB.Gui.Parent=ay.Gui
aB.Gui.Size=UDim2.new(0,15,0,15)new
local aC=ab.Label.new()newaC.Gui.Parent=ay.Gui
aC.Gui.Size=UDim2.new(1,0,1,-15)
aC.Gui.Text=av
aC.TextTruncate=Enum.TextTruncate.AtEndnewaB:SetState(ax)newreturn aB
endnewlocal function AddTextbox(av,ax,ay)
ax=tostring(ax)
local aA=ab.Frame.new()
aA.Gui.Parent=as
aA.Gui.Transparency=1
aA.Gui.Size=UDim2.new(1,0,0,20)newlocal aB=a"UIListLayout"
aB.Parent=aA.Gui
aB.FillDirection=Enum.FillDirection.Horizontal
aB.HorizontalAlignment=Enum.HorizontalAlignment.Left
aB.VerticalAlignment=Enum.VerticalAlignment.Center
aB.Padding=UDim.new(0,10)new
local aC=ab.ViewportTextBox.new()newaC.Gui.Parent=aA.Gui
if ay and type(ay)=="number"then
aC.Gui.Size=UDim2.new(0,ay,0,15)
else
aC.Gui.Size=UDim2.new(0,45,0,15)
endnewaC.Gui.AutomaticSize=Enum.AutomaticSize.X
aC.TextBox.AutomaticSize=Enum.AutomaticSize.Xnew
local aD=ab.Label.new()newaD.Gui.Parent=aA.Gui
aD.Gui.Size=UDim2.new(1,0,1,-15)
aD.Gui.Text=av
aD.TextTruncate=Enum.TextTruncate.AtEndnewaC:SetText(ax)newreturn aC
endnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnewnew
aq.Init=function()
ar=ab.Window.new()
ar:SetTitle"Save Instance"
ar:Resize(350,350)
aq.Window=arnewnew
as=a"ScrollingFrame"
as.Parent=ar.GuiElems.Content
as.Size=UDim2.new(1,0,1,-40)
as.Position=UDim2.new(0,0,0,0)
as.Transparency=1
as.CanvasSize=UDim2.new(0,0,0,0)
as.AutomaticCanvasSize=Enum.AutomaticSize.Y
as.ScrollBarThickness=16
as.BottomImage=""
as.TopImage=""
as.ScrollBarImageColor3=Color3.fromRGB(70,70,70)
as.ScrollBarImageTransparency=0
as.ZIndex=2
as.BorderSizePixel=0newlocal av=ab.ScrollBar.new()
av.Gui.Parent=ar.GuiElems.Content
av.Gui.Size=UDim2.new(1,0,1,-40)
av.Gui.Up.ZIndex=3
av.Gui.Down.ZIndex=3newas:GetPropertyChangedSignal"AbsoluteWindowSize":Connect(function()
if as.AbsoluteCanvasSize~=as.AbsoluteWindowSize then
av.Gui.Visible=true
else
av.Gui.Visible=false
end
end)newlocal ax=a"UIListLayout"
ax.Parent=as
ax.Padding=UDim.new(0,5)newlocal ay=a"UIPadding"
ay.Parent=as
ay.PaddingBottom=UDim.new(0,5)
ay.PaddingLeft=UDim.new(0,10)
ay.PaddingRight=UDim.new(0,10)
ay.PaddingTop=UDim.new(0,5)newnewlocal aA=AddCheckbox("Decompile Scripts (LocalScript and ModuleScript)",au.Decompile)
aA.OnInput:Connect(function()
au.Decompile=aA.Toggled
end)newlocal aB=AddTextbox("Decompile Timeout (s)",au.DecompileTimeout,15)
aB.TextBox.FocusLost:Connect(function()
au.DecompileTimeout=tonumber(aB.TextBox.Text)
end)newlocal aC=AddTextbox("Decompiler Max Threads","3",15)
aC.TextBox.FocusLost:Connect(function()
au.MaxThreads=tonumber(aC.TextBox.Text)
end)newlocal aD=AddTextbox("Decompile Ignore",table.concat(au.DecompileIgnore,","),50)
aD.TextBox.FocusLost:Connect(function()
local aF=aD.TextBox.Text
local aG=string.split(aF,", ")or string.split(aF,",")
local aH={}newfor aI,aJ in ipairs(aG)do
local h=string.split(aJ,",")or string.split(aJ,", ")
for i,j in ipairs(h)do
table.insert(aH,j)
end
end
au.DecompileIgnore=aH
end)new
local aF=AddCheckbox("Save Nil Instances",au.NilInstances)
aF.OnInput:Connect(function()
au.NilInstances=aF.Toggled
end)newlocal aG=AddCheckbox("Remove Player Characters",au.RemovePlayerCharacters)
aG.OnInput:Connect(function()
au.RemovePlayerCharacters=aG.Toggled
end)newlocal aH=AddCheckbox("Save Player Instance",au.SavePlayers)
aH.OnInput:Connect(function()
au.SavePlayers=aH.Toggled
end)newlocal aI=AddCheckbox("Isolate StarterPlayer",au.IsolateStarterPlayer)
aI.OnInput:Connect(function()
au.IsolateStarterPlayer=aI.Toggled
end)newlocal aJ=AddCheckbox("Ignore Default Properties",au.IgnoreDefaultProps)
aJ.OnInput:Connect(function()
au.IgnoreDefaultProps=aJ.Toggled
end)newlocal h=AddCheckbox("Show Status",au.ShowStatus)
h.OnInput:Connect(function()
au.ShowStatus=h.Toggled
end)newnewlocal i=ab.ViewportTextBox.new()
i.Gui.Parent=ar.GuiElems.Content
i.Size=UDim2.new(1,0,0,20)
i.Position=UDim2.new(0,0,1,-40)newlocal j=a"UIPadding"
j.Parent=i.Gui
j.PaddingLeft=UDim.new(0,5)
j.PaddingRight=UDim.new(0,5)newlocal k=ab.Frame.new()
k.Gui.Parent=ar.GuiElems.Content
k.Size=UDim2.new(1,0,0,20)
k.Position=UDim2.new(0,0,1,-20)newlocal l=ab.Label.new()
l.Gui.Parent=ar.GuiElems.Content
l.Size=UDim2.new(1,0,0,20)
l.Position=UDim2.new(0,0,1,-20)
l.Gui.Text="Save"
l.Gui.TextXAlignment=Enum.TextXAlignment.Centernewlocal m=a"TextButton"
m.Parent=k.Gui
m.Size=UDim2.new(1,0,1,0)
m.Position=UDim2.new(0,0,0,0)
m.Transparency=1newi.TextBox.Text=at
m.MouseButton1Click:Connect(function()
local n=i.TextBox.Text:gsub("{TIMESTAMP}",os.date"%d-%m-%Y_%H-%M-%S")
ar:SetTitle"Save Instance - Saving"
local o,p=pcall(ak.saveinstance,g,ak.parsefile(n),au)
if o then
ar:SetTitle"Save Instance - Saved"
else
ar:SetTitle"Save Instance - Error"
task.spawn(error("Failed to save the game: "..p))
end
task.wait(5)
ar:SetTitle"Save Instance"
end)
endnewreturn aq
endnewreturn{InitDeps=initDeps,InitAfterMain=initAfterMain,Main=main}
end
}newnewnew
DefaultSettings=(function()
local ab=Color3.fromRGB
return{
Explorer={
_Recurse=true,
Sorting=true,
TeleportToOffset=Vector3.new(0,0,0),
ClickToRename=true,
AutoUpdateSearch=true,
AutoUpdateMode=0,
PartSelectionBox=true,
GuiSelectionBox=true,
CopyPathUseGetChildren=true
},
Properties={
_Recurse=true,
MaxConflictCheck=50,
ShowDeprecated=false,
ShowHidden=false,
ClearOnFocus=false,
LoadstringInput=true,
NumberRounding=3,
ShowAttributes=false,
MaxAttributes=50,
ScaleType=1
},
Theme={
_Recurse=true,
Main1=ab(52,52,52),
Main2=ab(45,45,45),
Outline1=ab(33,33,33),
Outline2=ab(55,55,55),
Outline3=ab(30,30,30),
TextBox=ab(38,38,38),
Menu=ab(32,32,32),
ListSelection=ab(11,90,175),
Button=ab(60,60,60),
ButtonHover=ab(68,68,68),
ButtonPress=ab(40,40,40),
Highlight=ab(75,75,75),
Text=ab(255,255,255),
PlaceholderText=ab(100,100,100),
Important=ab(255,0,0),
ExplorerIconMap="",
MiscIconMap="",
Syntax={
Text=ab(204,204,204),
Background=ab(36,36,36),
Selection=ab(255,255,255),
SelectionBack=ab(11,90,175),
Operator=ab(204,204,204),
Number=ab(255,198,0),
String=ab(173,241,149),
Comment=ab(102,102,102),
Keyword=ab(248,109,124),
Error=ab(255,0,0),
FindBackground=ab(141,118,0),
MatchingWord=ab(85,85,85),
BuiltIn=ab(132,214,247),
CurrentLine=ab(45,50,65),
LocalMethod=ab(253,251,172),
LocalProperty=ab(97,161,241),
Nil=ab(255,198,0),
Bool=ab(255,198,0),
Function=ab(248,109,124),
Local=ab(248,109,124),
Self=ab(248,109,124),
FunctionName=ab(253,251,172),
Bracket=ab(204,204,204)
},
}
}
end)()new
local ab={}
local ac={}
local ad={}newlocal ae=e.Players.LocalPlayer or e.Players.PlayerAdded:wait()newlocal af=function(af)
local ag={}
for ah,ai in pairs(af)do ag[ai[1] ]=a(ai[2])endnewfor ah,ai in pairs(af)do
for aj,ak in pairs(ai[3])do
if type(ak)=="table"then
ag[ai[1] ][aj]=ag[ak[1] ]
else
ag[ai[1] ][aj]=ak
end
end
endnewreturn ag[1]
endnewlocal ag=function(ag,ah)
local ai=a(ag)
for aj,ak in next,ah do
ai[aj]=ak
end
return ai
endnewMain=(function()
local ah={}newah.ModuleList={"Explorer","Properties","ScriptViewer","Console","SaveInstance"}
ah.Elevated=false
ah.MissingEnv={}
ah.Version=""
ah.Mouse=ae:GetMouse()
ah.AppControls={}
ah.Apps=ac
ah.MenuApps={}newah.DisplayOrders={
SideWindow=8,
Window=10,
Menu=100000,
Core=101000
}newah.GetInitDeps=function()
return{
Main=ah,
Lib=Lib,
Apps=ac,
Settings=ab,newAPI=API,
RMD=RMD,
env=ad,
service=e,
plr=ae,
create=af,
createSimple=ag
}
endnewah.Error=function(ai)
if rconsoleprint then
rconsoleprint("DEX ERROR: "..tostring(ai).."\n")
wait(9e9)
else
error(ai)
end
endnewah.LoadModule=function(ai)newnewnewnewnewnewnewnewnewnewnewnewnewnewlocal ajnewif aa then
aj=aa[ai]()newif not aj then ah.Error("Missing Embedded Module: "..ai)end
endnewah.AppControls[ai]=aj
aj.InitDeps(ah.GetInitDeps())newlocal ak=aj.Main()
ac[ai]=ak
return ak
endnewah.LoadModules=function()
for ai,aj in pairs(ah.ModuleList)do
local ak,am=pcall(ah.LoadModule,aj)
if not ak then
ah.Error(("FAILED LOADING %s CAUSE %s"):format(aj,am))
end
endnew
Explorer=ac.Explorer
Properties=ac.Properties
ScriptViewer=ac.ScriptViewer
Console=ac.Console
SaveInstance=ac.SaveInstance
Notebook=ac.Notebook
local ai={
Explorer=Explorer,
Properties=Properties,
ScriptViewer=ScriptViewer,
Console=Console,
SaveInstance=SaveInstance,
Notebook=Notebook
}newah.AppControls.Lib.InitAfterMain(ai)
for aj,ak in pairs(ah.ModuleList)do
local am=ah.AppControls[ak]
if am then
am.InitAfterMain(ai)
end
end
endnewah.InitEnv=function()
setmetatable(ad,{__newindex=function(ai,aj,ak)
if not ak then ah.MissingEnv[#ah.MissingEnv+1]=aj return end
rawset(ai,aj,ak)
end})new
ad.readfile=missing("function",readfile)
ad.writefile=missing("function",writefile)
ad.appendfile=missing("function",appendfile)
ad.makefolder=missing("function",makefolder)
ad.listfiles=missing("function",listfiles)
ad.loadfile=missing("function",loadfile)
ad.movefileas=missing("function",movefileas)
ad.saveinstance=missing("function",saveinstance)or(function()newlocal ai,aj=pcall(function()
return loadstring(f:HttpGet"https://raw.githubusercontent.com/luau/SynSaveInstance/main/saveinstance.luau")()
end)
return ai and aj or nil
end)()
ad.parsefile=function(ai)
return tostring(ai):gsub("[*\\?:<>|]+",""):sub(1,175)
endnew
ad.getupvalues=missing("function",(debug and debug.getupvalues)or getupvalues or getupvals)
ad.getconstants=missing("function",(debug and debug.getconstants)or getconstants or getconsts)
ad.getinfo=missing("function",(debug and(debug.getinfo or debug.info))or getinfo)
ad.islclosure=missing("function",islclosure or is_l_closure or is_lclosure)
ad.checkcaller=missing("function",checkcaller)newad.getgc=missing("function",getgc or get_gc_objects)newad.getscriptbytecode=missing("function",getscriptbytecode)newnewad.request=missing("function",request or http_request or(syn and syn.request)or(http and http.request)or(fluxus and fluxus.request))
ad.decompile=missing("function",decompile)or(ad.getscriptbytecode and ad.request and(function()local
ai=pcall(function()
loadstring(f:HttpGet"https://raw.githubusercontent.com/infyiff/backup/refs/heads/main/konstant.lua")()
end)newreturn(ai and decompile)or nil
end)())
ad.isViableDecompileScript=function(ai)
if ai:IsA"ModuleScript"then
return true
elseif ai:IsA"LocalScript"and(ai.RunContext==Enum.RunContext.Client or ai.RunContext==Enum.RunContext.Legacy)then
return true
elseif ai:IsA"Script"and ai.RunContext==Enum.RunContext.Client then
return true
end
return false
end
ad.protectgui=missing("function",protect_gui or(syn and syn.protect_gui))
ad.gethui=missing("function",gethui or get_hidden_gui)
ad.setclipboard=missing("function",setclipboard or toclipboard or set_clipboard or(Clipboard and Clipboard.set))
ad.getnilinstances=missing("function",getnilinstances or get_nil_instances)
ad.getloadedmodules=missing("function",getloadedmodules)newad.executor=(function()
local ai=identifyexecutor or getexecutorname or whatexecutor
local aj,ak=pcall(function()
return tostring(ai())
end)
return aj and ak or"Your executor"
end)()newah.GuiHolder=ah.Elevated and e.CoreGui or ae:FindFirstChildWhichIsA"PlayerGui"newsetmetatable(ad,nil)
endnewah.LoadSettings=function()
local ai,aj=pcall(ad.readfile or error,"DexSettings.json")
if ai and aj and aj~=""then
local ak,am=e.HttpService:JSONDecode(aj)
if ak and am then
for an,ao in next,am donewendnew
end
else
ah.ResetSettings()
end
endnewah.ResetSettings=function()
local function recur(ai,aj)
for ak,am in pairs(ai)do
if type(am)=="table"and am._Recurse then
if type(aj[ak])~="table"then
aj[ak]={}
end
recur(am,aj[ak])
else
aj[ak]=am
end
end
return aj
end
recur(DefaultSettings,ab)
endnewlocal function jsonDecode(ai)
local aj,ak=pcall(e.HttpService.JSONDecode,e.HttpService,ai)
return aj and ak or aj
endnewah.FetchAPI=function()
local ai,aj
if ah.Elevated then
if ah.LocalDepsUpToDate()then
local ak=Lib.ReadFile"dex/rbx_api.dat"
if ak then
aj=ak
else
ah.DepsVersionData[1]=""
end
end
aj=aj or f:HttpGet("http://setup.roblox.com/"..ah.RobloxVersion.."-API-Dump.json")
else
if script:FindFirstChild"API"then
aj=require(script.API)
else
error"NO API EXISTS"
end
end
ah.RawAPI=aj
ai=jsonDecode(aj)new
if not ai then
aj=f:HttpGet"https://raw.githubusercontent.com/infyiff/backup/refs/heads/main/rbx_api.dat"
ah.RawAPI=aj
ai=jsonDecode(aj)
endnewlocal ak,am={},{}
local an,ao={},{}newlocal function insertAbove(ap,aq,ar)
local as=table.find(ap,aq)
if not as then return end
table.remove(ap,as)newlocal at=table.find(ap,ar)
if not at then return end
table.insert(ap,at,aq)
endnewfor ap,aq in pairs(ai.Classes)do
local ar={}
ar.Name=aq.Name
ar.Superclass=aq.Superclass
ar.Properties={}
ar.Functions={}
ar.Events={}
ar.Callbacks={}
ar.Tags={}newif aq.Tags then for as,at in pairs(aq.Tags)do ar.Tags[at]=true end end
for as,at in pairs(aq.Members)do
local au={}
au.Name=at.Name
au.Class=aq.Name
au.Security=at.Security
au.Tags={}
if at.Tags then for av,ax in pairs(at.Tags)do au.Tags[ax]=true end endnewlocal av=at.MemberType
if av=="Property"then
local ax=at.Category or"Other"
ax=ax:match"^%s*(.-)%s*$"
if not ao[ax]then
an[#an+1]=ax
ao[ax]=true
end
au.ValueType=at.ValueType
au.Category=ax
au.Serialization=at.Serialization
table.insert(ar.Properties,au)
elseif av=="Function"then
au.Parameters={}
au.ReturnType=at.ReturnType.Name
for ax,ay in pairs(at.Parameters)do
table.insert(au.Parameters,{Name=ay.Name,Type=ay.Type.Name})
end
table.insert(ar.Functions,au)
elseif av=="Event"then
au.Parameters={}
for ax,ay in pairs(at.Parameters)do
table.insert(au.Parameters,{Name=ay.Name,Type=ay.Type.Name})
end
table.insert(ar.Events,au)
end
endnewak[aq.Name]=ar
endnewfor ap,aq in pairs(ak)do
aq.Superclass=ak[aq.Superclass]
endnewfor ap,aq in pairs(ai.Enums)do
local ar={}
ar.Name=aq.Name
ar.Items={}
ar.Tags={}newif aq.Tags then for as,at in pairs(aq.Tags)do ar.Tags[at]=true end end
for as,at in pairs(aq.Items)do
local au={}
au.Name=at.Name
au.Value=at.Value
table.insert(ar.Items,au)
endnewam[aq.Name]=ar
endnewlocal function getMember(ap,aq)
if not ak[ap]or not ak[ap][aq]then return end
local ar={}newlocal as=ak[ap]
while as do
for at,au in pairs(as[aq])do
ar[#ar+1]=au
end
as=as.Superclass
endnewtable.sort(ar,function(at,au)return at.Name<au.Name end)
return ar
endnewinsertAbove(an,"Behavior","Tuning")
insertAbove(an,"Appearance","Data")
insertAbove(an,"Attachments","Axes")
insertAbove(an,"Cylinder","Slider")
insertAbove(an,"Localization","Jump Settings")
insertAbove(an,"Surface","Motion")
insertAbove(an,"Surface Inputs","Surface")
insertAbove(an,"Part","Surface Inputs")
insertAbove(an,"Assembly","Surface Inputs")
insertAbove(an,"Character","Controls")
an[#an+1]="Unscriptable"
an[#an+1]="Attributes"newlocal ap={}
for aq=1,#an do
ap[an[aq] ]=aq
endnewreturn{
Classes=ak,
Enums=am,
CategoryOrder=ap,
GetMember=getMember
}
endnewah.FetchRMD=function()
local ai
if ah.Elevated then
if ah.LocalDepsUpToDate()then
local aj=Lib.ReadFile"dex/rbx_rmd.dat"
if aj then
ai=aj
else
ah.DepsVersionData[1]=""
end
end
ai=ai or f:HttpGet"https://raw.githubusercontent.com/CloneTrooper1019/Roblox-Client-Tracker/roblox/ReflectionMetadata.xml"
else
if script:FindFirstChild"RMD"then
ai=require(script.RMD)
else
error"NO RMD EXISTS"
end
end
ah.RawRMD=ai
local aj=Lib.ParseXML(ai)
local ak=aj.children[1].children[1].children
local am=aj.children[1].children[2].children
local an={}newlocal ao,ap={},{}
for aq,ar in pairs(ak)do
local as=""
for at,au in pairs(ar.children)do
if au.tag=="Properties"then
local av={Properties={},Functions={}}
local ax=au.children
for ay,aA in pairs(ax)do
local aB=aA.attrs.name
aB=aB:sub(1,1):upper()..aB:sub(2)
av[aB]=aA.children[1].text
end
as=av.Name
ao[as]=av
elseif au.attrs.class=="ReflectionMetadataProperties"then
local av=au.children
for ax,ay in pairs(av)do
if ay.attrs.class=="ReflectionMetadataMember"then
local aA={}
if ay.children[1].tag=="Properties"then
local aB=ay.children[1].children
for aC,aD in pairs(aB)do
if aD.attrs then
local aF=aD.attrs.name
aF=aF:sub(1,1):upper()..aF:sub(2)
aA[aF]=aD.children[1].text
end
end
if aA.PropertyOrder then
local aC=an[as]
if not aC then aC={}an[as]=aC end
aC[aA.Name]=tonumber(aA.PropertyOrder)
end
ao[as].Properties[aA.Name]=aA
end
end
end
elseif au.attrs.class=="ReflectionMetadataFunctions"then
local av=au.children
for ax,ay in pairs(av)do
if ay.attrs.class=="ReflectionMetadataMember"then
local aA={}
if ay.children[1].tag=="Properties"then
local aB=ay.children[1].children
for aC,aD in pairs(aB)do
if aD.attrs then
local aF=aD.attrs.name
aF=aF:sub(1,1):upper()..aF:sub(2)
aA[aF]=aD.children[1].text
end
end
ao[as].Functions[aA.Name]=aA
end
end
end
end
end
endnewfor aq,ar in pairs(am)do
local as=""
for at,au in pairs(ar.children)do
if au.tag=="Properties"then
local av={Items={}}
local ax=au.children
for ay,aA in pairs(ax)do
local aB=aA.attrs.name
aB=aB:sub(1,1):upper()..aB:sub(2)
av[aB]=aA.children[1].text
end
as=av.Name
ap[as]=av
elseif au.attrs.class=="ReflectionMetadataEnumItem"then
local av={}
if au.children[1].tag=="Properties"then
local ax=au.children[1].children
for ay,aA in pairs(ax)do
local aB=aA.attrs.name
aB=aB:sub(1,1):upper()..aB:sub(2)
av[aB]=aA.children[1].text
end
ap[as].Items[av.Name]=av
end
end
end
endnewreturn{Classes=ao,Enums=ap,PropertyOrders=an}
endnewah.ShowGui=function(ai)
if ad.gethui then
ai.Parent=ad.gethui()
elseif ad.protectgui then
ad.protectgui(ai)
ai.Parent=ah.GuiHolder
else
ai.Parent=ah.GuiHolder
end
endnewah.CreateIntro=function(ai)
local aj=af{
{1,"ScreenGui",{Name="Intro",}},
{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="Main",Parent={1},Position=UDim2.new(0.5,-175,0.5,-100),Size=UDim2.new(0,350,0,200),}},
{3,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Holder",Parent={2},Size=UDim2.new(1,0,1,0),}},
{4,"UIGradient",{Parent={3},Rotation=30,Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0),},}},
{5,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=4,Name="Title",Parent={3},Position=UDim2.new(0,-190,0,15),Size=UDim2.new(0,100,0,50),Text="Dex",TextColor3=Color3.new(1,1,1),TextSize=50,TextTransparency=1,}},
{6,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Desc",Parent={3},Position=UDim2.new(0,-230,0,60),Size=UDim2.new(0,180,0,25),Text="Ultimate Debugging Suite",TextColor3=Color3.new(1,1,1),TextSize=18,TextTransparency=1,}},
{7,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="StatusText",Parent={3},Position=UDim2.new(0,20,0,110),Size=UDim2.new(0,180,0,25),Text="Fetching API",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=1,}},
{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ProgressBar",Parent={3},Position=UDim2.new(0,110,0,145),Size=UDim2.new(0,0,0,4),}},
{9,"Frame",{BackgroundColor3=Color3.new(0.2392156869173,0.56078433990479,0.86274510622025),BorderSizePixel=0,Name="Bar",Parent={8},Size=UDim2.new(0,0,1,0),}},
{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://2764171053",ImageColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),Parent={8},ScaleType=1,Size=UDim2.new(1,0,1,0),SliceCenter=Rect.new(2,2,254,254),}},
{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Creator",Parent={2},Position=UDim2.new(1,-110,1,-20),Size=UDim2.new(0,105,0,20),Text="Developed by Moon",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=1,}},
{12,"UIGradient",{Parent={11},Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0),},}},
{13,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Version",Parent={2},Position=UDim2.new(1,-110,1,-35),Size=UDim2.new(0,105,0,20),Text=ah.Version,TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=1,}},
{14,"UIGradient",{Parent={13},Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0),},}},
{15,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1427967925",Name="Outlines",Parent={2},Position=UDim2.new(0,-5,0,-5),ScaleType=1,Size=UDim2.new(1,10,1,10),SliceCenter=Rect.new(6,6,25,25),TileSize=UDim2.new(0,20,0,20),}},
{16,"UIGradient",{Parent={15},Rotation=-30,Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0),},}},
{17,"UIGradient",{Parent={2},Rotation=-30,Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0),},}},
}
ah.ShowGui(aj)
local ak=aj.Main.UIGradient
local am=aj.Main.Outlines.UIGradient
local an=aj.Main.Holder.UIGradient
local ao=aj.Main.Holder.Title
local ap=aj.Main.Holder.Desc
local aq=aj.Main.Version
local ar=aq.UIGradient
local as=aj.Main.Creator
local at=as.UIGradient
local au=aj.Main.Holder.StatusText
local av=aj.Main.Holder.ProgressBar
local ax=e.TweenServicenewlocal ay=e.RunService.RenderStepped
local aA=ay.wait
local aB=function(aB)
if not aB then return aA(ay)end
local aC=tick()
while tick()-aC<aB do aA(ay)end
endnewau.Text=ainewlocal function tweenNumber(aC,aD,aF)
local aG=a"IntValue"
aG.Value=0
aG.Changed:Connect(aF)
local aH=ax:Create(aG,aD,{Value=aC})
aH:Play()
aH.Completed:Connect(function()
aG:Destroy()
end)
endnewlocal aC=TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)
tweenNumber(100,aC,function(aD)
aD=aD/200
local aF=NumberSequenceKeypoint.new(0,0)
local aG=NumberSequenceKeypoint.new(aD,0)
local aH=NumberSequenceKeypoint.new(math.min(0.5,aD+math.min(0.05,aD)),1)
if aG.Time==aH.Time then aH=aG end
local aI=NumberSequenceKeypoint.new(1-aD,0)
local aJ=NumberSequenceKeypoint.new(math.max(0.5,1-aD-math.min(0.05,aD)),1)
if aI.Time==aJ.Time then aJ=aI end
local h=NumberSequenceKeypoint.new(1,0)
ak.Transparency=NumberSequence.new{aF,aG,aH,aJ,aI,h}
am.Transparency=NumberSequence.new{aF,aG,aH,aJ,aI,h}
end)newaB(0.4)newtweenNumber(100,aC,function(aD)
aD=aD/166.66
local aF=NumberSequenceKeypoint.new(0,0)
local aG=NumberSequenceKeypoint.new(aD,0)
local aH=NumberSequenceKeypoint.new(aD+0.01,1)
local aI=NumberSequenceKeypoint.new(1,1)
an.Transparency=NumberSequence.new{aF,aG,aH,aI}
end)newax:Create(ao,aC,{Position=UDim2.new(0,60,0,15),TextTransparency=0}):Play()
ax:Create(ap,aC,{Position=UDim2.new(0,20,0,60),TextTransparency=0}):Play()newlocal function rightTextTransparency(aD)
tweenNumber(100,aC,function(aF)
aF=aF/100
local aG=NumberSequenceKeypoint.new(1-aF,0)
local aH=NumberSequenceKeypoint.new(math.max(0,1-aF-0.01),1)
if aG.Time==aH.Time then aH=aG end
local aI=NumberSequenceKeypoint.new(0,aG==aH and 0 or 1)
local aJ=NumberSequenceKeypoint.new(1,0)
aD.Transparency=NumberSequence.new{aI,aH,aG,aJ}
end)
end
rightTextTransparency(ar)
rightTextTransparency(at)newaB(0.9)newlocal aD=TweenInfo.new(0.25,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)newax:Create(au,aD,{Position=UDim2.new(0,20,0,120),TextTransparency=0}):Play()
ax:Create(av,aD,{Position=UDim2.new(0,60,0,145),Size=UDim2.new(0,100,0,4)}):Play()newaB(0.25)newlocal function setProgress(aF,aG)
au.Text=aF
ax:Create(av.Bar,aD,{Size=UDim2.new(aG,0,1,0)}):Play()
endnewlocal function close()
ax:Create(ao,aD,{TextTransparency=1}):Play()
ax:Create(ap,aD,{TextTransparency=1}):Play()
ax:Create(aq,aD,{TextTransparency=1}):Play()
ax:Create(as,aD,{TextTransparency=1}):Play()
ax:Create(au,aD,{TextTransparency=1}):Play()
ax:Create(av,aD,{BackgroundTransparency=1}):Play()
ax:Create(av.Bar,aD,{BackgroundTransparency=1}):Play()
ax:Create(av.ImageLabel,aD,{ImageTransparency=1}):Play()newtweenNumber(100,TweenInfo.new(0.4,Enum.EasingStyle.Back,Enum.EasingDirection.In),function(aF)
aF=aF/250
local aG=NumberSequenceKeypoint.new(0,0)
local aH=NumberSequenceKeypoint.new(0.6+aF,0)
local aI=NumberSequenceKeypoint.new(math.min(1,0.601+aF),1)
if aH.Time==aI.Time then aI=aH end
local aJ=NumberSequenceKeypoint.new(1,aH==aI and 0 or 1)
an.Transparency=NumberSequence.new{aG,aH,aI,aJ}
end)newaB(0.5)
aj.Main.BackgroundTransparency=1
am.Rotation=30newtweenNumber(100,aC,function(aF)
aF=aF/100
local aG=NumberSequenceKeypoint.new(0,1)
local aH=NumberSequenceKeypoint.new(aF,1)
local aI=NumberSequenceKeypoint.new(math.min(1,aF+math.min(0.05,aF)),0)
if aH.Time==aI.Time then aI=aH end
local aJ=NumberSequenceKeypoint.new(1,aH==aI and 1 or 0)
am.Transparency=NumberSequence.new{aG,aH,aI,aJ}
an.Transparency=NumberSequence.new{aG,aH,aI,aJ}
end)newaB(0.45)
aj:Destroy()
endnewreturn{SetProgress=setProgress,Close=close}
endnewah.CreateApp=function(ai)
if ah.MenuApps[ai.Name]then return end
local aj={}newlocal ak=ah.AppTemplate:Clone()newlocal am=ai.Icon
if ai.IconMap and am then
if type(am)=="number"then
ai.IconMap:Display(ak.Main.Icon,am)
elseif type(am)=="string"then
ai.IconMap:DisplayByKey(ak.Main.Icon,am)
end
elseif type(am)=="string"then
ak.Main.Icon.Image=am
else
ak.Main.Icon.Image=""
endnewlocal function updateState()
ak.Main.BackgroundTransparency=ai.Open and 0 or(Lib.CheckMouseInGui(ak.Main)and 0 or 1)
ak.Main.Highlight.Visible=ai.Open
endnewlocal function enable(an)
if ai.Open then return end
ai.Open=true
updateState()
if not an then
if ai.Window then ai.Window:Show()end
if ai.OnClick then ai.OnClick(ai.Open)end
end
endnewlocal function disable(an)
if not ai.Open then return end
ai.Open=false
updateState()
if not an then
if ai.Window then ai.Window:Hide()end
if ai.OnClick then ai.OnClick(ai.Open)end
end
endnewupdateState()newlocal an=e.TextService:GetTextSize(ai.Name,14,Enum.Font.SourceSans,Vector2.new(62,999999)).Y
ak.Main.Size=UDim2.new(1,0,0,math.clamp(46+an,60,74))
ak.Main.AppName.Text=ai.Namenewak.Main.InputBegan:Connect(function(ao)
if(ao.UserInputType==Enum.UserInputType.MouseMovement or ao.UserInputType==Enum.UserInputType.Touch)then
ak.Main.BackgroundTransparency=0
ak.Main.BackgroundColor3=ab.Theme.ButtonHover
end
end)newak.Main.InputEnded:Connect(function(ao)
if(ao.UserInputType==Enum.UserInputType.MouseMovement or ao.UserInputType==Enum.UserInputType.Touch)then
ak.Main.BackgroundTransparency=ai.Open and 0 or 1
ak.Main.BackgroundColor3=ab.Theme.Button
end
end)newak.Main.MouseButton1Click:Connect(function()
if ai.Open then disable()else enable()end
end)newlocal ao=ai.Window
if ao then
ao.OnActivate:Connect(function()enable(true)end)
ao.OnDeactivate:Connect(function()disable(true)end)
endnewak.Visible=true
ak.Parent=ah.AppsContainer
ah.AppsFrame.CanvasSize=UDim2.new(0,0,0,ah.AppsContainerGrid.AbsoluteCellCount.Y*82+8)newaj.Enable=enable
aj.Disable=disable
ah.MenuApps[ai.Name]=aj
return aj
endnewah.SetMainGuiOpen=function(ai)
ah.MainGuiOpen=ainewah.MainGui.OpenButton.Text=ai and"X"or"Dex"
if ai then ah.MainGui.OpenButton.MainFrame.Visible=true end
ah.MainGui.OpenButton.MainFrame:TweenSize(ai and UDim2.new(0,224,0,200)or UDim2.new(0,0,0,0),Enum.EasingDirection.Out,Enum.EasingStyle.Quad,0.2,true)newe.TweenService:Create(ah.MainGui.OpenButton,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=ai and 0 or(Lib.CheckMouseInGui(ah.MainGui.OpenButton)and 0 or 0.2)}):Play()newif ah.MainGuiMouseEvent then ah.MainGuiMouseEvent:Disconnect()endnewif not ai then
local aj=tick()
ah.MainGuiCloseTime=aj
coroutine.wrap(function()
Lib.FastWait(0.2)
if not ah.MainGuiOpen and aj==ah.MainGuiCloseTime then ah.MainGui.OpenButton.MainFrame.Visible=false end
end)()
else
ah.MainGuiMouseEvent=e.UserInputService.InputBegan:Connect(function(aj)
if(aj.UserInputType==Enum.UserInputType.MouseButton1 or aj.UserInputType==Enum.UserInputType.Touch)and not Lib.CheckMouseInGui(ah.MainGui.OpenButton)and not Lib.CheckMouseInGui(ah.MainGui.OpenButton.MainFrame)thennewah.SetMainGuiOpen(false)
end
end)
end
endnewah.CreateMainGui=function()
local ai=af{
{1,"ScreenGui",{IgnoreGuiInset=true,Name="MainMenu",}},
{2,"TextButton",{AnchorPoint=Vector2.new(0.5,0),AutoButtonColor=false,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,Font=4,Name="OpenButton",Parent={1},Position=UDim2.new(0.5,0,0,2),Size=UDim2.new(0,32,0,32),Text="Dex",TextColor3=Color3.new(1,1,1),TextSize=16,TextTransparency=0.20000000298023,}},
{3,"UICorner",{CornerRadius=UDim.new(0,4),Parent={2},}},
{4,"Frame",{AnchorPoint=Vector2.new(0.5,0),BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),ClipsDescendants=true,Name="MainFrame",Parent={2},Position=UDim2.new(0.5,0,1,-4),Size=UDim2.new(0,224,0,200),}},
{5,"UICorner",{CornerRadius=UDim.new(0,4),Parent={4},}},
{6,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),Name="BottomFrame",Parent={4},Position=UDim2.new(0,0,1,-24),Size=UDim2.new(1,0,0,24),}},
{7,"UICorner",{CornerRadius=UDim.new(0,4),Parent={6},}},
{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="CoverFrame",Parent={6},Size=UDim2.new(1,0,0,4),}},
{9,"Frame",{BackgroundColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),BorderSizePixel=0,Name="Line",Parent={8},Position=UDim2.new(0,0,0,-1),Size=UDim2.new(1,0,0,1),}},
{10,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Settings",Parent={6},Position=UDim2.new(1,-48,0,0),Size=UDim2.new(0,24,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{11,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6578871732",ImageTransparency=0.20000000298023,Name="Icon",Parent={10},Position=UDim2.new(0,4,0,4),Size=UDim2.new(0,16,0,16),}},
{12,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Information",Parent={6},Position=UDim2.new(1,-24,0,0),Size=UDim2.new(0,24,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,}},
{13,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6578933307",ImageTransparency=0.20000000298023,Name="Icon",Parent={12},Position=UDim2.new(0,4,0,4),Size=UDim2.new(0,16,0,16),}},
{14,"ScrollingFrame",{Active=true,AnchorPoint=Vector2.new(0.5,0),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),BorderSizePixel=0,Name="AppsFrame",Parent={4},Position=UDim2.new(0.5,0,0,0),ScrollBarImageColor3=Color3.new(0,0,0),ScrollBarThickness=4,Size=UDim2.new(0,222,1,-25),}},
{15,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="Container",Parent={14},Position=UDim2.new(0,7,0,8),Size=UDim2.new(1,-14,0,2),}},
{16,"UIGridLayout",{CellSize=UDim2.new(0,66,0,74),Parent={15},SortOrder=2,}},
{17,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="App",Parent={1},Size=UDim2.new(0,100,0,100),Visible=false,}},
{18,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderSizePixel=0,Font=3,Name="Main",Parent={17},Size=UDim2.new(1,0,0,60),Text="",TextColor3=Color3.new(0,0,0),TextSize=14,}},
{19,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6579106223",ImageRectSize=Vector2.new(32,32),Name="Icon",Parent={18},Position=UDim2.new(0.5,-16,0,4),ScaleType=4,Size=UDim2.new(0,32,0,32),}},
{20,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="AppName",Parent={18},Position=UDim2.new(0,2,0,38),Size=UDim2.new(1,-4,1,-40),Text="Explorer",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextWrapped=true,TextYAlignment=0,}},
{21,"Frame",{BackgroundColor3=Color3.new(0,0.66666668653488,1),BorderSizePixel=0,Name="Highlight",Parent={18},Position=UDim2.new(0,0,1,-2),Size=UDim2.new(1,0,0,2),}},
}
ah.MainGui=ai
ah.AppsFrame=ai.OpenButton.MainFrame.AppsFrame
ah.AppsContainer=ah.AppsFrame.Container
ah.AppsContainerGrid=ah.AppsContainer.UIGridLayout
ah.AppTemplate=ai.App
ah.MainGuiOpen=falsenewlocal aj=ai.OpenButton
aj.BackgroundTransparency=0.2
aj.MainFrame.Size=UDim2.new(0,0,0,0)
aj.MainFrame.Visible=false
aj.MouseButton1Click:Connect(function()
ah.SetMainGuiOpen(not ah.MainGuiOpen)
end)newaj.InputBegan:Connect(function(ak)
if ak.UserInputType==Enum.UserInputType.MouseMovement or ak.UserInputType==Enum.UserInputType.Touch then
e.TweenService:Create(ah.MainGui.OpenButton,TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=0}):Play()
end
end)newaj.InputEnded:Connect(function(ak)
if ak.UserInputType==Enum.UserInputType.MouseMovement or ak.UserInputType==Enum.UserInputType.Touch then
e.TweenService:Create(ah.MainGui.OpenButton,TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=ah.MainGuiOpen and 0 or 0.2}):Play()
end
end)new
ah.CreateApp{Name="Explorer",IconMap=ah.LargeIcons,Icon="Explorer",Open=true,Window=Explorer.Window}newah.CreateApp{Name="Properties",IconMap=ah.LargeIcons,Icon="Properties",Open=true,Window=Properties.Window}newah.CreateApp{Name="Script Viewer",IconMap=ah.LargeIcons,Icon="Script_Viewer",Window=ScriptViewer.Window}newlocal ak
ah.CreateApp{Name="Click part to select",IconMap=ah.LargeIcons,Icon=6,OnClick=function(am)
if am then
local an=ah.Mouse
ak=an.Button1Down:Connect(function()
pcall(function()
local ao=an.Target
if b[ao]then
c:Set(b[ao])
Explorer.ViewNode(b[ao])
end
end)
end)
else if ak~=nil then ak:Disconnect()ak=nil end end
end}newah.CreateApp{Name="Console",IconMap=ah.LargeIcons,Icon="Output",Window=Console.Window}newah.CreateApp{Name="Save Instance",IconMap=ah.LargeIcons,Icon="Watcher",Window=SaveInstance.Window}newLib.ShowGui(ai)
endnewah.SetupFilesystem=function()
if not ad.writefile or not ad.makefolder then return end local
ai, aj=ad.writefile, ad.makefolder
aj"dex"
aj"dex/assets"
aj"dex/saved"
aj"dex/plugins"
aj"dex/ModuleCache"
endnewah.LocalDepsUpToDate=function()
return ah.DepsVersionData and ah.ClientVersion==ah.DepsVersionData[1]
endnewah.Init=function()
ah.Elevated=pcall(function()e.CoreGui:GetFullName()end)
ah.InitEnv()
ah.LoadSettings()
ah.SetupFilesystem()new
local ai=ah.CreateIntro"Initializing Library"
Lib=ah.LoadModule"Lib"
Lib.FastWait()newnewnewah.MiscIcons=Lib.IconMap.new("http://www.roblox.com/asset/?id=6511490623",256,256,16,16)newah.MiscIcons:SetDict{Reference=
0;Cut=
1;Cut_Disabled=
2;Copy=
3;Copy_Disabled=
4;Paste=
5;Paste_Disabled=
6;Delete=
7;Delete_Disabled=
8;Group=
9;Group_Disabled=
10;Ungroup=
11;Ungroup_Disabled=
12;TeleportTo=
13;Rename=
14;JumpToParent=
15;ExploreData=
16;Save=
17;CallFunction=
18;CallRemote=
19;Undo=
20,Undo_Disabled=
21;Redo=
22;Redo_Disabled=
23;Expand_Over=
24;Expand=
25;Collapse_Over=
26;Collapse=
27;SelectChildren=
28;SelectChildren_Disabled=
29;InsertObject=
30;ViewScript=
31;AddStar=
32;RemoveStar=
33;Script_Disabled=
34;LocalScript_Disabled=
35;Play=
36;Pause=
37;Rename_Disabled=
38;
}
ah.LargeIcons=Lib.IconMap.new("rbxassetid://6579106223",256,256,32,32)
ah.LargeIcons:SetDict{
Explorer=0,Properties=1,Script_Viewer=2,Watcher=3,Output=4
}new
ai.SetProgress("Fetching Roblox Version",0.2)
if ah.Elevated then
local aj=Lib.ReadFile"dex/deps_version.dat"
ah.ClientVersion=Version()newif aj then
ah.DepsVersionData=string.split(aj,"\n")
if ah.LocalDepsUpToDate()then
ah.RobloxVersion=ah.DepsVersionData[2]
end
end
ah.RobloxVersion=ah.RobloxVersion or f:HttpGet"http://setup.roblox.com/versionQTStudio"new
if#ah.RobloxVersion<1 then
ah.RobloxVersion=f:HttpGet"https://raw.githubusercontent.com/infyiff/backup/refs/heads/main/deps_version.dat":gsub("%s+","")
end
endnew
ai.SetProgress("Fetching API",0.35)
API=ah.FetchAPI()
Lib.FastWait()
ai.SetProgress("Fetching RMD",0.5)
RMD=ah.FetchRMD()
Lib.FastWait()new
if ah.Elevated and ad.writefile and not ah.LocalDepsUpToDate()then
ad.writefile("dex/deps_version.dat",ah.ClientVersion.."\n"..ah.RobloxVersion)
ad.writefile("dex/rbx_api.dat",ah.RawAPI)
ad.writefile("dex/rbx_rmd.dat",ah.RawRMD)
endnew
ai.SetProgress("Loading Modules",0.75)
ah.AppControls.Lib.InitDeps(ah.GetInitDeps())
ah.LoadModules()
Lib.FastWait()new
ai.SetProgress("Initializing Modules",0.9)
Explorer.Init()
Properties.Init()
ScriptViewer.Init()
Console.Init()
SaveInstance.Init()
Lib.FastWait()new
ai.SetProgress("Complete",1)
coroutine.wrap(function()
Lib.FastWait(1.25)
ai.Close()
end)()new
Lib.Window.Init()
ah.CreateMainGui()
Explorer.Window:Show{Align="right",Pos=1,Size=0.5,Silent=true}
Properties.Window:Show{Align="right",Pos=2,Size=0.5,Silent=true}
Lib.DeferFunc(function()Lib.Window.ToggleSide"right"end)
endnewreturn ah
end)()new
Main.Init()
